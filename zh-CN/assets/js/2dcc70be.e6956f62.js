(self.webpackChunkopen_docs=self.webpackChunkopen_docs||[]).push([[22724],{8269:(e,t,n)=>{e.exports={src:{srcSet:n.p+"assets/ideal-img/account1.8434347.621.png 621w",images:[{path:n.p+"assets/ideal-img/account1.8434347.621.png",width:621,height:571}],src:n.p+"assets/ideal-img/account1.8434347.621.png",toString:function(){return n.p+"assets/ideal-img/account1.8434347.621.png"},placeholder:void 0,width:621,height:571},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAJCAYAAAALpr0TAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA4UlEQVQYlTWQYU7DMAyFe2wk/sJfDjF+cACOwCWAaRQYDK0b1bq0XWo7+ZDTYunFTvzy/ORKNBHFSCmx3kXW9Q+bt5pTF1DLTGKIGpUXjpwz38eJ/bGjaQ6EfsRSRko/zURVw8zwGPpAjLHUOefSc07lo0WUEPqS4zQxiZByLkQfuyjORLn0kMV1CnIyxqiLYnJFKz5et2eetwN1IwUvX5HPQ8Qs/Y82LpNx99hyvdpxe//OzeqDq9Weh6eubKMQ/fBfJTQgoYPzLzC/zR4Xol98ZzoMhLZjbE+oKGruf/b4B6MYWkmP9SKWAAAAAElFTkSuQmCC"}},12274:(e,t,n)=>{e.exports={src:{srcSet:n.p+"assets/ideal-img/account2.ae2597e.676.png 676w",images:[{path:n.p+"assets/ideal-img/account2.ae2597e.676.png",width:676,height:264}],src:n.p+"assets/ideal-img/account2.ae2597e.676.png",toString:function(){return n.p+"assets/ideal-img/account2.ae2597e.676.png"},placeholder:void 0,width:676,height:264},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAECAYAAAC3OK7NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAjUlEQVQImTXNSwrCMBgA4d5IcKVYN4IKYpUi9bFyo/TWRXc+Ytomf4wmwgiCc4BvkuFkQzfNyHclqjZo67HOo7VGRPiXTJd70vGafFtyrR3nu6O6GForKKUwxuCcI/mJgzlZceDRCK14nH8TQ+ATAjFGQggk/dGKTm/GojjSNDXWvZCnR5TCniqiuv3WX2/WgmGEMF9mAAAAAElFTkSuQmCC"}},25786:(e,t,n)=>{e.exports={src:{srcSet:n.p+"assets/ideal-img/account3.87fd272.996.png 996w",images:[{path:n.p+"assets/ideal-img/account3.87fd272.996.png",width:996,height:306}],src:n.p+"assets/ideal-img/account3.87fd272.996.png",toString:function(){return n.p+"assets/ideal-img/account3.87fd272.996.png"},placeholder:void 0,width:996,height:306},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAADCAYAAACqPZ51AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAXElEQVQImQXBQQLCIAwAQf7/y148qLSkBpIQ6DpTWmtEOPLrSHfWhr037k4TISLITMrne6LaGRZU6eRaZC7OWjERhiqqSjleb+p14x7US8ic7OfBhhHaWXNiZvwB6YJ0LRXsvEQAAAAASUVORK5CYII="}},42034:(e,t,n)=>{e.exports={src:{srcSet:n.p+"assets/ideal-img/account4.6dec46b.119.png 119w",images:[{path:n.p+"assets/ideal-img/account4.6dec46b.119.png",width:119,height:18}],src:n.p+"assets/ideal-img/account4.6dec46b.119.png",toString:function(){return n.p+"assets/ideal-img/account4.6dec46b.119.png"},placeholder:void 0,width:119,height:18},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAACCAYAAABhYU3QAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAUklEQVQImR3KSw5AMBRAUQtpXxGkYUCTIiEV/wlh/6u5EoMzO5HYCt20SO1/ug9o12MaTz7MqKxAlCIS15HuD8lyYaaT9HiJ1xszbkg4SWz5xw/IvB7KcRTpEQAAAABJRU5ErkJggg=="}},83921:(e,t,n)=>{e.exports={src:{srcSet:n.p+"assets/ideal-img/account5.d859dc8.1024.png 1024w,"+n.p+"assets/ideal-img/account5.16e4267.1272.png 1272w",images:[{path:n.p+"assets/ideal-img/account5.d859dc8.1024.png",width:1024,height:989},{path:n.p+"assets/ideal-img/account5.16e4267.1272.png",width:1272,height:1228}],src:n.p+"assets/ideal-img/account5.d859dc8.1024.png",toString:function(){return n.p+"assets/ideal-img/account5.d859dc8.1024.png"},placeholder:void 0,width:1024,height:989},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAJCAYAAAALpr0TAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAoUlEQVQYlWWQ3Q6DIAyFff9H3NV2sWVZZCh/RVo5S7toNIY0nNKPQ8vwHj2cc1iWBSICEQYzm+69Y11X1FoxzIlRSjaQiOxQd80V1AsGZmrw3lvSWrPYNICDY0zIKVlBXTRUX56mMCPGuDspqMWu6wh+54wQwg5usEKnHl1qmKZpBzZYJz+BVLINU6icwMvU99sD/vVEHT8QZrD9pfz7PIA/hRNfmtqiBKEAAAAASUVORK5CYII="}},15998:(e,t,n)=>{e.exports={src:{srcSet:n.p+"assets/ideal-img/account6.301d47d.1024.png 1024w,"+n.p+"assets/ideal-img/account6.862ef21.2220.png 2220w",images:[{path:n.p+"assets/ideal-img/account6.301d47d.1024.png",width:1024,height:560},{path:n.p+"assets/ideal-img/account6.862ef21.2220.png",width:2220,height:1214}],src:n.p+"assets/ideal-img/account6.301d47d.1024.png",toString:function(){return n.p+"assets/ideal-img/account6.301d47d.1024.png"},placeholder:void 0,width:1024,height:560},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAgklEQVQImWXN0Q6DIBBEUf7/Q2lBG5UFREBvszaaNp1ksi8nsybnzLoWliAsIVBrRXMcx3mvmHHwKJaYKLWy1ca+7ydsrZ3tvWMe/kWMiTQ48ujZoqBbChVcNdaNiETS01IGB1u54c9r7x0pCsk9PrCsN/yusdYSRMjzRJ8nFX9I4Rt0LOoq2qIm1wAAAABJRU5ErkJggg=="}},95812:(e,t,n)=>{"use strict";n.r(t),n.d(t,{assets:()=>S,contentTitle:()=>y,default:()=>E,frontMatter:()=>N,metadata:()=>w,toc:()=>C});var a=n(87462),s=(n(67294),n(3905)),i=n(15944),l=n(8269),r=n.n(l),p=n(12274),o=n.n(p),c=n(25786),d=n.n(c),A=n(42034),u=n.n(A),g=n(83921),m=n.n(g),h=n(15998),k=n.n(h);const N={sidebar_position:2},y="\u5bf9\u63a5\u4e09\u65b9\u7cfb\u7edf",w={unversionedId:"abilities/business/account/synchronize-with-third-party-system/synchronize-with-third-party-system",id:"version-1.x/abilities/business/account/synchronize-with-third-party-system/synchronize-with-third-party-system",title:"\u5bf9\u63a5\u4e09\u65b9\u7cfb\u7edf",description:"\u8981\u6c42",source:"@site/i18n/zh-CN/docusaurus-plugin-content-docs/version-1.x/abilities/business/account/synchronize-with-third-party-system/synchronize-with-third-party-system.mdx",sourceDirName:"abilities/business/account/synchronize-with-third-party-system",slug:"/abilities/business/account/synchronize-with-third-party-system/",permalink:"/zh-CN/docs/abilities/business/account/synchronize-with-third-party-system/",draft:!1,tags:[],version:"1.x",lastUpdatedBy:"liupengfei",lastUpdatedAt:1690791943,formattedLastUpdatedAt:"2023\u5e747\u670831\u65e5",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"abilities",previous:{title:"\u573a\u666f\uff1a \u6307\u5b9a\u90e8\u95e8\u7684\u5458\u5de5\u8fdb\u884c\u7b80\u5355\u767b\u5f55",permalink:"/zh-CN/docs/abilities/business/account/simple-auth/sample-simple-auth1"},next:{title:"ONES \u5bf9\u63a5\u9489\u9489\u7cfb\u7edf",permalink:"/zh-CN/docs/abilities/business/account/synchronize-with-third-party-system/sample-synchronize-with-third-party-system1"}},S={},C=[{value:"\u8981\u6c42",id:"\u8981\u6c42",level:2},{value:"\u6982\u8ff0",id:"\u6982\u8ff0",level:2},{value:"\u4f7f\u7528",id:"\u4f7f\u7528",level:2},{value:"\u7b2c\u4e00\u6b65: \u901a\u8fc7 OP \u5de5\u5177\u6dfb\u52a0\u80fd\u529b",id:"\u7b2c\u4e00\u6b65-\u901a\u8fc7-op-\u5de5\u5177\u6dfb\u52a0\u80fd\u529b",level:3},{value:"\u7b2c\u4e8c\u6b65: \u5b9e\u73b0\u8be5\u80fd\u529b\u5404\u529f\u80fd\u70b9\u5bf9\u5e94\u7684\u65b9\u6cd5",id:"\u7b2c\u4e8c\u6b65-\u5b9e\u73b0\u8be5\u80fd\u529b\u5404\u529f\u80fd\u70b9\u5bf9\u5e94\u7684\u65b9\u6cd5",level:3},{value:"\u5b9e\u73b0\u7b2c\u4e09\u65b9\u767b\u5f55",id:"\u5b9e\u73b0\u7b2c\u4e09\u65b9\u767b\u5f55",level:4},{value:"\u5b9e\u73b0\u7ec4\u7ec7\u4eba\u5458\u540c\u6b65",id:"\u5b9e\u73b0\u7ec4\u7ec7\u4eba\u5458\u540c\u6b65",level:4},{value:"\u5b9e\u73b0\u6d88\u606f\u63a8\u9001",id:"\u5b9e\u73b0\u6d88\u606f\u63a8\u9001",level:4},{value:"\u7b2c\u4e09\u6b65: \u5728 ONES \u4e2d\u8fdb\u884c\u4ee5\u4e0b\u64cd\u4f5c\u5bf9\u63a5\u7b2c\u4e09\u65b9\u7cfb\u7edf",id:"\u7b2c\u4e09\u6b65-\u5728-ones-\u4e2d\u8fdb\u884c\u4ee5\u4e0b\u64cd\u4f5c\u5bf9\u63a5\u7b2c\u4e09\u65b9\u7cfb\u7edf",level:3},{value:"\u793a\u4f8b",id:"\u793a\u4f8b",level:2}],f={toc:C};function E(e){let{components:t,...n}=e;return(0,s.kt)("wrapper",(0,a.Z)({},f,n,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("h1",{id:"\u5bf9\u63a5\u4e09\u65b9\u7cfb\u7edf"},"\u5bf9\u63a5\u4e09\u65b9\u7cfb\u7edf"),(0,s.kt)("h2",{id:"\u8981\u6c42"},"\u8981\u6c42"),(0,s.kt)("table",null,(0,s.kt)("thead",{parentName:"table"},(0,s.kt)("tr",{parentName:"thead"},(0,s.kt)("th",{parentName:"tr",align:"left"},"ONES"))),(0,s.kt)("tbody",{parentName:"table"},(0,s.kt)("tr",{parentName:"tbody"},(0,s.kt)("td",{parentName:"tr",align:"left"},"v3.6.0+")))),(0,s.kt)("h2",{id:"\u6982\u8ff0"},"\u6982\u8ff0"),(0,s.kt)("p",null,"\u8be5\u80fd\u529b\u5141\u8bb8\u63d2\u4ef6\u96c6\u6210\u67d0\u4e2a\u7b2c\u4e09\u65b9\u7cfb\u7edf(\u5305\u62ec\u9489\u9489\uff0c\u8c37\u6b4c\uff0c\u6216\u8005\u5176\u4ed6\u7b2c\u4e09\u65b9\u7cfb\u7edf)\uff0c\u63d2\u4ef6\u5f00\u53d1\u8005\u53ef\u4ee5\u6839\u636e\u81ea\u8eab\u9700\u8981\uff0c\u5b9e\u73b0\u4ee5\u4e0b\u4e00\u79cd\u6216\u591a\u79cd\u529f\u80fd\uff1a"),(0,s.kt)("ol",null,(0,s.kt)("li",{parentName:"ol"},"\u7b2c\u4e09\u65b9\u767b\u5f55\uff1a\u7528\u6237\u901a\u8fc7\u767b\u5f55\u7b2c\u4e09\u65b9\u7cfb\u7edf\uff0c\u8fbe\u5230\u767b\u5f55 ONES \u7684\u529f\u80fd\u3002"),(0,s.kt)("li",{parentName:"ol"},"\u6d88\u606f\u63a8\u9001\uff1aONES \u7684\u6d88\u606f\u901a\u77e5\u53ef\u4ee5\u5411\u7b2c\u4e09\u65b9\u7cfb\u7edf\u53d1\u9001\u3002"),(0,s.kt)("li",{parentName:"ol"},"\u7ec4\u7ec7\u4eba\u5458\u540c\u6b65\uff1a\u628a\u7b2c\u4e09\u65b9\u7cfb\u7edf\u7684\u90e8\u95e8\u4fe1\u606f\uff0c\u4eba\u5458\u4fe1\u606f\u540c\u6b65\u5230 ONES \u4e2d\u3002")),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("strong",{parentName:"li"},"\u7b2c\u4e09\u65b9\u767b\u5f55"))),(0,s.kt)("p",null,"\u5728\u539f\u672c\u7684\u767b\u5f55\u754c\u9762\u4e0b\uff0c\u6709\u4e00\u4e2a\u65b0\u589e\u7684\u5176\u4ed6\u767b\u5f55\u65b9\u5f0f\uff0c\u70b9\u51fb\u8be5\u56fe\u6807\u5373\u53ef\u901a\u8fc7\u7b2c\u4e09\u65b9\u7cfb\u7edf\u767b\u5f55\u5230 ONES"),(0,s.kt)(i.Z,{img:r(),mdxType:"Image"}),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("strong",{parentName:"li"},"\u6d88\u606f\u63a8\u9001"))),(0,s.kt)("p",null,"\u5728\u5b89\u88c5\u5b9e\u73b0\u4e86\u8be5\u80fd\u529b\u7684\u63d2\u4ef6\u540e\uff0c\u5728\u5404\u901a\u77e5\u65b9\u5f0f\u4e0b\uff0c\u53ef\u4ee5\u9009\u62e9\u662f\u5426\u5c06\u6d88\u606f\u63a8\u9001\u5230\u7b2c\u4e09\u65b9\u7cfb\u7edf"),(0,s.kt)("p",null,"\u4ee5",(0,s.kt)("inlineCode",{parentName:"p"},"\u5de5\u4f5c\u9879\u901a\u77e5"),"\u4e3a\u4f8b\uff0c\u5728\u901a\u77e5\u9009\u9879\u4e2d\u591a\u51fa\u63d2\u4ef6\u7684\u540d\u79f0\uff0c\u9009\u4e2d\u5176\u5373\u53ef\u901a\u77e5\u7b2c\u4e09\u65b9\u7cfb\u7edf"),(0,s.kt)(i.Z,{img:o(),mdxType:"Image"}),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("strong",{parentName:"li"},"\u7ec4\u7ec7\u4eba\u5458\u540c\u6b65"))),(0,s.kt)("p",null,"\u5728",(0,s.kt)("inlineCode",{parentName:"p"},"\u914d\u7f6e\u4e2d\u5fc3->\u8d26\u53f7\u4e0e\u6210\u5458->\u6210\u5458\u7ba1\u7406"),"\u4e2d\uff0c\u53ef\u4ee5\u770b\u5230\u7531\u7b2c\u4e09\u65b9\u7cfb\u7edf\u540c\u6b65\u5230 ONES \u7684\u7528\u6237\uff0c\u5e76\u4e14\u6807\u660e\u4e86\u4fe1\u606f\u6765\u6e90\u7684\u63d2\u4ef6"),(0,s.kt)(i.Z,{img:d(),mdxType:"Image"}),(0,s.kt)("h2",{id:"\u4f7f\u7528"},"\u4f7f\u7528"),(0,s.kt)("p",null,"\u901a\u8fc7 OP \u5de5\u5177\u6dfb\u52a0\u8be5\u80fd\u529b\uff0c\u7136\u540e\u5b9e\u73b0\u5404\u529f\u80fd\u70b9\u5bf9\u5e94\u7684\u65b9\u6cd5\uff0c\u6700\u540e\u5b89\u88c5\u542f\u52a8\u63d2\u4ef6\uff0c\u5e76\u4e14\u5728 ONES \u4e2d\u96c6\u6210\u7b2c\u4e09\u65b9\u7cfb\u7edf\u3002"),(0,s.kt)("h3",{id:"\u7b2c\u4e00\u6b65-\u901a\u8fc7-op-\u5de5\u5177\u6dfb\u52a0\u80fd\u529b"},"\u7b2c\u4e00\u6b65: \u901a\u8fc7 OP \u5de5\u5177\u6dfb\u52a0\u80fd\u529b"),(0,s.kt)("p",null,"\u5728",(0,s.kt)("inlineCode",{parentName:"p"},"\u63d2\u4ef6\u6839\u76ee\u5f55"),"\u4f7f\u7528\u547d\u4ee4\u884c\u8f93\u5165 OP \u547d\u4ee4\u6dfb\u52a0\u80fd\u529b\uff08\u8be5\u6307\u4ee4\u9700\u8981 OP \u5de5\u5177\u7248\u672c 1.0 \u53ca\u4ee5\u4e0a\uff09"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-shell"},"npx op add ability\n")),(0,s.kt)("p",null,"\u9009\u4e2d\u5e76\u6dfb\u52a0",(0,s.kt)("inlineCode",{parentName:"p"},"account@1.0.0")),(0,s.kt)(i.Z,{img:u(),mdxType:"Image"}),(0,s.kt)("p",null,"OP \u5de5\u5177\u4f1a\u4e3a\u63d2\u4ef6\u6dfb\u52a0\u5982\u4e0b\u5185\u5bb9"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},"\u63d2\u4ef6\u914d\u7f6e\u6587\u4ef6",(0,s.kt)("inlineCode",{parentName:"li"},"config/plugin.yaml"),"\u4e2d abilities \u5b57\u6bb5\u65b0\u589e\u76f8\u5173\u6bb5\u843d\u3002")),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-yaml",metastring:'title="config/plugin.yaml"',title:'"config/plugin.yaml"'},"    service:\n    ...\n    ...\n    abilities:\n    - id: ...\n        name: account\n        version: 1.0.0\n        abilityType: account\n        function:\n        sendMessage: SendMessage # \u53d1\u9001\u6d88\u606f\n        createLoginUrl: CreateLoginUrl # \u521b\u5efa\u91cd\u5b9a\u5411\u767b\u5f55URL\n        doExchangeUser: DoExchangeUser # \u786e\u8ba4\u767b\u5f55\u7528\u6237\u4fe1\u606f\n        doPullData: DoPullData # \u540c\u6b65\u7b2c\u4e09\u65b9\u7cfb\u7edf\u7528\u6237\u6570\u636e\n        config:\n        # \u662f\u5426\u5b9e\u73b0\u4e86\u767b\u5f55\u529f\u80fd\n        - key: canLogin\n            value: true\n            show: false\n        # \u662f\u5426\u5b9e\u73b0\u4e86\u540c\u6b65\u529f\u80fd\n        - key: canSync\n            value: true\n            show: false\n        # \u662f\u5426\u5b9e\u73b0\u4e86\u53d1\u9001\u6d88\u606f\u7684\u529f\u80fd\n        - key: canMessage\n            value: true\n            show: false\n        # \u7b2c\u4e09\u65b9\u767b\u5f55\u7684logo\u5730\u5740\uff0c\u5199\u7684\u662f\u6587\u4ef6\u540d\uff0c\u8981\u6c42\u8be5\u6587\u4ef6\u653e\u5728\u524d\u7aef\u8d44\u6e90\u6839\u76ee\u5f55\u4e0b\uff0cweb/dist/\n        - key: logo\n            value: logo.svg\n            show: false\n        # \u7b2c\u4e09\u65b9\u767b\u5f55\u540d\u79f0\u6587\u6848\n        - key: title\n            value: title\n            show: false\n        # \u7b2c\u4e09\u65b9\u63cf\u8ff0\u6587\u6848\n        - key: desc\n            value: desc\n            show: false\n        # \u7b2c\u4e09\u65b9\u63cf\u8ff0\u6587\u6848\n        - key: detailTip\n            value: detailTip\n            show: false\n        # \u7b2c\u4e09\u65b9\u914d\u7f6e\u63d0\u9192\u6587\u6848\n        - key: configTip\n            value: configTip\n            show: false\n")),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},"OP \u5de5\u5177\u5728\u63d2\u4ef6\u4e2d\u65b0\u589e\u6587\u4ef6",(0,s.kt)("inlineCode",{parentName:"li"},"backend/src/account.ts"))),(0,s.kt)("h3",{id:"\u7b2c\u4e8c\u6b65-\u5b9e\u73b0\u8be5\u80fd\u529b\u5404\u529f\u80fd\u70b9\u5bf9\u5e94\u7684\u65b9\u6cd5"},"\u7b2c\u4e8c\u6b65: \u5b9e\u73b0\u8be5\u80fd\u529b\u5404\u529f\u80fd\u70b9\u5bf9\u5e94\u7684\u65b9\u6cd5"),(0,s.kt)("h4",{id:"\u5b9e\u73b0\u7b2c\u4e09\u65b9\u767b\u5f55"},"\u5b9e\u73b0\u7b2c\u4e09\u65b9\u767b\u5f55"),(0,s.kt)("p",null,"\u5b9e\u73b0\u7b2c\u4e09\u65b9\u767b\u5f55 ONES \u529f\u80fd\uff0c\u53ea\u9700\u5b9e\u73b0",(0,s.kt)("inlineCode",{parentName:"p"},"CreateLoginUrl"),"\u65b9\u6cd5\u5373\u53ef\u3002\u800c\u5982\u679c\u5e0c\u671b\u5c06\u7b2c\u4e09\u65b9\u7cfb\u7edf\u7684\u7528\u6237\u4fe1\u606f\uff08\u5305\u62ec\u59d3\u540d\uff0c\u90ae\u7bb1\u7b49\uff09\u540c\u6b65\u5230 ONES \uff0c\u5e76\u81ea\u52a8\u521b\u5efa ONES \u8d26\u53f7\uff0c\u5219\u8fd8\u9700\u8981\u5b8c\u6210",(0,s.kt)("inlineCode",{parentName:"p"},"DoExchangeUser"),"\u65b9\u6cd5\u3002"),(0,s.kt)("p",null,(0,s.kt)("inlineCode",{parentName:"p"},"CreateLoginUrl"),"\u9700\u8981\u8fd4\u56de\u7b2c\u4e09\u65b9\u7cfb\u7edf\u767b\u5f55\u65f6\u8c03\u7528\u7684 url\uff0c\u5728\u8be5\u65b9\u6cd5\u7684 request \u4e2d\u5305\u542b\u4e86\u91cd\u5b9a\u5411\u5230 ONES \u7684 URL\uff0c\u63d2\u4ef6\u5f00\u53d1\u8005\u53ef\u4ee5\u5c06\u5176\u62fc\u63a5\u5165\u9700\u8981\u8fd4\u56de\u7684 respUrl \u4e2d\u3002"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-typescript"},"//\u5728url\u4e2d\u586b\u5165\u7b2c\u4e09\u65b9\u7cfb\u7edf\u767b\u5f55\u65f6\u8c03\u7528\u7684url\nexport async function CreateLoginUrl(request: PluginRequest): Promise<PluginResponse> {\n  //\u8c03\u7528\u5b8c\u7b2c\u4e09\u65b9\u767b\u5f55\u4e4b\u540e\uff0c\u4f1a\u628a\u8fd4\u56de\u7684\u4fe1\u606f\u91cd\u5b9a\u5411\u5230\u8be5\u5730\u5740\uff0c\u6709\u65f6\u9700\u8981\u4f7f\u7528\u8be5\u5730\u5740\u62fc\u63a5respUrl\n  //@ts-ignore\n  const redirectUrl: string = request?.body.redirect_url\n  const response: CreateLoginUrlResponse = {\n    url: '',\n  }\n  return CreateLoginUrlRespData(200, '200', '', '', '', response)\n}\n")),(0,s.kt)("p",null,(0,s.kt)("inlineCode",{parentName:"p"},"DoExchangeUser"),"\u65b9\u6cd5\u4e2d\uff0c\u63d2\u4ef6\u5f00\u53d1\u8005\u9700\u8981\u8fd4\u56de\u7528\u6237\u7684\u4fe1\u606f\u6570\u636e\uff0c\u4ece\u800c\u5728 ONES \u8fdb\u884c\u7528\u6237\u7684\u8d26\u53f7\u521b\u5efa\u4ee5\u53ca\u4fe1\u606f\u540c\u6b65\u3002\u5728\u8be5\u65b9\u6cd5\u7684 request \u4e2d\uff0c\u6709\u5173\u952e\u7684 code \u4fe1\u606f\uff0c\u63d2\u4ef6\u5f00\u53d1\u8005\u53ef\u4ee5\u901a\u8fc7\u8be5 code \u53bb\u7b2c\u4e09\u65b9\u7cfb\u7edf\u83b7\u53d6\u7528\u6237\u4fe1\u606f\uff0c\u7136\u540e\u5728",(0,s.kt)("inlineCode",{parentName:"p"},"DoExchangeUser"),"\u65b9\u6cd5\u4e2d\u8fd4\u56de\u7528\u6237\u4fe1\u606f\u3002"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-typescript"},"export async function DoExchangeUser(request: PluginRequest): Promise<PluginResponse> {\n  let code1 = ''\n  if (typeof request?.body == 'object' && !Array.isArray(request?.body)) {\n    const authInfo = request.body.auth_info\n    const obj = JSON.parse(authInfo)\n    //\u83b7\u53d6\u767b\u5f55\u540e\u7684code\uff0c\u901a\u8fc7\u8be5code\u53bb\u7b2c\u4e09\u65b9\u7cfb\u7edf\u83b7\u53d6\u7528\u6237\u4fe1\u606f\n    code1 = obj.code\n  }\n  //\u8fd4\u56de\u4fe1\u606fresp\u7684\u683c\u5f0f\n  const resp: DoExchangeUserResponse = {\n    third_party_id: '',\n    name: '',\n    title: '',\n    avatar: '',\n    email: '',\n    phone: '',\n  }\n  //\u901a\u8fc7\u8c03\u7528\u7b2c\u4e09\u65b9API\uff0c\u83b7\u53d6\u7528\u6237\u4fe1\u606f\u5e76\u7ec4\u5408\u6570\u636e\u5230resp\u4e2d\n  return DoExchangeUserRespData(200, '', '', '', '', resp)\n}\n")),(0,s.kt)("h4",{id:"\u5b9e\u73b0\u7ec4\u7ec7\u4eba\u5458\u540c\u6b65"},"\u5b9e\u73b0\u7ec4\u7ec7\u4eba\u5458\u540c\u6b65"),(0,s.kt)("p",null,"\u5b9e\u73b0\u7b2c\u4e09\u65b9\u7684\u7ec4\u7ec7\u4eba\u5458\u540c\u6b65\u5230 ONES \u7684\u529f\u80fd\u53ea\u9700\u8981\u5b9e\u73b0",(0,s.kt)("inlineCode",{parentName:"p"},"DoPullData"),"\u65b9\u6cd5\u5373\u53ef\uff0c\u63d2\u4ef6\u5f00\u53d1\u8005\u9700\u8981\u5728\u8be5\u65b9\u6cd5\u4e2d\u8fd4\u56de\u7b2c\u4e09\u65b9\u90e8\u95e8\u548c\u4eba\u5458\u7684\u4fe1\u606f\uff0c\u4ece\u800c\u5728 ONES \u4e2d\u8fdb\u884c\u90e8\u95e8\u548c\u4eba\u5458\u540c\u6b65\u3002"),(0,s.kt)("p",null,"\u63d2\u4ef6\u5f00\u53d1\u8005\u9700\u8981\u5148\u53bb\u7b2c\u4e09\u65b9\u7cfb\u7edf\u83b7\u53d6\u90e8\u95e8\u4fe1\u606f\u548c\u4eba\u5458\u4fe1\u606f\uff0c\u7136\u540e\u5c06\u6570\u636e\u91cd\u6784\u6210",(0,s.kt)("inlineCode",{parentName:"p"},"DoPullData"),"\u65b9\u6cd5\u4e2d\u6307\u5b9a\u7684\u8fd4\u56de\u7ed3\u6784\u3002"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-typescript"},"export async function DoPullData(request: PluginRequest): Promise<PluginResponse> {\n  const resp: DoPullDataResponse = {\n    departments: [],\n    users: [],\n  }\n\n  // \u5047\u8bbe\u53ea\u6709\u4e00\u4e2a\u6839\u90e8\u95e8\uff0c\u90e8\u95e8\u4fe1\u606f\u5fc5\u987b\u6709\u4e00\u4e2a\u6839\u90e8\u95e8\uff0c\u6839\u90e8\u95e8id\u4e3a \"-1\"\n  const rootDepartment = {\n    third_party_id: '-1',\n    name: 'ONES',\n    parent_id: '',\n    next_id: '',\n  }\n\n  const departments: DepartmentInfo[] = []\n  departments[0] = rootDepartment\n\n  // \u6240\u6709\u7528\u6237\n  const userInfos: UserInfo[] = []\n  userInfos.push({\n    third_party_id: '1',\n    name: 'test',\n    email: 'test@qq.com',\n    title: '\u804c\u4f4d',\n    department_ids: ['-1'],\n    company: 'ONES',\n  })\n\n  resp.departments = departments\n  resp.users = userInfos\n\n  return DoPullDataRespData(200, '', '', '', '', resp)\n}\n")),(0,s.kt)("h4",{id:"\u5b9e\u73b0\u6d88\u606f\u63a8\u9001"},"\u5b9e\u73b0\u6d88\u606f\u63a8\u9001"),(0,s.kt)("p",null,"\u5b9e\u73b0\u6d88\u606f\u63a8\u9001\u81f3\u7b2c\u4e09\u65b9\u7cfb\u7edf\u529f\u80fd\uff0c\u9700\u8981\u63d2\u4ef6\u5f00\u53d1\u8005\u5728",(0,s.kt)("inlineCode",{parentName:"p"},"SendMessage"),"\u65b9\u6cd5\u4e2d\u5b9e\u73b0\u81ea\u5df1\u7684\u53d1\u9001\u903b\u8f91\uff0c\u6bcf\u6b21 ONES \u9700\u8981\u53d1\u9001\u6d88\u606f\u81f3\u7b2c\u4e09\u65b9\u7cfb\u7edf\u65f6\uff0c\u90fd\u4f1a\u8c03\u7528",(0,s.kt)("inlineCode",{parentName:"p"},"SendMessage"),"\u65b9\u6cd5\uff0c\u800c\u6d88\u606f\u7684\u786e\u5207\u5185\u5bb9\u90fd\u4f1a\u653e\u81f3",(0,s.kt)("inlineCode",{parentName:"p"},"SendMessage"),"\u65b9\u6cd5\u7684 request \u4e2d\u3002"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-typescript"},"// \u53d1\u9001\u6d88\u606f\nexport async function SendMessage(request: PluginRequest): Promise<PluginResponse> {\n  Logger.info('SendMessage Request:', request?.body)\n  Logger.info('[Plugin] SendMessage ======= \u8bf7\u6c42\u6210\u529f')\n  //\u5b9e\u73b0\u53d1\u9001\u5230\u7b2c\u4e09\u65b9\u7cfb\u7edf\u7684\u903b\u8f91\n  return sendMessageRespData(200, '', '', '', '')\n}\n")),(0,s.kt)("h3",{id:"\u7b2c\u4e09\u6b65-\u5728-ones-\u4e2d\u8fdb\u884c\u4ee5\u4e0b\u64cd\u4f5c\u5bf9\u63a5\u7b2c\u4e09\u65b9\u7cfb\u7edf"},"\u7b2c\u4e09\u6b65: \u5728 ONES \u4e2d\u8fdb\u884c\u4ee5\u4e0b\u64cd\u4f5c\u5bf9\u63a5\u7b2c\u4e09\u65b9\u7cfb\u7edf"),(0,s.kt)("p",null,"\u9996\u5148\u5728",(0,s.kt)("inlineCode",{parentName:"p"},"\u914d\u7f6e\u4e2d\u5fc3->\u63d2\u4ef6\u7ba1\u7406->\u63d2\u4ef6\u7ba1\u7406->\u8d26\u53f7\u540c\u6b65\u3001\u767b\u5f55\u4e0e\u901a\u77e5"),"\u4e2d\u5b89\u88c5\u5e76\u542f\u7528\u5b9e\u73b0\u4e86\u8be5\u80fd\u529b\u7684\u63d2\u4ef6\u3002"),(0,s.kt)("p",null,"\u7136\u540e\u5728",(0,s.kt)("inlineCode",{parentName:"p"},"\u914d\u7f6e\u4e2d\u5fc3->\u8d26\u53f7\u4e0e\u6210\u5458->\u7b2c\u4e09\u65b9\u96c6\u6210"),'\u4e2d\u70b9\u51fb"\u6dfb\u52a0\u7b2c\u4e09\u65b9\u96c6\u6210"\uff0c\u9009\u4e2d\u63d2\u4ef6\u8fdb\u884c\u6dfb\u52a0\u3002'),(0,s.kt)(i.Z,{img:m(),mdxType:"Image"}),(0,s.kt)("p",null,"\u6dfb\u52a0\u6210\u529f\u540e\u5373\u53ef\u542f\u7528\u9700\u8981\u7684\u529f\u80fd\u70b9\u3002"),(0,s.kt)(i.Z,{img:k(),mdxType:"Image"}),(0,s.kt)("h2",{id:"\u793a\u4f8b"},"\u793a\u4f8b"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"/zh-CN/docs/abilities/business/account/synchronize-with-third-party-system/sample-synchronize-with-third-party-system1"}," ONES \u5bf9\u63a5\u9489\u9489\u7cfb\u7edf"))))}E.isMDXComponent=!0}}]);