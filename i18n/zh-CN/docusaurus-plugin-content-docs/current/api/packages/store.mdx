---
sidebar_position: 3
---

import Tabs from '@theme/Tabs'
import TabItem from '@theme/TabItem'

# @ones-op/store

[![](https://npm.partner.ones.cn/badge/v/@ones-op/store.svg)](https://npm.partner.ones.cn/package/@ones-op/store)

我们提供了一套数据获取库，可以帮你在插件内获取标品数据。为了保证数据的只读性，对象和数组数据将会使用 Proxy 代理。

## 兼容性

### 环境依赖

|   ONES   |
| :------: |
| v3.6.25+ |

## 安装

进入 `/web` 目录，通过以下命令安装此包：

```bash npm2yarn
npm install @ones-op/store
```

## 使用

```tsx
import { useTestCaseLibraryInfo } from '@ones-op/store'

function App() {
  const { uuid, name } = useTestCaseLibraryInfo()
  return <div>{name}</div>
}
```

## Hooks

### useDashboardInfo {#useDashboardInfo}

获取当前访问的仪表盘信息

#### Returns

| 说明                 |        类型         |
| :------------------- | :-----------------: |
| 当前访问的仪表盘信息 | `DashboardInfoType` |

#### Types

```tsx
interface DashboardInfoType {
  uuid: string // 当前仪表盘的 UUID
  name: string // 当前仪表盘的名称
}
```

### useFilterInfo {#useFilterInfo}

- 可用：`v0.3.0`
- ONES 要求：`v3.10.26+`

获取当前访问的筛选器视图信息

#### Returns

| 说明                     |       类型       |
| :----------------------- | :--------------: |
| 当前访问的筛选器视图信息 | `FilterInfoType` |

#### Types

```tsx
interface FilterInfoType {
  uuid: string // 当前筛选器视图的 UUID
  name: string // 当前筛选器视图的名称
}
```

### useOrganizationInfo {#useOrganizationInfo}

获取当前组织信息

#### Returns

| 说明         |          类型          |
| :----------- | :--------------------: |
| 当前组织信息 | `OrganizationInfoType` |

#### Types

```tsx
interface OrganizationInfoType {
  uuid: string // 当前组织的 UUID
  name: string // 当前组织的名称
}
```

### usePipelineInfo {#usePipelineInfo}

获取当前流水线信息

#### Returns

| 说明           |        类型        |
| :------------- | :----------------: |
| 当前流水线信息 | `PipelineInfoType` |

#### Types

```tsx
interface PipelineInfoType {
  uuid: string // 当前流水线的 UUID
  name: string // 当前流水线的名称
}
```

### usePluginInfo {#usePluginInfo}

- 可用: `v0.3.0`
- ONES 要求: `v3.10.26+`

获取当前的插件信息

#### Returns

| 说明               |       类型       |
| :----------------- | :--------------: |
| 获取当前的插件信息 | `PluginInfoType` |

#### Types

```tsx
interface PluginInfoType {
  appID: string // 插件 ID
  name: string // 插件名称
  description: string // 插件描述
  version: string // 插件版本
  /**
   * 插件状态
   * 1：启用
   * 2：禁用
   */
  status: 1 | 2
  instanceID: string // 实例 ID
}
```

### useProductInfo {#useProductInfo}

获取当前产品信息

#### Returns

| 说明         |       类型        |
| :----------- | :---------------: |
| 当前产品信息 | `ProductInfoType` |

#### Types

```tsx
interface ProductInfoType {
  uuid: string // 当前产品的 UUID
  name: string // 当前产品的名称
}
```

### useProgramInfo {#useProgramInfo}

获取当前项目集信息

#### Returns

| 说明           |       类型        |
| :------------- | :---------------: |
| 当前项目集信息 | `ProgramInfoType` |

#### Types

```tsx
interface ProgramInfoType {
  uuid: string // 当前项目集的 UUID
  name: string // 当前项目集的名称
}
```

### useProjectInfo {#useProjectInfo}

获取当前项目信息

#### Returns

| 说明         |       类型        |
| :----------- | :---------------: |
| 当前项目信息 | `ProjectInfoType` |

#### Types

```tsx
interface ProjectInfoType {
  uuid: string // 当前项目的 UUID
  name: string // 当前项目的名称
}
```

### useProjectRoleInfo {#useProjectRoleInfo}

- 可用：`v0.3.0`
- ONES 要求：`v3.10.14+`

获取当前项目成员组件中，所选项目角色的信息

#### Returns

| 说明             |         类型          |
| :--------------- | :-------------------: |
| 所选项目角色信息 | `ProjectRoleInfoType` |

#### Types

```tsx
interface ProjectRoleInfoType {
  uuid: string // 当前选中角色的 UUID
  name: string // 当前选中角色的名称
}
```

### useTeamInfo {#useTeamInfo}

获取当前团队信息

#### Returns

| 说明         |      类型      |
| :----------- | :------------: |
| 当前团队信息 | `TeamInfoType` |

#### Types

```tsx
interface TeamInfoType {
  uuid: string // 当前团队的 UUID
  name: string // 当前团队的名称
}
```

### useTestCaseLibraryInfo {#useTestCaseLibraryInfo}

获取当前访问的用例库的信息

#### Returns

| 说明                   |           类型            |
| :--------------------- | :-----------------------: |
| 当前访问的用例库的信息 | `testCaseLibraryInfoType` |

#### Types

```tsx
interface TestCaseLibraryInfoType {
  uuid: string // 当前用例库的 UUID
  name: string // 当前用例库的名称
}
```

### useTestCaseListInfo {#useTestCaseListInfo}

- 可用：`v0.3.0`
- ONES 要求：`v3.10.0+`

获取当前访问的用例库的用例列表信息

#### Returns

| 说明                   |          类型          |
| :--------------------- | :--------------------: |
| 当前访问的用例库的信息 | `TestCaseListInfoType` |

#### Types

```tsx
interface TestCaseListInfoType {
  selectedUUIDs: Array<string> // 当前选中的用例信息
  isFullSelected?: boolean // 当前用例是否全选
  fullSelectedParams?: { [key: string]: any } // 全选场景下的查询条件以及标识
}
```

### useTestPlanInfo {#useTestPlanInfo}

获取当前测试计划信息

#### Returns

| 说明             |        类型        |
| :--------------- | :----------------: |
| 当前测试计划信息 | `TestPlanInfoType` |

#### Types

```tsx
interface TestPlanInfoType {
  uuid: string // 当前测试计划的 UUID
  name: string // 当前测试计划的名称
}
```

### useUserInfo {#useUserInfo}

获取当前用户信息

#### Returns

| 说明         |      类型      |
| :----------- | :------------: |
| 当前用户信息 | `UserInfoType` |

#### Types

```tsx
interface UserInfoType {
  uuid: string // 当前用户的 UUID
  name: string // 当前用户的名称
}
```
