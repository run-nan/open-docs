---
sidebar_position: 10
description: Upload the file to the plugin workspace.
---

import Image from '@theme/IdealImage'
import uploadFile1 from './images/uploadFile1.png'

# Upload file

## Requirements

| ONES      | @ones-op/node-ability |
| :-------- | :-------------------- |
| v3.11.40+ | v0.3.8+               |

## Overview

Users can upload files (enable larger than 10m) to the plugin storage space `workspace` through this ability.

## Usage

### Step 1: Installation dependency

Enter the /backend directory of the plugin project, and execute the following command for dependent installation:

```shell
npm i @ones-op/node-ability
```

### Ability to use

#### 1. Call SDK to get the link to upload the file

Use the `uploadFile` method to specify the path under the plugin storage space `workspace`. The `uploadFile` method will return a file uploaded link `url`

```typescript
import { uploadFile } from '@ones-op/node-ability'

export async function uploadFileToPlugin(request: PluginRequest): Promise<PluginResponse> {
  const url = await uploadFile()

  return {
    body: {
      res: url,
    },
  }
}
```

#### 2. Upload file through a link

Use this `url` to select the file you want to upload

:::caution

The default valid time for file upload links is 60 minutes.

:::

Upload method reference

```shell
# Replace {{URL}} with the URL obtained in step 1, and replace your uploaded file path in form
curl --location --request POST {{URL}} \
--header 'Cookie: language=zh' \
--form 'file=@"/Users/hosea/Downloads/plugin(3).sql"'
```

<Image img={uploadFile1} />

## SDK

Parameters referenceï¼š[@ones-op/node-ability](../../reference/packages/node-ability/node-ability.md)
