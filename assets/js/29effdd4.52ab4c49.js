(self.webpackChunkopen_docs=self.webpackChunkopen_docs||[]).push([[4991],{52169:(e,t,n)=>{e.exports={src:{srcSet:n.p+"assets/ideal-img/install-plugin.eabbca1.1024.png 1024w,"+n.p+"assets/ideal-img/install-plugin.8461ef0.1708.png 1708w",images:[{path:n.p+"assets/ideal-img/install-plugin.eabbca1.1024.png",width:1024,height:562},{path:n.p+"assets/ideal-img/install-plugin.8461ef0.1708.png",width:1708,height:937}],src:n.p+"assets/ideal-img/install-plugin.eabbca1.1024.png",toString:function(){return n.p+"assets/ideal-img/install-plugin.eabbca1.1024.png"},placeholder:void 0,width:1024,height:562},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAFCAYAAAB8ZH1oAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAWElEQVQImXWOQQqAMAwE8/8P+gPBVlCrtlVsRoIiRXRhYA/DJjKHwLRE8rajqg+lKKCM8aBpV8R7T0oJSy0almIdEOfcp0glW78X8yO+cz0A0vUD8ed0zQmgAsTfWurfrwAAAABJRU5ErkJggg=="}},55832:(e,t,n)=>{e.exports={src:{srcSet:n.p+"assets/ideal-img/org-plugin-en.f5d76f8.1024.png 1024w,"+n.p+"assets/ideal-img/org-plugin-en.2f5a05c.1719.png 1719w",images:[{path:n.p+"assets/ideal-img/org-plugin-en.f5d76f8.1024.png",width:1024,height:560},{path:n.p+"assets/ideal-img/org-plugin-en.2f5a05c.1719.png",width:1719,height:940}],src:n.p+"assets/ideal-img/org-plugin-en.f5d76f8.1024.png",toString:function(){return n.p+"assets/ideal-img/org-plugin-en.f5d76f8.1024.png"},placeholder:void 0,width:1024,height:560},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAFCAYAAAB8ZH1oAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAVklEQVQImXWNQQrAMAgE/f87e0ksoYcGrEa3GGihhexlhR1GqrXi7B0iAjODuyMi4BGzhzu2JqAEVRWZHFahUgpUrw+Y/b+JmefLFfga93bAbCxNj/EGsxbFHRpW2TQAAAAASUVORK5CYII="}},17942:(e,t,n)=>{"use strict";n.d(t,{Zo:()=>c,kt:()=>m});var a=n(50959);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var p=a.createContext({}),s=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},c=function(e){var t=s(e.components);return a.createElement(p.Provider,{value:t},e.children)},u="mdxType",g={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,p=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),u=s(n),d=i,m=u["".concat(p,".").concat(d)]||u[d]||g[d]||r;return n?a.createElement(m,l(l({ref:t},c),{},{components:n})):a.createElement(m,l({ref:t},c))}));function m(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,l=new Array(r);l[0]=d;var o={};for(var p in t)hasOwnProperty.call(t,p)&&(o[p]=t[p]);o.originalType=e,o[u]="string"==typeof e?e:i,l[1]=o;for(var s=2;s<r;s++)l[s]=n[s];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},66442:(e,t,n)=>{"use strict";n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>p,toc:()=>c});var a=n(28957),i=(n(50959),n(17942)),r=n(49500);const l={id:"create",sidebar_position:4},o="Create an Plugin",p={unversionedId:"guide/create",id:"guide/create",title:"Create an Plugin",description:"Overview",source:"@site/docs/guide/create.mdx",sourceDirName:"guide",slug:"/guide/create",permalink:"/open-docs/docs/guide/create",draft:!1,tags:[],version:"current",lastUpdatedBy:"liupengfei",lastUpdatedAt:1703234094,formattedLastUpdatedAt:"Dec 22, 2023",sidebarPosition:4,frontMatter:{id:"create",sidebar_position:4},sidebar:"guide",previous:{title:"Plugin type",permalink:"/open-docs/docs/guide/type"},next:{title:"Directory structure",permalink:"/open-docs/docs/guide/structure"}},s={},c=[{value:"Overview",id:"overview",level:2},{value:"Usage",id:"usage",level:2},{value:"Step 1: Create an Plugin",id:"step-1-create-an-plugin",level:3},{value:"Step 2: Package Plugin",id:"step-2-package-plugin",level:3},{value:"Step 3: Install plugin in the ONES system",id:"step-3-install-plugin-in-the-ones-system",level:3}],u=(g="Image",function(e){return r.warn("Component "+g+" was not imported, exported, or provided by MDXProvider as global scope"),(0,i.kt)("div",e)});var g;const d={toc:c},m="wrapper";function h(e){let{components:t,...r}=e;return(0,i.kt)(m,(0,a.Z)({},d,r,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"create-an-plugin"},"Create an Plugin"),(0,i.kt)("h2",{id:"overview"},"Overview"),(0,i.kt)("p",null,"You can create a plugin project that can be installed in the ONES system so that you can personalize the ONES system."),(0,i.kt)("h2",{id:"usage"},"Usage"),(0,i.kt)("h3",{id:"step-1-create-an-plugin"},"Step 1: Create an Plugin"),(0,i.kt)("p",null,"You can use ONES CLI to create a new plugin project"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Navigate to the directory where the plugin project was created, or use a new directory as the directory for the plugin project. For example: ",(0,i.kt)("inlineCode",{parentName:"li"},"/dev/test")),(0,i.kt)("li",{parentName:"ol"},"Run the following command to create a plugin project")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"cd /dev/test\n\n# -d Option indicates that the default project is used to create a preset configuration\nones create -d\n")),(0,i.kt)("p",null,"If you want to create an ",(0,i.kt)("strong",{parentName:"p"},"organization level")," plugin, then you need to use ",(0,i.kt)("inlineCode",{parentName:"p"},"--plugin-type")," to specify, execute the following instructions"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"ones create --plugin-type organization\n")),(0,i.kt)("p",null,"During initialization, ONES CLI does the following:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Initialize git"),(0,i.kt)("li",{parentName:"ol"},"Create a project template file"),(0,i.kt)("li",{parentName:"ol"},"Install plugin to develop scaffolding tool op"),(0,i.kt)("li",{parentName:"ol"},"Create a global cache file"),(0,i.kt)("li",{parentName:"ol"},"Install plugin project dependencies")),(0,i.kt)("p",null,"After the initialization of the plugin project, ONES CLI will output the relevant information of the plugin project."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"Project has been created\nProject path: /dev/test\nProject name: test\nProject description:\nProject sub CLI: @ones/cli-plugin\n")),(0,i.kt)("h3",{id:"step-2-package-plugin"},"Step 2: Package Plugin"),(0,i.kt)("p",null,"After the plugin project is created successfully, you can try to package the plugin by running the following command:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"npx op packup\n# or\nnpx op packup CustomPluginName\n")),(0,i.kt)("admonition",{title:"notice",type:"caution"},(0,i.kt)("p",{parentName:"admonition"},"In Windows TTY, If the plugin name customized when packaging the plugin contains Chinese characters, the instructions may not be executed correctly."),(0,i.kt)("p",{parentName:"admonition"},"Developers can try to package the plugin with the default name and manually rename the file after the packaging is complete.")),(0,i.kt)("p",null,"After the packaging operation is completed, you can see the packaged plugin ",(0,i.kt)("inlineCode",{parentName:"p"},"opk")," package in the root directory of the current plugin project."),(0,i.kt)("h3",{id:"step-3-install-plugin-in-the-ones-system"},"Step 3: Install plugin in the ONES system"),(0,i.kt)("p",null,"In an environment with plugin enabled, you can upload and install this ",(0,i.kt)("inlineCode",{parentName:"p"},"opk")," package:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("h5",{parentName:"li",id:"team-level-plugin-installation"},"Team level plugin installation"),(0,i.kt)("p",{parentName:"li"},"\u3010Configuration\u3011-\u3010Plugin management\u3011"))),(0,i.kt)(u,{img:n(52169),mdxType:"Image"}),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("h5",{parentName:"li",id:"organization-level-plugin-installation"},"Organization level plugin installation"),"\u3010Organization settings\u3011-\u3010Plugin management\u3011")),(0,i.kt)(u,{img:n(55832),mdxType:"Image"}),(0,i.kt)("p",null,"At this point, you have finished installing the first plugin."))}h.isMDXComponent=!0}}]);