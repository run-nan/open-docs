(self.webpackChunkopen_docs=self.webpackChunkopen_docs||[]).push([[2707],{97245:(e,t,n)=>{e.exports={src:{srcSet:n.p+"assets/ideal-img/windows-node-gyp-installation.6b02617.789.png 789w",images:[{path:n.p+"assets/ideal-img/windows-node-gyp-installation.6b02617.789.png",width:789,height:623}],src:n.p+"assets/ideal-img/windows-node-gyp-installation.6b02617.789.png",toString:function(){return n.p+"assets/ideal-img/windows-node-gyp-installation.6b02617.789.png"},placeholder:void 0,width:789,height:623},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAICAIAAABPmPnhAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA2ElEQVQImSXE0UrDMBSA4bz/pQ/hjRfzbjgQOnHq0MLG5ta0aZvsJKVNm5yc1FG8EKTs5+Nnd+v9w9vnIj0+5+pVti9Vc/vyIJLcsFOHI7a9NYR2jC6G/ncaiezXYYOuY9uqbY2+gNYwp7WWUgJoA8Z7ZB8cVMFFngvOBedFxmVZaXWBWg6dZe8cyvMpO2dlXkjVVLJR0EJjtenQOZbCEAMO3nsMGChQRCIfCGnGjo37u9IUwzSGKYYfdLPgrzRj9992U/eJsGthk6Jb7uvHtF6k6mknVzv1D5kJ0x55FUhVAAAAAElFTkSuQmCC"}},17942:(e,t,n)=>{"use strict";n.d(t,{Zo:()=>u,kt:()=>g});var a=n(50959);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},u=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,l=e.originalType,s=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),c=p(n),m=r,g=c["".concat(s,".").concat(m)]||c[m]||d[m]||l;return n?a.createElement(g,o(o({ref:t},u),{},{components:n})):a.createElement(g,o({ref:t},u))}));function g(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=n.length,o=new Array(l);o[0]=m;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i[c]="string"==typeof e?e:r,o[1]=i;for(var p=2;p<l;p++)o[p]=n[p];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},91044:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var a=n(50959),r=n(45924);const l={tabItem:"tabItem_skN5"};function o(e){let{children:t,hidden:n,className:o}=e;return a.createElement("div",{role:"tabpanel",className:(0,r.Z)(l.tabItem,o),hidden:n},t)}},42181:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var a=n(28957),r=n(50959),l=n(45924),o=n(70562),i=n(94506),s=n(75814);const p={tabList:"tabList_Ifpf",tabItem:"tabItem_j1rW"};function u(e){let{className:t,block:n,selectedValue:i,selectValue:s,tabValues:u}=e;const c=[],{blockElementScrollPositionUntilNextRender:d}=(0,o.o5)(),m=e=>{const t=e.currentTarget,n=c.indexOf(t),a=u[n].value;a!==i&&(d(t),s(a))},g=e=>{var t;let n=null;switch(e.key){case"Enter":m(e);break;case"ArrowRight":{var a;const t=c.indexOf(e.currentTarget)+1;n=null!=(a=c[t])?a:c[0];break}case"ArrowLeft":{var r;const t=c.indexOf(e.currentTarget)-1;n=null!=(r=c[t])?r:c[c.length-1];break}}null==(t=n)||t.focus()};return r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,l.Z)("tabs",{"tabs--block":n},t)},u.map((e=>{let{value:t,label:n,attributes:o}=e;return r.createElement("li",(0,a.Z)({role:"tab",tabIndex:i===t?0:-1,"aria-selected":i===t,key:t,ref:e=>c.push(e),onKeyDown:g,onClick:m},o,{className:(0,l.Z)("tabs__item",p.tabItem,null==o?void 0:o.className,{"tabs__item--active":i===t})}),null!=n?n:t)})))}function c(e){let{lazy:t,children:n,selectedValue:a}=e;const l=(Array.isArray(n)?n:[n]).filter(Boolean);if(t){const e=l.find((e=>e.props.value===a));return e?(0,r.cloneElement)(e,{className:"margin-top--md"}):null}return r.createElement("div",{className:"margin-top--md"},l.map(((e,t)=>(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==a}))))}function d(e){const t=(0,i.Y)(e);return r.createElement("div",{className:(0,l.Z)("tabs-container",p.tabList)},r.createElement(u,(0,a.Z)({},e,t)),r.createElement(c,(0,a.Z)({},e,t)))}function m(e){const t=(0,s.default)();return r.createElement(d,(0,a.Z)({key:String(t)},e))}},94506:(e,t,n)=>{"use strict";n.d(t,{Y:()=>d});var a=n(50959),r=n(28903),l=n(94150),o=n(40828),i=n(29163);function s(e){return function(e){var t,n;return null!=(t=null==(n=a.Children.map(e,(e=>{if(!e||(0,a.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})))?void 0:n.filter(Boolean))?t:[]}(e).map((e=>{let{props:{value:t,label:n,attributes:a,default:r}}=e;return{value:t,label:n,attributes:a,default:r}}))}function p(e){const{values:t,children:n}=e;return(0,a.useMemo)((()=>{const e=null!=t?t:s(n);return function(e){const t=(0,o.l)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,n])}function u(e){let{value:t,tabValues:n}=e;return n.some((e=>e.value===t))}function c(e){let{queryString:t=!1,groupId:n}=e;const o=(0,r.k6)(),i=function(e){let{queryString:t=!1,groupId:n}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return null!=n?n:null}({queryString:t,groupId:n});return[(0,l._X)(i),(0,a.useCallback)((e=>{if(!i)return;const t=new URLSearchParams(o.location.search);t.set(i,e),o.replace({...o.location,search:t.toString()})}),[i,o])]}function d(e){const{defaultValue:t,queryString:n=!1,groupId:r}=e,l=p(e),[o,s]=(0,a.useState)((()=>function(e){var t;let{defaultValue:n,tabValues:a}=e;if(0===a.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!u({value:n,tabValues:a}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${a.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const r=null!=(t=a.find((e=>e.default)))?t:a[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:t,tabValues:l}))),[d,m]=c({queryString:n,groupId:r}),[g,h]=function(e){let{groupId:t}=e;const n=function(e){return e?`docusaurus.tab.${e}`:null}(t),[r,l]=(0,i.Nk)(n);return[r,(0,a.useCallback)((e=>{n&&l.set(e)}),[n,l])]}({groupId:r}),f=(()=>{const e=null!=d?d:g;return u({value:e,tabValues:l})?e:null})();(0,a.useLayoutEffect)((()=>{f&&s(f)}),[f]);return{selectedValue:o,selectValue:(0,a.useCallback)((e=>{if(!u({value:e,tabValues:l}))throw new Error(`Can't select invalid tab value=${e}`);s(e),m(e),h(e)}),[m,h,l]),tabValues:l}}},51193:(e,t,n)=>{"use strict";n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>p,default:()=>k,frontMatter:()=>s,metadata:()=>u,toc:()=>d});var a=n(28957),r=(n(50959),n(17942)),l=n(42181),o=n(91044),i=n(49500);const s={id:"install",sidebar_position:2},p="Installation",u={unversionedId:"guide/install",id:"guide/install",title:"Installation",description:"Overview",source:"@site/docs/guide/install.mdx",sourceDirName:"guide",slug:"/guide/install",permalink:"/open-docs/docs/guide/install",draft:!1,tags:[],version:"current",lastUpdatedBy:"liupengfei",lastUpdatedAt:1703234094,formattedLastUpdatedAt:"Dec 22, 2023",sidebarPosition:2,frontMatter:{id:"install",sidebar_position:2},sidebar:"guide",previous:{title:"Overview",permalink:"/open-docs/docs/guide/overview"},next:{title:"Plugin Policy",permalink:"/open-docs/docs/guide/policy"}},c={},d=[{value:"Overview",id:"overview",level:2},{value:"Requirements",id:"requirements",level:2},{value:"Installation",id:"installation-1",level:2},{value:"Step 1: Install Node.js",id:"step-1-install-nodejs",level:3},{value:"Step 2: Install cmake or node-gyp",id:"step-2-install-cmake-or-node-gyp",level:3},{value:"Mac/Linux install cmake",id:"maclinux-install-cmake",level:4},{value:"Install for <code>brew</code>",id:"install-for-brew",level:5},{value:"Install for <code>dmg</code>",id:"install-for-dmg",level:5},{value:"Windows install node-gyp",id:"windows-install-node-gyp",level:4},{value:"Step 3: Install ONES CLI",id:"step-3-install-ones-cli",level:3},{value:"Upgrade ONES CLI",id:"upgrade-ones-cli",level:4}],m=(g="Image",function(e){return i.warn("Component "+g+" was not imported, exported, or provided by MDXProvider as global scope"),(0,r.kt)("div",e)});var g;const h={toc:d},f="wrapper";function k(e){let{components:t,...i}=e;return(0,r.kt)(f,(0,a.Z)({},h,i,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"installation"},"Installation"),(0,r.kt)("h2",{id:"overview"},"Overview"),(0,r.kt)("p",null,"Before doing plugin development, you need to make some preparations for the environment."),(0,r.kt)("h2",{id:"requirements"},"Requirements"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Node.js"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"v16.13.0+")))),(0,r.kt)("h2",{id:"installation-1"},"Installation"),(0,r.kt)("h3",{id:"step-1-install-nodejs"},"Step 1: Install Node.js"),(0,r.kt)("p",null,"ONES plugin development requires ",(0,r.kt)("a",{parentName:"p",href:"https://nodejs.org/en/"},"Node.js")," ",(0,r.kt)("inlineCode",{parentName:"p"},"v16.13.0")," or higher, You can use ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/tj/n"},"n"),", ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/creationix/nvm"},"nvm")," or ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/coreybutler/nvm-windows"},"nvm-windows")," to manage multiple Node versions on the same computer."),(0,r.kt)("h3",{id:"step-2-install-cmake-or-node-gyp"},"Step 2: Install cmake or node-gyp"),(0,r.kt)("h4",{id:"maclinux-install-cmake"},"Mac/Linux install cmake"),(0,r.kt)("p",null,"In the process of initializing the plugin project, ONES CLI will install the ",(0,r.kt)("inlineCode",{parentName:"p"},"/backend")," of the project depending on it, and the dependent installation exception may occur in the process."),(0,r.kt)("p",null,"This is because some of the dependencies required for plugin development use the ",(0,r.kt)("inlineCode",{parentName:"p"},"CMake")," tool. Therefore, if the project depends on an exception during the installation process, you need to install the ",(0,r.kt)("inlineCode",{parentName:"p"},"CMake")," tool."),(0,r.kt)("h5",{id:"install-for-brew"},"Install for ",(0,r.kt)("inlineCode",{parentName:"h5"},"brew")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"brew install cmake\n")),(0,r.kt)("h5",{id:"install-for-dmg"},"Install for ",(0,r.kt)("inlineCode",{parentName:"h5"},"dmg")),(0,r.kt)("p",null,"It is recommended that you install stable version 3.22\uff1a",(0,r.kt)("a",{parentName:"p",href:"https://github.com/Kitware/CMake/releases/download/v3.22.2/cmake-3.22.2-macos-universal.dmg"},"cmake-3.22.2-macos-universal.dmg")),(0,r.kt)("p",null,"After the dmg installation is complete, you need to execute the command to complete the installation process:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'sudo "/Applications/CMake.app/Contents/bin/cmake-gui" --install\n')),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Password:\nOutput:\nLinked: '/usr/local/bin/cmake' -> '/Applications/CMake.app/Contents/bin/cmake'\nLinked: '/usr/local/bin/ctest' -> '/Applications/CMake.app/Contents/bin/ctest'\nLinked: '/usr/local/bin/cpack' -> '/Applications/CMake.app/Contents/bin/cpack'\nLinked: '/usr/local/bin/cmake-gui' -> '/Applications/CMake.app/Contents/bin/cmake-gui'\nLinked: '/usr/local/bin/ccmake' -> '/Applications/CMake.app/Contents/bin/ccmake'\n")),(0,r.kt)("p",null,"Check that the installation is successful:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"cmake --version\n# cmake version 3.22.2\n")),(0,r.kt)("h4",{id:"windows-install-node-gyp"},"Windows install node-gyp"),(0,r.kt)("p",null,"In the process of initializing the plugin project, ONES CLI will install the ",(0,r.kt)("inlineCode",{parentName:"p"},"/backend")," of the project depending on it, and the dependent installation exception may occur in the process."),(0,r.kt)("p",null,"This is usually caused by the lack of tools needed for construction, which requires developers to check and install additional build tools ",(0,r.kt)("inlineCode",{parentName:"p"},"node-gyp")," during the installation of Node.js."),(0,r.kt)(m,{img:n(97245),mdxType:"Image"}),(0,r.kt)("p",null,"It should be noted that in some Windows distributions (such as the home version), users are not asked\nby default whether they need to use administrator permissions to install Node.js, while ",(0,r.kt)("inlineCode",{parentName:"p"},"node-gpy")," may\nfail due to lack of permissions."),(0,r.kt)("p",null,"In this case, the developer needs to start ",(0,r.kt)("inlineCode",{parentName:"p"},"Powershell")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"CMD")," with administrator permissions and start the Node.js installer with the following instructions:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-Powershell"},'msiexec /package "C:\\foo\\baz\\node-v16.xx.xx-x64.msi"\n')),(0,r.kt)("p",null,"If you are correctly installing ",(0,r.kt)("inlineCode",{parentName:"p"},"node-gyp"),", there are still problems in the process of initializing the plugin project. It is recommended that developers locate, fix, or report the problem from the ",(0,r.kt)("inlineCode",{parentName:"p"},"npm debug log"),"."),(0,r.kt)("h3",{id:"step-3-install-ones-cli"},"Step 3: Install ONES CLI"),(0,r.kt)("p",null,"ONE CLI is a scaffolding tool provided by the open platform for quickly creating plugin projects. You can install ONES CLI using any of the following instructions, including the plugin development tool op."),(0,r.kt)(l.Z,{groupId:"npm2yarn",mdxType:"Tabs"},(0,r.kt)(o.default,{value:"npm",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"npm install -g @ones/cli --registry=https://npm.partner.ones.cn/registry/\n# or\nsudo npm install -g @ones/cli --registry=https://npm.partner.ones.cn/registry/\n"))),(0,r.kt)(o.default,{value:"yarn",label:"Yarn",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"yarn global add @ones/cli --registry=https://npm.partner.ones.cn/registry/\n# or\nsudo yarn global add @ones/cli --registry=https://npm.partner.ones.cn/registry/\n"))),(0,r.kt)(o.default,{value:"pnpm",label:"pnpm",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"pnpm add -g @ones/cli --registry=https://npm.partner.ones.cn/registry/\n# or\nsudo pnpm add -g @ones/cli --registry=https://npm.partner.ones.cn/registry/\n")))),(0,r.kt)("p",null,"After the installation is complete, you can use the ",(0,r.kt)("inlineCode",{parentName:"p"},"--version")," command on the command line to verify that the installation is correct and get the version information."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"\u279c ones --version\n1.0.0\n")),(0,r.kt)("p",null,"For specific instructions, please refer to: ",(0,r.kt)("a",{parentName:"p",href:"/open-docs/docs/tools/cli/"},"ONES CLI")),(0,r.kt)("h4",{id:"upgrade-ones-cli"},"Upgrade ONES CLI"),(0,r.kt)("p",null,"To upgrade the scaffolding later, you can run any of the following instructions:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"npm update -g @ones/cli --registry=https://npm.partner.ones.cn/registry/\n# or\nsudo npm update -g @ones/cli --registry=https://npm.partner.ones.cn/registry/\n")))}k.isMDXComponent=!0}}]);