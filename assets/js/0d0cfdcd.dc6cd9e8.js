"use strict";(self.webpackChunkopen_docs=self.webpackChunkopen_docs||[]).push([[89864],{3905:(t,n,e)=>{e.d(n,{Zo:()=>k,kt:()=>s});var a=e(67294);function r(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function l(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,a)}return e}function u(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?l(Object(e),!0).forEach((function(n){r(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):l(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function p(t,n){if(null==t)return{};var e,a,r=function(t,n){if(null==t)return{};var e,a,r={},l=Object.keys(t);for(a=0;a<l.length;a++)e=l[a],n.indexOf(e)>=0||(r[e]=t[e]);return r}(t,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)e=l[a],n.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(t,e)&&(r[e]=t[e])}return r}var i=a.createContext({}),o=function(t){var n=a.useContext(i),e=n;return t&&(e="function"==typeof t?t(n):u(u({},n),t)),e},k=function(t){var n=o(t.components);return a.createElement(i.Provider,{value:n},t.children)},d={inlineCode:"code",wrapper:function(t){var n=t.children;return a.createElement(a.Fragment,{},n)}},m=a.forwardRef((function(t,n){var e=t.components,r=t.mdxType,l=t.originalType,i=t.parentName,k=p(t,["components","mdxType","originalType","parentName"]),m=o(e),s=r,c=m["".concat(i,".").concat(s)]||m[s]||d[s]||l;return e?a.createElement(c,u(u({ref:n},k),{},{components:e})):a.createElement(c,u({ref:n},k))}));function s(t,n){var e=arguments,r=n&&n.mdxType;if("string"==typeof t||r){var l=e.length,u=new Array(l);u[0]=m;var p={};for(var i in n)hasOwnProperty.call(n,i)&&(p[i]=n[i]);p.originalType=t,p.mdxType="string"==typeof t?t:r,u[1]=p;for(var o=2;o<l;o++)u[o]=e[o];return a.createElement.apply(null,u)}return a.createElement.apply(null,e)}m.displayName="MDXCreateElement"},47135:(t,n,e)=>{e.r(n),e.d(n,{assets:()=>i,contentTitle:()=>u,default:()=>d,frontMatter:()=>l,metadata:()=>p,toc:()=>o});var a=e(87462),r=(e(67294),e(3905));const l={},u="ONES GraphQL API",p={unversionedId:"api/graphql/graphql",id:"version-1.x/api/graphql/graphql",title:"ONES GraphQL API",description:"\u524d\u8a00",source:"@site/versioned_docs/version-1.x/api/graphql/graphql.md",sourceDirName:"api/graphql",slug:"/api/graphql/",permalink:"/open-docs/docs/api/graphql/",draft:!1,tags:[],version:"1.x",lastUpdatedBy:"liupengfei",lastUpdatedAt:1690862808,formattedLastUpdatedAt:"Aug 1, 2023",frontMatter:{},sidebar:"api",previous:{title:"Manhour",permalink:"/open-docs/docs/api/item/manhour/"},next:{title:"ONES graphQL simple tutorial",permalink:"/open-docs/docs/api/graphql/basic_tutorial/"}},i={},o=[{value:"\u524d\u8a00",id:"\u524d\u8a00",level:2},{value:'<p id="type_system">\u7c7b\u578b\u7cfb\u7edf</p>',id:"\u7c7b\u578b\u7cfb\u7edf",level:2},{value:'<p id="learn_resource">\u5b66\u4e60 GraphQL</p>',id:"\u5b66\u4e60-graphql",level:3},{value:'<p id="call_ones_graphql">\u8c03\u7528 GraphQL \u63a5\u53e3</p>',id:"\u8c03\u7528-graphql-\u63a5\u53e3",level:2},{value:"\u63a5\u53e3\u8bf7\u6c42 URL",id:"\u63a5\u53e3\u8bf7\u6c42-url",level:3},{value:"HTTP Method",id:"http-method",level:3},{value:"\u662f\u5426\u9700\u8981\u767b\u5f55",id:"\u662f\u5426\u9700\u8981\u767b\u5f55",level:3},{value:"\u8bf7\u6c42\u53c2\u6570\u5217\u8868",id:"\u8bf7\u6c42\u53c2\u6570\u5217\u8868",level:3},{value:"\u8fd4\u56de\u503c\u5217\u8868",id:"\u8fd4\u56de\u503c\u5217\u8868",level:3},{value:"\u8bf7\u6c42\u4f53\u53c2\u8003",id:"\u8bf7\u6c42\u4f53\u53c2\u8003",level:3},{value:"\u9519\u8bef\u503c\u53c2\u8003",id:"\u9519\u8bef\u503c\u53c2\u8003",level:3},{value:"\u8fd4\u56de\u503c\u53c2\u8003",id:"\u8fd4\u56de\u503c\u53c2\u8003",level:3},{value:"\u64cd\u4f5c\u7b26",id:"\u64cd\u4f5c\u7b26",level:3},{value:"\u8303\u56f4\u5b57\u6bb5\u4e8c\u7ea7\u8fd0\u7b97\u7b26",id:"\u8303\u56f4\u5b57\u6bb5\u4e8c\u7ea7\u8fd0\u7b97\u7b26",level:4},{value:"\u6d6e\u70b9\u578b\u5b57\u6bb5\u4e8c\u7ea7\u8fd0\u7b97\u7b26",id:"\u6d6e\u70b9\u578b\u5b57\u6bb5\u4e8c\u7ea7\u8fd0\u7b97\u7b26",level:4},{value:"\u7ec4\u7ec7\u7b5b\u9009\u6761\u4ef6",id:"\u7ec4\u7ec7\u7b5b\u9009\u6761\u4ef6",level:3},{value:"\u83b7\u53d6\u5c5e\u6027\u8be6\u7ec6\u4fe1\u606f",id:"\u83b7\u53d6\u5c5e\u6027\u8be6\u7ec6\u4fe1\u606f",level:3},{value:"\u805a\u5408\u51fd\u6570",id:"\u805a\u5408\u51fd\u6570",level:3},{value:"\u5206\u9875",id:"\u5206\u9875",level:3},{value:"\u793a\u4f8b",id:"\u793a\u4f8b",level:4},{value:"\u53c2\u6570\u8bf4\u660e-Pagination",id:"\u53c2\u6570\u8bf4\u660e-pagination",level:4},{value:"\u53c2\u6570\u8bf4\u660e-PageInfo",id:"\u53c2\u6570\u8bf4\u660e-pageinfo",level:4},{value:"\u5206\u7ec4\u4e0b\u7684\u5206\u9875",id:"\u5206\u7ec4\u4e0b\u7684\u5206\u9875",level:4}],k={toc:o};function d(t){let{components:n,...e}=t;return(0,r.kt)("wrapper",(0,a.Z)({},k,e,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"ones-graphql-api"},"ONES GraphQL API"),(0,r.kt)("ul",null,(0,r.kt)("li",null,(0,r.kt)("a",{href:"#\u524d\u8a00"},"\u524d\u8a00")),(0,r.kt)("ul",null,(0,r.kt)("li",null,(0,r.kt)("a",{href:"#type_system"},"\u7c7b\u578b\u7cfb\u7edf")),(0,r.kt)("li",null,(0,r.kt)("a",{href:"#learn_resource"},"\u5b66\u4e60 GraphQL"))),(0,r.kt)("li",null,(0,r.kt)("a",{href:"schema"},"ONES GraphQL Schema")),(0,r.kt)("li",null,(0,r.kt)("a",{href:"#call_ones_graphql"},"\u8c03\u7528 GraphQL \u63a5\u53e3")),(0,r.kt)("li",null,(0,r.kt)("a",{href:"#\u64cd\u4f5c\u7b26"},"\u64cd\u4f5c\u7b26")),(0,r.kt)("ul",null,(0,r.kt)("li",null,(0,r.kt)("a",{href:"#\u8303\u56f4\u5b57\u6bb5\u4e8c\u7ea7\u8fd0\u7b97\u7b26"},"\u8303\u56f4\u5b57\u6bb5\u4e8c\u7ea7\u8fd0\u7b97\u7b26")),(0,r.kt)("li",null,(0,r.kt)("a",{href:"#\u6d6e\u70b9\u578b\u5b57\u6bb5\u4e8c\u7ea7\u8fd0\u7b97\u7b26"},"\u6d6e\u70b9\u578b\u5b57\u6bb5\u4e8c\u7ea7\u8fd0\u7b97\u7b26"))),(0,r.kt)("li",null,(0,r.kt)("a",{href:"#\u7ec4\u7ec7\u7b5b\u9009\u6761\u4ef6"},"\u7ec4\u7ec7\u7b5b\u9009\u6761\u4ef6")),(0,r.kt)("li",null,(0,r.kt)("a",{href:"#\u805a\u5408\u51fd\u6570"},"\u805a\u5408\u51fd\u6570")),(0,r.kt)("li",null,(0,r.kt)("a",{href:"#\u5206\u9875"},"\u5206\u9875"))),(0,r.kt)("h2",{id:"\u524d\u8a00"},"\u524d\u8a00"),(0,r.kt)("p",null,"\u5bf9\u63a5 ONES GraphQL API \u9700\u8981\u5bf9 GraphQL \u6709\u4e00\u5b9a\u7684\u4e86\u89e3\u3002"),(0,r.kt)("p",null,"GraphQL \u662f\u4e00\u79cd\u7528\u4e8e API \u7684\u67e5\u8be2\u8bed\u8a00\u3002\u4e5f\u662f\u4e00\u4e2a\u6ee1\u8db3\u4f60\u6570\u636e\u67e5\u8be2\u7684\u8fd0\u884c\u65f6\u3002 GraphQL \u5bf9 API \u4e2d\u7684\u6570\u636e\u63d0\u4f9b\u4e86\u4e00\u5957\u6613\u4e8e\u7406\u89e3\u7684\u5b8c\u6574\u63cf\u8ff0\uff0c\u4f7f\u5f97\u5ba2\u6237\u7aef\u80fd\u591f\u51c6\u786e\u5730\u83b7\u5f97\u5b83\u9700\u8981\u7684\u6570\u636e\uff0c\u800c\u4e14\u6ca1\u6709\u4efb\u4f55\u5197\u4f59\uff0c\u4e5f\u8ba9 API \u66f4\u5bb9\u6613\u5730\u968f\u7740\u65f6\u95f4\u63a8\u79fb\u800c\u6f14\u8fdb\uff0c\u8fd8\u80fd\u7528\u4e8e\u6784\u5efa\u5f3a\u5927\u7684\u5f00\u53d1\u8005\u5de5\u5177\u3002"),(0,r.kt)("p",null,"GraphQL \u662f\u5173\u4e8e\u56fe\u7684\u67e5\u8be2\u8bed\u8a00\u3002\u5b83\u662f\u5bf9\u8fde\u63a5\u73b0\u4ee3\u5e94\u7528\u7a0b\u5e8f\u5230\u4e91\u670d\u52a1\u8fd9\u4e00\u95ee\u9898\u7684\u5168\u9762\u89e3\u51b3\u65b9\u6848\u3002\u56e0\u6b64\uff0c\u5b83\u6784\u6210\u4e86\u73b0\u4ee3\u5e94\u7528\u7a0b\u5e8f\u5f00\u53d1\u5806\u6808\u4e2d\u4e00\u4e2a\u65b0\u7684\u91cd\u8981\u5c42\u7684\u57fa\u7840\uff1a\u6570\u636e\u56fe\u3002\u8fd9\u4e2a\u65b0\u7684\u5c42\u5c06 ONES \u7684\u6240\u6709\u5e94\u7528\u7a0b\u5e8f\u6570\u636e\u548c\u670d\u52a1\u96c6\u4e2d\u5728\u540c\u4e00\u4e2a\u5730\u65b9\uff0c\u5177\u6709\u4e00\u81f4\u3001\u5b89\u5168\u4e14\u6613\u4e8e\u4f7f\u7528\u7684\u754c\u9762\uff0c\u56e0\u6b64\u4efb\u4f55\u4eba\u90fd\u80fd\u591f\u901a\u8fc7\u6700\u5c0f\u7684\u78e8\u5408\u5229\u7528\u5b83\u3002"),(0,r.kt)("h2",{id:"\u7c7b\u578b\u7cfb\u7edf"},(0,r.kt)("p",{id:"type_system"},"\u7c7b\u578b\u7cfb\u7edf")),(0,r.kt)("p",null,"GraphQL \u662f\u5b9a\u4e49\u5728\u7c7b\u578b\u7cfb\u7edf\uff08Type System\uff09\u4e0a\u7684\u56fe\u67e5\u8be2\u8bed\u8a00\u3002\u6240\u6709\u7684\u67e5\u8be2\u90fd\u662f\u57fa\u4e8e\u5df2\u88ab\u5b9a\u4e49\u597d\u7684 Schema \u6a21\u578b\u4e4b\u4e0a\u3002\u67e5\u770b ",(0,r.kt)("a",{parentName:"p",href:"/open-docs/docs/api/graphql/schema/"},"ONES GraphQL Schema")," \u5b9a\u4e49\u3002"),(0,r.kt)("h3",{id:"\u5b66\u4e60-graphql"},(0,r.kt)("p",{id:"learn_resource"},"\u5b66\u4e60 GraphQL")),(0,r.kt)("p",null,"\u5982\u679c\u60a8\u521a\u5f00\u59cb\u63a5\u89e6 GraphQL\uff0c \u5bf9\u8bed\u8a00\u672c\u8eab\u8fd8\u4e0d\u662f\u5f88\u4e86\u89e3\uff0c \u8bf7\u79fb\u6b65\u81f3 GraphQL \u8d44\u6e90\u5b66\u4e60\u7f51\u7ad9\uff0c\u8fdb\u884c\u8be6\u7ec6\u7684\u5b66\u4e60\u4e0e\u4e86\u89e3\u3002"),(0,r.kt)("a",{href:"https://graphql.org/learn/"},"GraphQL \u82f1\u6587\u7f51\u7ad9"),(0,r.kt)("a",{href:"https://graphql.cn/learn/"},"GraphQL \u4e2d\u6587\u7f51\u7ad9"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://spec.graphql.cn/#"},"GraphQL \u8349\u6848")),(0,r.kt)("h2",{id:"\u8c03\u7528-graphql-\u63a5\u53e3"},(0,r.kt)("p",{id:"call_ones_graphql"},"\u8c03\u7528 GraphQL \u63a5\u53e3")),(0,r.kt)("p",null,"\u6570\u636e\u67e5\u8be2\u63a5\u53e3"),(0,r.kt)("h3",{id:"\u63a5\u53e3\u8bf7\u6c42-url"},"\u63a5\u53e3\u8bf7\u6c42 URL"),(0,r.kt)("p",null,"https://your-host-name/project/api/project/team/:teamUUID/items/graphql"),(0,r.kt)("h3",{id:"http-method"},"HTTP Method"),(0,r.kt)("p",null,"post"),(0,r.kt)("h3",{id:"\u662f\u5426\u9700\u8981\u767b\u5f55"},"\u662f\u5426\u9700\u8981\u767b\u5f55"),(0,r.kt)("p",null,"\u662f ",(0,r.kt)("a",{parentName:"p",href:"/open-docs/docs/api/auth/"},"\u70b9\u6211\u83b7\u53d6\u767b\u5f55\u65b9\u6cd5")),(0,r.kt)("h3",{id:"\u8bf7\u6c42\u53c2\u6570\u5217\u8868"},"\u8bf7\u6c42\u53c2\u6570\u5217\u8868"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"\u53c2\u6570\u540d"),(0,r.kt)("th",{parentName:"tr",align:"left"},"\u503c\u7c7b\u578b"),(0,r.kt)("th",{parentName:"tr",align:"left"},"\u8bf4\u660e"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"query"),(0,r.kt)("td",{parentName:"tr",align:"left"},"string"),(0,r.kt)("td",{parentName:"tr",align:"left"},"GraphQL \u67e5\u8be2\u8bed\u53e5")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"variables"),(0,r.kt)("td",{parentName:"tr",align:"left"},"map"),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u952e\u503c\u5bf9\u7c7b\u578b\uff0c \u4f5c\u4e3a GraphQL \u67e5\u8be2\u53c2\u6570")))),(0,r.kt)("h3",{id:"\u8fd4\u56de\u503c\u5217\u8868"},"\u8fd4\u56de\u503c\u5217\u8868"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"\u53c2\u6570\u540d"),(0,r.kt)("th",{parentName:"tr",align:"left"},"\u503c\u7c7b\u578b"),(0,r.kt)("th",{parentName:"tr",align:"left"},"\u8bf4\u660e"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"data"),(0,r.kt)("td",{parentName:"tr",align:"left"},"interface{}"),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u4efb\u610f\u7c7b\u578b\uff0c \u4f5c\u4e3a\u67e5\u8be2\u7ed3\u679c")))),(0,r.kt)("h3",{id:"\u8bf7\u6c42\u4f53\u53c2\u8003"},"\u8bf7\u6c42\u4f53\u53c2\u8003"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-curl"},'curl -X POST \\\n  https://your-host-name/project/api/project/team/BDfDqJU7/items/graphql \\\n  -H \'Content-Type: application/json\' \\\n  -H \'Ones-Auth-Token: si83t7NzOvAspJ4L7RhKparuw9FvAsy7z3UupTCiGxhd7zEO2cBIG12vrw31sPRP\' \\\n  -H \'Ones-User-Id: 6ZpgEzkk\' \\\n  -H \'cache-control: no-cache\' \\\n  -d \'{"query":"query PRODUCTS($filter: Filter, $orderBy: OrderBy) {\\n    products(filter: $filter, orderBy: $orderBy) {\\n      name\\n      uuid\\n      key\\n      owner {\\n        uuid\\n        name\\n      }\\n\\n      createTime\\n      assign {\\n        uuid\\n        name\\n      }\\n      \\n    productComponents {\\n      uuid\\n      name\\n      parent{\\n        uuid\\n      }\\n      key\\n      type\\n      contextType\\n      contextParam1\\n      contextParam2\\n      position\\n      urlSetting{\\n        url\\n      }\\n      views{\\n        key\\n        uuid\\n        name\\n        builtIn\\n      }\\n    }\\n  \\n      \\n    taskCount\\n    taskCountToDo\\n    taskCountDone\\n    taskCountInProgress\\n  \\n    }\\n  }","variables":{"orderBy":{"createTime":"DESC"}}}\'\n')),(0,r.kt)("h3",{id:"\u9519\u8bef\u503c\u53c2\u8003"},"\u9519\u8bef\u503c\u53c2\u8003"),(0,r.kt)("p",null,"\u5f53\u63a5\u53e3\u4f20\u5165\u5b57\u6bb5 query \u6709\u8bed\u6cd5\u9519\u8bef \u6216\u8005 variables \u53c2\u6570\u503c\u4e0e query \u9700\u6c42\u53c2\u6570\u4e0d\u5339\u914d\uff0c\u63a5\u53e3\u5c06\u8fd4\u56de\u9519\u8bef 500"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "code": 500,\n  "errcode": "ServerError",\n  "type": "ServerError"\n}\n')),(0,r.kt)("h3",{id:"\u8fd4\u56de\u503c\u53c2\u8003"},"\u8fd4\u56de\u503c\u53c2\u8003"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "data": {\n        "products": [\n            {\n                "assign": {\n                    "name": "\u201d\u6c99\u9cc4\u9c7c\u201c\u6c99\xb7\u514b\u6d1b\u514b\u8fbe\u5c14",\n                    "uuid": "QuRAYz3k"\n                },\n                "createTime": 1581999173,\n                "key": "product-6ZpgEzkkLPikRNXX",\n                "name": "\u554a\u554a\u554a",\n                "owner": {\n                    "name": "\u8d1d\u52a0\u5e9e\u514b",\n                    "uuid": "6ZpgEzkk"\n                },\n                "productComponents": [\n                    {\n                        "contextParam1": "",\n                        "contextParam2": null,\n                        "contextType": 0,\n                        "key": "product_component-XrqBwPaC",\n                        "name": "\u6a21\u5757",\n                        "parent": null,\n                        "position": 3,\n                        "type": 6,\n                        "urlSetting": null,\n                        "uuid": "XrqBwPaC",\n                        "views": []\n                    },\n                    {\n                        "contextParam1": "3D2UjSN6",\n                        "contextParam2": null,\n                        "contextType": 1,\n                        "key": "product_component-QCBCdgqM",\n                        "name": "\u4efb\u52a1",\n                        "parent": null,\n                        "position": 1,\n                        "type": 3,\n                        "urlSetting": null,\n                        "uuid": "QCBCdgqM",\n                        "views": [\n                            {\n                                "builtIn": true,\n                                "key": "product_component_view-Q6QZEXM9",\n                                "name": "\u5168\u90e8\u4efb\u52a1",\n                                "uuid": "Q6QZEXM9"\n                            }\n                        ]\n                    },\n                    {\n                        "contextParam1": "4sBPV4Eh",\n                        "contextParam2": null,\n                        "contextType": 1,\n                        "key": "product_component-NpawYgE9",\n                        "name": "\u7f3a\u9677",\n                        "parent": null,\n                        "position": 2,\n                        "type": 3,\n                        "urlSetting": null,\n                        "uuid": "NpawYgE9",\n                        "views": [\n                            {\n                                "builtIn": true,\n                                "key": "product_component_view-DQRDXBCC",\n                                "name": "\u5168\u90e8\u7f3a\u9677",\n                                "uuid": "DQRDXBCC"\n                            }\n                        ]\n                    },\n                    {\n                        "contextParam1": "GwNxpqQh",\n                        "contextParam2": null,\n                        "contextType": 1,\n                        "key": "product_component-TFBoaLF9",\n                        "name": "\u9700\u6c42",\n                        "parent": null,\n                        "position": 0,\n                        "type": 3,\n                        "urlSetting": null,\n                        "uuid": "TFBoaLF9",\n                        "views": [\n                            {\n                                "builtIn": true,\n                                "key": "product_component_view-UcK9jVug",\n                                "name": "\u5168\u90e8\u9700\u6c42",\n                                "uuid": "UcK9jVug"\n                            }\n                        ]\n                    }\n                ],\n                "taskCount": 0,\n                "taskCountDone": 0,\n                "taskCountInProgress": 0,\n                "taskCountToDo": 0,\n                "uuid": "6ZpgEzkkLPikRNXX"\n            },\n           ....\n        ]\n    }\n}\n')),(0,r.kt)("hr",null),(0,r.kt)("p",null,"\u5982\u679c\u60a8\u5728\u7f16\u5199 GraphQL \u8bed\u53e5\u8c03\u7528 ONES GraphQL \u63a5\u53e3\u65f6\u9047\u5230\u4e86\u4e00\u4e9b\u95ee\u9898\u3002\u53ef\u4ee5\u5728\u4f7f\u7528 ONES \u7cfb\u7edf\u65f6\u6253\u5f00\u6d4f\u89c8\u5668\u63a7\u5236\u53f0\uff0c\u53c2\u8003 ONES \u524d\u7aef\u754c\u9762\u8c03\u7528 ONES GraphQL \u63a5\u53e3\u7684\u65b9\u5f0f\u3002"),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"\u64cd\u4f5c\u7b26"},"\u64cd\u4f5c\u7b26"),(0,r.kt)("p",null,"\u67e5\u8be2\u64cd\u4f5c\u7b26\uff08Operand\uff09\uff0c\u5b9a\u4e49\u4e86 GraphQL \u8bed\u6cd5\u7b5b\u9009\u5668(filter)\u4e2d\u5141\u8bb8\u7684\u64cd\u4f5c\u7b26\u3002"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"\u64cd\u4f5c\u7b26"),(0,r.kt)("th",{parentName:"tr",align:"left"},"\u662f\u5426\u5305\u542b\u4e8c\u7ea7\u8fd0\u7b97\u7b26"),(0,r.kt)("th",{parentName:"tr",align:"left"},"\u8bf4\u660e"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"in"),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u5426"),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u5f53\u5b58\u5728\u5b57\u6bb5\uff0c\u4e14\u5b57\u6bb5\u7684\u503c\u4e3a\u6570\u7ec4\u5185\u7684\u5176\u4e2d\u4e00\u4e2a\u65f6\u4e3a true")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"notIn"),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u5426"),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u5f53\u5b58\u5728\u5b57\u6bb5\uff0c\u4e14\u5b57\u6bb5\u7684\u503c\u4e0d\u662f\u6570\u7ec4\u5185\u7684\u4efb\u4f55\u4e00\u4e2a\u65f6\u4e3a true")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"equal"),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u5426"),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u5f53\u5b58\u5728\u5b57\u6bb5\uff0c\u4e14\u5b57\u6bb5\u7684\u503c\u7b49\u4e8e\u6307\u5b9a\u7684\u503c\u65f6\u4e3a true")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"notEqual"),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u5426"),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u5f53\u5b58\u5728\u5b57\u6bb5\uff0c\u4e14\u5b57\u6bb5\u7684\u503c\u4e0d\u7b49\u4e8e\u6307\u5b9a\u7684\u503c\u65f6\u4e3a true")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"range"),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u662f"),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u65e5\u671f\u5b57\u6bb5\uff0c\u5f53\u5b58\u5728\u5b57\u6bb5\uff0c\u4e14\u5b57\u6bb5\u7684\u503c\u5728\u8303\u56f4\u5185\u65f6\u4e3a true")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"between"),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u662f"),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u6d6e\u70b9\u578b\u5b57\u6bb5\uff0c\u5f53\u5b58\u5728\u5b57\u6bb5\uff0c\u4e14\u5b57\u6bb5\u7684\u503c\u5728\u8303\u56f4\u5185\u65f6\u4e3a true")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"match"),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u5426"),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u5305\u542b\uff0c\u76f8\u5f53\u4e8e sql like")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"notMatch"),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u5426"),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u4e0d\u5305\u542b\uff0c\u76f8\u5f53\u4e8e sql like \u975e")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"matchFilterGroup"),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u662f"),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u591a\u9009\u4e0b\u62c9\u6846\u7684\u7ec4\u5408\u6761\u4ef6")))),(0,r.kt)("h4",{id:"\u8303\u56f4\u5b57\u6bb5\u4e8c\u7ea7\u8fd0\u7b97\u7b26"},"\u8303\u56f4\u5b57\u6bb5\u4e8c\u7ea7\u8fd0\u7b97\u7b26"),(0,r.kt)("p",null,"range \u7528\u4e8e\u65e5\u671f\u6570\u636e\u6bd4\u8f83"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"\u64cd\u4f5c\u7b26"),(0,r.kt)("th",{parentName:"tr",align:"left"},"\u8bf4\u660e"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"quick"),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u76f8\u5bf9\u65e5\u671f\uff0c\u53d6\u503c\u8303\u56f4\uff1alast_7_days\uff0clast_14_days\uff0clast_30_days\uff0cyesterday\uff0ctoday\uff0cthis_week\uff0cthis_month\uff0cthis_quarter\uff0cthis_year")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"from\uff0cto"),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u65e5\u671f\u95f4\u9694 string")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"fromUnix\uff0ctoUnix"),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u65e5\u671f\u95f4\u9694 int")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"equal"),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u7b49\u4e8e\uff0c\u5373\u5927\u4e8e\u7b49\u4e8e\u67d0\u4e2a\u65e5\u671f\u7684 0 \u70b9\uff0c\u5e76\u4e14\u5c0f\u4e8e\u4e0b\u4e00\u5929\u7684 0 \u70b9")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"notEqual"),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u4e0d\u7b49\u4e8e\uff0c\u5373\u5c0f\u4e8e\u67d0\u4e2a\u65e5\u671f\u7684 0 \u70b9\uff0c\u6216\u8005\u5927\u4e8e\u7b49\u4e8e\u4e0b\u4e00\u5929\u7684 0 \u70b9")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"gte"),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u5927\u4e8e\u7b49\u4e8e\uff0c\u5373\u5927\u4e8e\u7b49\u4e8e\u67d0\u4e2a\u65e5\u671f\u7684 0 \u70b9")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"gt"),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u5927\u4e8e")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"lt"),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u5c0f\u4e8e")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"lte"),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u5c0f\u4e8e\u7b49\u4e8e\uff0c\u5373\u5c0f\u4e8e\u4e0b\u4e00\u5929\u7684 0 \u70b9")))),(0,r.kt)("h4",{id:"\u6d6e\u70b9\u578b\u5b57\u6bb5\u4e8c\u7ea7\u8fd0\u7b97\u7b26"},"\u6d6e\u70b9\u578b\u5b57\u6bb5\u4e8c\u7ea7\u8fd0\u7b97\u7b26"),(0,r.kt)("p",null,"between \u7528\u4e8e\u6574\u578b\u6d6e\u70b9\u578b\u6570\u636e\u6bd4\u8f83"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"\u64cd\u4f5c\u7b26"),(0,r.kt)("th",{parentName:"tr",align:"left"},"\u8bf4\u660e"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"equal"),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u7b49\u4e8e")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"notEqual"),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u4e0d\u7b49\u4e8e")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"gte"),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u5927\u4e8e\u7b49\u4e8e")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"gt"),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u5927\u4e8e")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"lt"),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u5c0f\u4e8e")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"lte"),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u5c0f\u4e8e\u7b49\u4e8e")))),(0,r.kt)("h3",{id:"\u7ec4\u7ec7\u7b5b\u9009\u6761\u4ef6"},"\u7ec4\u7ec7\u7b5b\u9009\u6761\u4ef6"),(0,r.kt)("p",null,"\u9700\u8981\u6839\u636e\u5c5e\u6027\uff08\u5b57\u6bb5\u540d\uff09\u662f\u5426\u4e3a\u56fa\u6709\u5c5e\u6027\uff08\u901a\u8fc7\u5c5e\u6027\u7c7b\u578b\uff1abuiltIn \u5224\u65ad\uff09\u6765\u7ec4\u7ec7\u7b5b\u9009\u6761\u4ef6\u3002"),(0,r.kt)("p",null,"\u56fa\u6709\u5c5e\u6027\u8bed\u6cd5\uff1afield_operand"),(0,r.kt)("p",null,"\u81ea\u5b9a\u4e49\u5c5e\u6027\u8bed\u6cd5\uff1a ","_","field_operand"),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"\u83b7\u53d6\u5c5e\u6027\u8be6\u7ec6\u4fe1\u606f"},"\u83b7\u53d6\u5c5e\u6027\u8be6\u7ec6\u4fe1\u606f"),(0,r.kt)("p",null,"\u83b7\u53d6\u7279\u5b9a Schema \u7684\u6240\u6709\u5c5e\u6027\uff08\u5305\u542b\u81ea\u5b9a\u4e49\u5c5e\u6027\uff09\u4ee5\u53ca\u5c5e\u6027\u8be6\u60c5\u3002pool \u53d6\u503c\u8303\u56f4\u5305\u62ec ONES \u6240\u6709 Schema name, context \u53d6\u503c\u540c\u6743\u9650 context \u76f8\u540c, \u4e00\u822c\u53d6\uff1ateam;"),(0,r.kt)("p",null,"\u793a\u4f8b\uff1a\u53d6 task \u6240\u6709\u5c5e\u6027\u4ee5\u53ca\u5c5e\u6027\u8be6\u60c5\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'{\n    fields(filter: { pool_in: ["task"], context: { type_equal: "team" } }) {\n        uuid\n        name\n        fieldType\n        allowEmpty\n        required\n        builtIn\n        defaultValue\n        aliases\n    }\n}\n')),(0,r.kt)("p",null,"\u8fd4\u56de\u503c\u53c2\u8003\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "data": {\n    "fields": [\n      {\n        "aliases": ["uuid"],\n        "allowEmpty": false,\n        "builtIn": true, // \u56fa\u6709\u5c5e\u6027\n        "defaultValue": null,\n        "fieldType": "text",\n        "name": "[UUID]",\n        "required": false,\n        "uuid": null\n      },\n      {\n        "aliases": ["status"],\n        "allowEmpty": false,\n        "builtIn": false, // \u81ea\u5b9a\u4e49\u5c5e\u6027\n        "defaultValue": null,\n        "fieldType": "status",\n        "name": "\u4efb\u52a1\u72b6\u6001",\n        "required": false,\n        "uuid": null\n      }\n    ]\n  }\n}\n')),(0,r.kt)("hr",null),(0,r.kt)("p",null,"\u7ec4\u7ec7\u7b5b\u9009\u6761\u4ef6\u793a\u4f8b\uff1a",(0,r.kt)("a",{parentName:"p",href:"/open-docs/docs/api/graphql/example/#request_graphql"},"example")),(0,r.kt)("p",null,"\u67e5\u8be2\u81ea\u5b9a\u4e49\u5c5e\u6027\u591a\u9009\u4e0b\u62c9\u5217\u8868\u793a\u4f8b\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-graphql"},'{\n  tasks(filter: { _LNCtECAx_matchFilterGroup: [{ uuid_match: "M3DdwZCv" }] }) {\n    uuid\n    _LNCtECAx {\n      uuid\n      value\n    }\n    name\n    number\n  }\n}\n')),(0,r.kt)("h3",{id:"\u805a\u5408\u51fd\u6570"},"\u805a\u5408\u51fd\u6570"),(0,r.kt)("p",null,"\u76ee\u524d\u805a\u5408\u51fd\u6570\u53ea\u652f\u6301\uff1a sum\uff1b\u7528\u6cd5\u548c sql \u8bed\u53e5\u7c7b\u4f3c \u901a\u8fc7\u5206\u7ec4 groupBy, \u5b9e\u73b0\u5728\u67d0\u4e00\u5217\u4e0a\u7684 sum \u805a\u5408\u64cd\u4f5c\u3002"),(0,r.kt)("p",null,"\u793a\u4f8b\uff1a\u7edf\u8ba1\u8fed\u4ee3\u5de5\u65f6"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-graphql"},'{\n  buckets(groupBy: { tasks: { sprint: {} } }) {\n    key\n    sprint {\n      uuid\n    }\n    estimatedHours(sum: "tasks.estimatedHours")\n    actualHours(sum: "tasks.manhours.hours")\n    remainingHours(sum: "tasks.remainingManhour")\n  }\n}\n')),(0,r.kt)("h3",{id:"\u5206\u9875"},"\u5206\u9875"),(0,r.kt)("p",null,"Item \u5206\u9875\u662f\u901a\u8fc7 bucket \u5b9e\u73b0\u7684\uff0c\u4ee5\u6e38\u6807\u4f5c\u4e3a\u4f4d\u7f6e\u4f9d\u636e\uff0c\u540c\u65f6\u652f\u6301\u5411\u4e0b\u548c\u5411\u4e0a\u7ffb\u9875\u3002"),(0,r.kt)("p",null,"Item \u5206\u9875\u8ddf",(0,r.kt)("a",{parentName:"p",href:"https://graphql.org/learn/pagination"},"\u5b98\u65b9\u5efa\u8bae\u7684\u5206\u9875\u65b9\u5f0f"),"\u662f\u7c7b\u4f3c\u7684\uff0c\u53ea\u662f\u5b98\u65b9\u6587\u6863\u7528\u7684\u662f connection\uff0c\u800c\u8fd9\u91cc\u7528\u7684\u662f\u73b0\u6709\u7684 bucket\u3002\u5206\u9875\u53c2\u6570\u548c\u4fe1\u606f\u6240\u7528\u7684\u5c5e\u6027\u540d\u79f0\uff0c\u4e5f\u5c3d\u53ef\u80fd\u8ddf\u5b98\u65b9\u6587\u6863\u4fdd\u6301\u4e00\u81f4\u3002"),(0,r.kt)("h4",{id:"\u793a\u4f8b"},"\u793a\u4f8b"),(0,r.kt)("p",null,"\u4e0b\u9762\u7684\u8bf7\u6c42\uff0c\u4ee5 after \u6307\u5b9a\u7684\u6e38\u6807\u4e3a\u8d77\u70b9\uff0c\u83b7\u53d6\u6e38\u6807\u540e\u7684 10 \u4e2a\u4efb\u52a1\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'{\n    buckets(\n        groupBy: {\n            tasks: {}\n        }\n        pagination: {\n            first: 10\n            after: "70bbN1HY6ZkJAAAAdGFzay1HQXk2dUwzbTlqUTk3dHF3"\n            preciseCount: false\n        }\n    ) {\n    key\n        pageInfo {\n            count\n            totalCount\n            startCursor\n            endCursor\n            hasNextPage\n            unstable\n        }\n        tasks(\n            filter: {\n                project_in: ["GAy6uL3m3WDwkYTL"]\n            }\n            orderBy: {\n                number: ASC\n            }\n        ) {\n            number\n            uuid\n        }\n    }\n}\n')),(0,r.kt)("p",null,"\u8fd4\u56de\u7ed3\u679c\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'{\n    "data": {\n        "buckets": [\n            {\n                "key": "bucket.0.__all",\n                "pageInfo": {\n                    "count": 10,\n                    "endCursor": "70bbN1HY6ZkTAAAAdGFzay1HQXk2dUwzbUVadHZlS1Vu",\n                    "hasNextPage": true,\n                    "startCursor": "70bbN1HY6ZkKAAAAdGFzay1HQXk2dUwzbVhTY0o0SmRq",\n                    "totalCount": 177,\n                    "unstable": false\n                },\n                "tasks": [\n                    {\n                        "number": 11,\n                        "uuid": "GAy6uL3mXScJ4Jdj"\n                    },\n                    {\n                        "number": 12,\n                        "uuid": "GAy6uL3mTy9xJ656"\n                    },\n                    {\n                        "number": 13,\n                        "uuid": "GAy6uL3mJH3BmXdb"\n                    },\n                    {\n                        "number": 14,\n                        "uuid": "GAy6uL3mNM5D86kt"\n                    },\n                    {\n                        "number": 15,\n                        "uuid": "GAy6uL3mMUmS4yTk"\n                    },\n                    {\n                        "number": 16,\n                        "uuid": "GAy6uL3mENqCAURW"\n                    },\n                    {\n                        "number": 17,\n                        "uuid": "GAy6uL3mMpKBVhJn"\n                    },\n                    {\n                        "number": 18,\n                        "uuid": "GAy6uL3mTw7xbKNw"\n                    },\n                    {\n                        "number": 19,\n                        "uuid": "GAy6uL3mDsjUuVkb"\n                    },\n                    {\n                        "number": 20,\n                        "uuid": "GAy6uL3mEZtveKUn"\n                    }\n                ]\n            }\n        ]\n    }\n}\n')),(0,r.kt)("h4",{id:"\u53c2\u6570\u8bf4\u660e-pagination"},"\u53c2\u6570\u8bf4\u660e-Pagination"),(0,r.kt)("p",null,"\u5206\u9875\u65f6\u9700\u8981\u7ed9 bucket \u52a0\u4e0a pagination \u53c2\u6570\u3002"),(0,r.kt)("p",null,"\u8fd9\u4e2a\u53c2\u6570\u8ddf\u5176\u5b83 bucket \u53c2\u6570\u4e00\u6837\uff0c\u53ea\u5728\u8bbe\u7f6e bucket.groupBy \u65f6\u751f\u6548\u3002\u5982\u679c\u53ea\u5bf9\u7b80\u5355\u5217\u8868\u505a\u5206\u9875\uff0c\u4e0d\u9700\u8981\u5206\u7ec4\uff0c\u90a3\u4e48 groupBy \u5e94\u8be5\u76f4\u63a5\u8bbe\u7f6e\u4e3a\u8fd9\u4e2a\u5217\u8868\u3002\u6bd4\u5982\u4e0a\u9762\u7684\u4f8b\u5b50\uff0cgroupBy \u7684\u503c\u8bbe\u7f6e\u4e3a tasks\uff0c\u6ca1\u6709\u518d\u5d4c\u5957\u5c5e\u6027\u3002\u6b64\u65f6\uff0c\u7ed3\u679c\u4f1a\u8fd4\u56de\u5355\u4e2a key \u4e3a bucket.0.","_","_","all \u7684\u5206\u7ec4\u3002"),(0,r.kt)("p",null,"\u6ca1\u6709\u53c2\u6570\u65f6\uff0c\u4e3a\u4e86\u5411\u524d\u517c\u5bb9\uff0c\u9ed8\u8ba4\u8fd4\u56de\u6574\u4e2a\u5217\u8868\uff0c\u4f46\u4ee5\u540e\u8fd9\u4e2a\u884c\u4e3a\u53ef\u80fd\u53d1\u751f\u53d8\u5316\u3002"),(0,r.kt)("p",null,"pagination \u53ef\u4ee5\u8bbe\u7f6e\u4ee5\u4e0b\u51e0\u4e2a\u53c2\u6570\uff1a"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"first\uff1a\u5411\u540e\u7ffb\u9875\u65f6\u9700\u8981\u83b7\u53d6\u7684\u6570\u91cf\u3002\u9ed8\u8ba4\u4e3a 0\u3002"),(0,r.kt)("li",{parentName:"ul"},"after\uff1a\u5411\u540e\u7ffb\u9875\u65f6\u7684\u6e38\u6807\u3002\u672a\u8bbe\u7f6e\u6216\u8005\u503c\u4e3a\u7a7a\u5b57\u7b26\u4e32\uff0c\u4e14\u6ca1\u6709\u8bbe\u7f6e before \u65f6\uff0c\u9ed8\u8ba4\u4ece\u5217\u8868\u7684\u521d\u59cb\u4f4d\u7f6e\u5f00\u59cb\u3002"),(0,r.kt)("li",{parentName:"ul"},"last\uff1a\u5411\u524d\u7ffb\u9875\u65f6\u9700\u8981\u83b7\u53d6\u7684\u6570\u91cf\u3002\u9ed8\u8ba4\u4e3a 0\u3002"),(0,r.kt)("li",{parentName:"ul"},"before\uff1a\u5411\u524d\u7ffb\u9875\u65f6\u7684\u6e38\u6807\u3002\u672a\u8bbe\u7f6e\u6216\u8005\u503c\u4e3a\u7a7a\u5b57\u7b26\u4e32\u65f6\uff0c\u9ed8\u8ba4\u4ece\u5217\u8868\u7684\u672b\u5c3e\u4f4d\u7f6e\u5f00\u59cb"),(0,r.kt)("li",{parentName:"ul"},"around: \u5fc5\u987b\u548c center \u4e00\u8d77\u4f7f\u7528\uff0c\u4ece\u4e2d\u95f4\u83b7\u53d6\u65f6\u7684\u6570\u91cf"),(0,r.kt)("li",{parentName:"ul"},"center\uff1a\u548c around \u4e00\u8d77\u4f7f\u7528\uff0c\u4ece\u4e2d\u95f4\u5f00\u59cb\u83b7\u53d6\u65f6\u7684 item-key(\u6ce8\u610f\u8fd9\u91cc\u4e0d\u662f\u6e38\u6807\uff0c\u662f key)"),(0,r.kt)("li",{parentName:"ul"},"limit: \u8981\u53d6\u51fa\u7684\u6570\u91cf\uff0c\u53ef\u7528\u4e8e\u53d6\u4ee3 first/last/around \uff0c \u4e0d\u53ef\u548c first/last/around \u540c\u65f6\u4f7f\u7528"),(0,r.kt)("li",{parentName:"ul"},"preciseCount: \u662f\u5426\u9700\u8981\u8fd4\u56de\u7cbe\u786e\u7684\u6761\u6570\uff0c\u5982\u4e3a false \u901f\u5ea6\u4f1a\u5feb\u5f88\u591a\uff0c\u4f46\u662f\u8fd4\u56de\u7684\u603b\u6570\u662f\u672a\u7ecf\u6743\u9650\u8fc7\u6ee4\u7684\u603b\u6570\n\u5176\u4e2d first \u548c after \u7528\u4e8e\u5411\u540e\u7ffb\u9875\uff0clast \u548c before \u7528\u4e8e\u5411\u524d\u7ffb\u9875\u3002\u5f53\u8bbe\u7f6e\u4e86 last \u65f6\uff0c\u4f18\u5148\u5411\u524d\u7ffb\u9875\u3002")),(0,r.kt)("p",null,"around \u548c center \u5fc5\u987b\u4e00\u8d77\u4f7f\u7528,\u7406\u7531\u662f\u4ece\u4e2d\u95f4\u83b7\u53d6\u5fc5\u7136\u6709\u4e00\u4e2a\u8d77\u59cb\u70b9\u3002\u5982\u679c\u5bf9\u5e94 bucket/\u5206\u7ec4/\u7b5b\u9009\u6761\u4ef6\u4e0b\uff0c\u6ca1\u6709\u5bf9\u5e94\u7684 center-key \u7684\u65f6\u5019\uff0c\u8fd4\u56de\u7a7a\u6570\u7ec4"),(0,r.kt)("h4",{id:"\u53c2\u6570\u8bf4\u660e-pageinfo"},"\u53c2\u6570\u8bf4\u660e-PageInfo"),(0,r.kt)("p",null,"\u4e0d\u7ba1\u6709\u6ca1\u6709\u8bbe\u7f6e pagination \u53c2\u6570\uff0c\u6240\u6709 bucket \u90fd\u80fd\u53d6\u5230 pageInfo \u5c5e\u6027\u3002"),(0,r.kt)("p",null,"pageInfo \u5305\u542b\u4ee5\u4e0b\u51e0\u4e2a\u5c5e\u6027\uff1a"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"count\uff1a\u672c\u6b21\u8fd4\u56de\u7684 item \u6570\u91cf\u3002"),(0,r.kt)("li",{parentName:"ul"},"totalCount\uff1abucket \u5185\u7684 item \u603b\u6570\u3002"),(0,r.kt)("li",{parentName:"ul"},"hasNextPage\uff1a\u662f\u5426\u8fd8\u6709\u4e0b\u4e00\u9875\u3002\u5411\u540e\u7ffb\u9875\u65f6\u6307\u793a\u672c\u9875\u540e\u9762\u662f\u5426\u8fd8\u6709 item\uff0c\u5411\u524d\u7ffb\u9875\u65f6\u5219\u6307\u793a\u672c\u9875\u524d\u9762\u662f\u5426\u8fd8\u6709 item\u3002"),(0,r.kt)("li",{parentName:"ul"},"endCursor\uff1a\u672c\u9875\u6700\u540e\u4e00\u4e2a item \u7684\u6e38\u6807\u3002\u4e00\u822c\u7528\u4e8e\u5411\u540e\u7ffb\u9875\u3002"),(0,r.kt)("li",{parentName:"ul"},"startCursor\uff1a\u672c\u9875\u7b2c\u4e00\u4e2a item \u7684\u6e38\u6807\u3002\u4e00\u822c\u7528\u4e8e\u5411\u524d\u7ffb\u9875\u3002"),(0,r.kt)("li",{parentName:"ul"},"unstable\uff1a\u5206\u9875\u662f\u5426\u4e0d\u7a33\u5b9a\u3002\u5982\u679c\u503c\u4e3a true\uff0c\u5219\u8868\u793a\u4ee5\u4e0b\u4e24\u79cd\u60c5\u51b5\uff1a",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u672c\u6b21\u5206\u9875\u4f7f\u7528\u7684\u6e38\u6807\u4ee3\u8868\u7684 item\uff0c\u5728\u6574\u4e2a\u5217\u8868\u4e2d\u7684\u4f4d\u7f6e\u53d1\u751f\u4e86\u53d8\u5316\u3002\u6bd4\u5982\uff1a",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u5217\u8868\uff1a ","[t1, t2, t3, t4, t5, t6]","\u3002"),(0,r.kt)("li",{parentName:"ul"},"\u7b2c\u4e00\u6b21\u5206\u9875\uff1afirst=3\uff0cafter=null\uff0c\u53d6\u5230 ","[t1, t2, t3]","\uff0cendCursor=t3\u3002"),(0,r.kt)("li",{parentName:"ul"},"\u5217\u8868\u53d1\u751f\u53d8\u5316\uff1a ","[t3, t4, t5, t6]","\uff0c\u53d8\u5316\u5bfc\u81f4 t3 \u7684\u4f4d\u7f6e\u4ece 2 \u53d8\u6210\u4e86 0\u3002"),(0,r.kt)("li",{parentName:"ul"},"\u7b2c\u4e8c\u6b21\u5206\u9875\uff1afirst=3\uff0cafter=t3\uff0c\u6b63\u5e38\u53d6\u5230 ","[t4, t5, t6]","\uff0c\u4f46\u5217\u8868\u4e0d\u7a33\u5b9a\uff0c\u524d\u9762\u7684 item \u53ef\u80fd\u9700\u8981\u91cd\u65b0\u53d6\u3002"))),(0,r.kt)("li",{parentName:"ul"},"\u672c\u6b21\u5206\u9875\u4f7f\u7528\u7684\u6e38\u6807\u4ee3\u8868\u7684 item\uff0c\u5df2\u7ecf\u4ece\u5217\u8868\u6d88\u5931\u3002\u6bd4\u5982\uff1a - \u5217\u8868\uff1a ","[t1, t2, t3, t4, t5, t6]","\u3002 - \u7b2c\u4e00\u6b21\u5206\u9875\uff1afirst=3\uff0cafter=null\uff0c\u53d6\u5230 ","[t1, t2, t3]","\uff0cendCursor=t3\u3002 - \u5217\u8868\u53d1\u751f\u53d8\u5316\uff1a ","[t1, t4, t5, t6]","\uff0c\u53d8\u5316\u5bfc\u81f4 t3 \u6d88\u5931\u3002 - \u7b2c\u4e8c\u6b21\u5206\u9875\uff1afirst=3\uff0cafter=t3\uff0c\u7531\u4e8e\u65e0\u6cd5\u627e\u5230 t3\uff0ccursor \u5931\u6548\uff0c\u4f46\u4ecd\u7136\u5c1d\u8bd5\u7528 t3 \u539f\u672c\u7684\u4f4d\u7f6e 2 \u53bb\u5206\u9875\uff0c\u53d6\u5230 ","[t6]","\u3002\u6b64\u65f6\u524d\u9762\u7684 item \u5fc5\u987b\u91cd\u65b0\u53d6\u3002\n\u5176\u4e2d\u8fd4\u56de\u7684\u6e38\u6807\u53ea\u5bf9\u6709\u76f8\u540c filter \u6216\u8005 orderBy \u7684 item \u5217\u8868\u6709\u6548\uff0c\u5982\u679c\u66f4\u6539\u4e86 item \u5217\u8868\u7684 filter \u6216\u8005 orderBy\uff0c\u4f1a\u63d0\u793a\u6e38\u6807\u683c\u5f0f\u9519\u8bef\u3002\u53e6\u5916\uff0c\u6e38\u6807\u90fd\u662f\u4e34\u65f6\u7684\uff0c\u4e0d\u5e94\u8be5\u6301\u4e45\u5316\u5b58\u50a8\u3002")))),(0,r.kt)("h4",{id:"\u5206\u7ec4\u4e0b\u7684\u5206\u9875"},"\u5206\u7ec4\u4e0b\u7684\u5206\u9875"),(0,r.kt)("p",null,"\u6709\u5206\u7ec4\u7684\u60c5\u51b5\u4e0b\uff0c\u5206\u9875\u66f4\u590d\u6742\u4e00\u4e9b\u3002"),(0,r.kt)("p",null,"\u5206\u7ec4\u65f6\uff0c\u754c\u9762\u4e0a\u5f80\u5f80\u9700\u8981\u663e\u793a\u6240\u6709\u5206\u7ec4\u7684\u4fe1\u606f\uff0c\u518d\u8003\u8651\u5230\u5206\u7ec4\u7684\u6298\u53e0\u548c\u5c55\u5f00\uff0c\u6700\u7ec8\u51b3\u5b9a\u4f7f\u7528\u8fd9\u6837\u7684\u5206\u9875\u65b9\u6848\uff1a\u8fd4\u56de\u6240\u6709\u5206\u7ec4\uff0c\u6bcf\u4e2a\u5206\u7ec4\u5355\u72ec\u5206\u9875\u3002"),(0,r.kt)("p",null,"\u4e3e\u4e2a\u4f8b\u5b50\u8bf4\u660e\u6574\u4e2a\u6d41\u7a0b\u3002\u4e0b\u9762\u662f\u4e00\u4e2a\u4efb\u52a1\u6309\u4efb\u52a1\u8d1f\u8d23\u4eba\u5206\u7ec4\u7684\u8bf7\u6c42\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'{\n    buckets(\n        groupBy: {\n            tasks: {\n                assign: {}\n            }\n        }\n        pagination: {\n            first: 2\n        }\n        orderBy: {\n            assign: {\n                namePinyin: ASC\n            }\n        }\n    ) {\n        key\n        pageInfo {\n            count\n            totalCount\n            startCursor\n            endCursor\n            hasNextPage\n            unstable\n        }\n        assign {\n            uuid\n        }\n        tasks(\n            filter: {\n                project_in: ["GAy6uL3m3WDwkYTL"]\n            }\n            orderBy: {\n                number: ASC\n            }\n        ) {\n            number\n            uuid\n        }\n    }\n}\n')),(0,r.kt)("p",null,"\u8fd4\u56de\u7ed3\u679c\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'{\n    "data": {\n        "buckets": [\n            {\n                "assign": {\n                    "uuid": "R5HpscHD"\n                },\n                "key": "bucket.0.user-R5HpscHD",\n                "pageInfo": {\n                    "count": 2,\n                    "endCursor": "KdXEXLMPa5QBAAAAdGFzay01ZThOODVaTkpoZTNnRk1M",\n                    "hasNextPage": true,\n                    "startCursor": "KdXEXLMPa5QAAAAAdGFzay01ZThOODVaTlZmYmt1NkpI",\n                    "totalCount": 4,\n                    "unstable": false\n                },\n                "tasks": [\n                    {\n                        "number": 5913,\n                        "uuid": "5e8N85ZNVfbku6JH"\n                    },\n                    {\n                        "number": 5954,\n                        "uuid": "5e8N85ZNJhe3gFML"\n                    }\n                ]\n            },\n            {\n                "assign": {\n                    "uuid": "GAy6uL3m"\n                },\n                "key": "bucket.0.user-GAy6uL3m",\n                "pageInfo": {\n                    "count": 2,\n                    "endCursor": "KdXEXLMPa5QBAAAAdGFzay1HQXk2dUwzbThxVnJmZkE3",\n                    "hasNextPage": true,\n                    "startCursor": "KdXEXLMPa5QAAAAAdGFzay1HQXk2dUwzbVVvM3piNE1m",\n                    "totalCount": 48,\n                    "unstable": false\n                },\n                "tasks": [\n                    {\n                        "number": 1,\n                        "uuid": "GAy6uL3mUo3zb4Mf"\n                    },\n                    {\n                        "number": 2,\n                        "uuid": "GAy6uL3m8qVrffA7"\n                    }\n                ]\n            },\n            {\n                "assign": {\n                    "uuid": "TFRz1DRP"\n                },\n                "key": "bucket.0.user-TFRz1DRP",\n                "pageInfo": {\n                    "count": 2,\n                    "endCursor": "KdXEXLMPa5QBAAAAdGFzay01ZThOODVaTkJpNzh6c3Fw",\n                    "hasNextPage": true,\n                    "startCursor": "KdXEXLMPa5QAAAAAdGFzay01ZThOODVaTklSemV3QVVw",\n                    "totalCount": 10,\n                    "unstable": false\n                },\n                "tasks": [\n                    {\n                        "number": 5595,\n                        "uuid": "5e8N85ZNIRzewAUp"\n                    },\n                    {\n                        "number": 5611,\n                        "uuid": "5e8N85ZNBi78zsqp"\n                    }\n                ]\n            }\n        ]\n    }\n}\n')),(0,r.kt)("p",null,"\u53ef\u4ee5\u770b\u5230\uff0c\u6240\u6709\u5206\u7ec4\u90fd\u8fd4\u56de\u4e86\u524d 2 \u4e2a\u4efb\u52a1\uff0cpagination \u7684 first \u53c2\u6570\u5bf9\u6240\u6709\u5206\u7ec4\u540c\u65f6\u8d77\u6548\u3002"),(0,r.kt)("p",null,"\u6bcf\u4e2a\u5206\u7ec4\u90fd\u6709\u81ea\u5df1\u72ec\u7acb\u7684\u6e38\u6807\uff0c\u8981\u600e\u4e48\u7ee7\u7eed\u7ed9\u67d0\u4e2a\u5206\u7ec4\u5355\u72ec\u5206\u9875\u5462\uff1f\u4ee5\u8fd9\u91cc\u7684\u7b2c\u4e8c\u4e2a\u5206\u7ec4 bucket.0.user-GAy6uL3m \u4e3e\u4f8b\uff0c\u4e0b\u4e00\u6b21\u67e5\u8be2\u65f6\uff0c\u5728 bucket \u7684 filter \u91cc\u52a0\u4e0a\u4e00\u4e2a key_equal \u6216\u8005 key_in \u6761\u4ef6\u5c31\u53ef\u4ee5\u4e86\u3002\u8bf7\u6c42\u5982\u4e0b\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'{\n    buckets(\n        groupBy: {\n            tasks: {\n                assign: {}\n            }\n        }\n        filter: {\n            key_equal: "bucket.0.user-GAy6uL3m"\n        }\n        pagination: {\n            first: 10\n            after: "KdXEXLMPa5QBAAAAdGFzay1HQXk2dUwzbThxVnJmZkE3"\n        }\n        orderBy: {\n            assign: {\n                namePinyin: ASC\n            }\n        }\n    ) {\n        key\n        pageInfo {\n            count\n            totalCount\n            startCursor\n            endCursor\n            hasNextPage\n            unstable\n        }\n        assign {\n            uuid\n        }\n        tasks(\n            filter: {\n                project_in: ["GAy6uL3m3WDwkYTL"]\n            }\n            orderBy: {\n                number: ASC\n            }\n        ) {\n            number\n            uuid\n        }\n    }\n}\n')),(0,r.kt)("p",null,"\u8fd4\u56de\u7ed3\u679c\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'{\n    "data": {\n        "buckets": [\n            {\n                "assign": {\n                    "uuid": "GAy6uL3m"\n                },\n                "key": "bucket.0.user-GAy6uL3m",\n                "pageInfo": {\n                    "count": 10,\n                    "endCursor": "KdXEXLMPa5QLAAAAdGFzay1HQXk2dUwzbVR5OXhKNjU2",\n                    "hasNextPage": true,\n                    "startCursor": "KdXEXLMPa5QCAAAAdGFzay1HQXk2dUwzbUtwMk41ZDV1",\n                    "totalCount": 48,\n                    "unstable": false\n                },\n                "tasks": [\n                    {\n                        "number": 3,\n                        "uuid": "GAy6uL3mKp2N5d5u"\n                    },\n                    {\n                        "number": 4,\n                        "uuid": "GAy6uL3mDF5NFsCL"\n                    },\n                    {\n                        "number": 5,\n                        "uuid": "GAy6uL3m4fPaNaSv"\n                    },\n                    {\n                        "number": 6,\n                        "uuid": "GAy6uL3mfd7DWHTv"\n                    },\n                    {\n                        "number": 7,\n                        "uuid": "GAy6uL3m8QRzp2AY"\n                    },\n                    {\n                        "number": 8,\n                        "uuid": "GAy6uL3mSKVn88Zx"\n                    },\n                    {\n                        "number": 9,\n                        "uuid": "GAy6uL3m3L2D95P6"\n                    },\n                    {\n                        "number": 10,\n                        "uuid": "GAy6uL3m9jQ97tqw"\n                    },\n                    {\n                        "number": 11,\n                        "uuid": "GAy6uL3mXScJ4Jdj"\n                    },\n                    {\n                        "number": 12,\n                        "uuid": "GAy6uL3mTy9xJ656"\n                    }\n                ]\n            }\n        ]\n    }\n}\n')))}d.isMDXComponent=!0}}]);