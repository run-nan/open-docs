(self.webpackChunkopen_docs=self.webpackChunkopen_docs||[]).push([[7177],{44741:(e,t,n)=>{e.exports={src:{srcSet:n.p+"assets/ideal-img/classify.8955118.1024.png 1024w,"+n.p+"assets/ideal-img/classify.ebe975d.1792.png 1792w,"+n.p+"assets/ideal-img/classify.af9ba0e.1920.png 1920w",images:[{path:n.p+"assets/ideal-img/classify.8955118.1024.png",width:1024,height:435},{path:n.p+"assets/ideal-img/classify.ebe975d.1792.png",width:1792,height:762},{path:n.p+"assets/ideal-img/classify.af9ba0e.1920.png",width:1920,height:816}],src:n.p+"assets/ideal-img/classify.8955118.1024.png",toString:function(){return n.p+"assets/ideal-img/classify.8955118.1024.png"},placeholder:void 0,width:1024,height:435},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAFCAYAAAB8ZH1oAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAkElEQVQImT3M2wrCMBAE0Hy6bzaXTYyC4AWS5qH5KEWlJO0H+CAoOpK0ujCwDIdhigyUInCp4b1HjBFdFxFCgLVrGLPCYmnBChJSgQuF0/mK+/ONx+uDlPLUcwkuCExrXVFJnwb8bhyHChsuISSBERHEDHPOf3i5pXlghtaY+pRytz/C+RbOtdhsD2j4NFCWvyJGk5ZhRa1FAAAAAElFTkSuQmCC"}},80365:(e,t,n)=>{e.exports={src:{srcSet:n.p+"assets/ideal-img/menus.dcaff07.1024.png 1024w,"+n.p+"assets/ideal-img/menus.d454d9e.1256.png 1256w",images:[{path:n.p+"assets/ideal-img/menus.dcaff07.1024.png",width:1024,height:665},{path:n.p+"assets/ideal-img/menus.d454d9e.1256.png",width:1256,height:816}],src:n.p+"assets/ideal-img/menus.dcaff07.1024.png",toString:function(){return n.p+"assets/ideal-img/menus.dcaff07.1024.png"},placeholder:void 0,width:1024,height:665},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAXElEQVQImX2PSQ7AIAwD+f9jS6mSQCHEVajKodtIPtiai4OIIKWE1hrMDL33Ge+SM0opCNfwhqliWyMy0yk6tVYw8wwxYxcGx2XkWyQam+POFP8Yoqo+TtwPuXMATifsNwdHutsAAAAASUVORK5CYII="}},75411:(e,t,n)=>{e.exports={src:{srcSet:n.p+"assets/ideal-img/render.4ebcfb3.1024.png 1024w,"+n.p+"assets/ideal-img/render.15df45b.1792.png 1792w,"+n.p+"assets/ideal-img/render.e8b7075.1911.png 1911w",images:[{path:n.p+"assets/ideal-img/render.4ebcfb3.1024.png",width:1024,height:436},{path:n.p+"assets/ideal-img/render.15df45b.1792.png",width:1792,height:762},{path:n.p+"assets/ideal-img/render.e8b7075.1911.png",width:1911,height:813}],src:n.p+"assets/ideal-img/render.4ebcfb3.1024.png",toString:function(){return n.p+"assets/ideal-img/render.4ebcfb3.1024.png"},placeholder:void 0,width:1024,height:436},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAECAYAAAC3OK7NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAW0lEQVQImW3MSQrEMAxEUd//oL3K4EFSjCXzmzRNICQFb1dVKVel984YzpyT4U7TA/lrYnwWI6kKZyKcGYF7sO71JpdKEhHUDpra76GKseX2kEyNXORab6eX4heVO5oVJPI5/QAAAABJRU5ErkJggg=="}},2549:(e,t,n)=>{e.exports={src:{srcSet:n.p+"assets/ideal-img/setting.6ad910e.1024.png 1024w,"+n.p+"assets/ideal-img/setting.8427b35.1792.png 1792w,"+n.p+"assets/ideal-img/setting.6b0b8d3.1920.png 1920w",images:[{path:n.p+"assets/ideal-img/setting.6ad910e.1024.png",width:1024,height:433},{path:n.p+"assets/ideal-img/setting.8427b35.1792.png",width:1792,height:758},{path:n.p+"assets/ideal-img/setting.6b0b8d3.1920.png",width:1920,height:812}],src:n.p+"assets/ideal-img/setting.6ad910e.1024.png",toString:function(){return n.p+"assets/ideal-img/setting.6ad910e.1024.png"},placeholder:void 0,width:1024,height:433},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAECAYAAAC3OK7NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAgklEQVQImTXMwQqCQBSFYZ90nLxzr/oEJqSrFq3nEYIWZQoivVFQ2EP84YBnez7+LARFVVEzjk1D1/ecup62bTEzVI28MLIN1XWFiHB/DLw/X9b1xzRNuNwTgrHFEizLCu8PzPPMvmV54VyeoOxQRCmKQIyRcXxyvQ2cLxGRkL6t+Ae9UWSnTS1mcQAAAABJRU5ErkJggg=="}},17942:(e,t,n)=>{"use strict";n.d(t,{Zo:()=>c,kt:()=>g});var a=n(50959);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),l=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=l(e.components);return a.createElement(s.Provider,{value:t},e.children)},m="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,c=d(e,["components","mdxType","originalType","parentName"]),m=l(n),u=r,g=m["".concat(s,".").concat(u)]||m[u]||p[u]||o;return n?a.createElement(g,i(i({ref:t},c),{},{components:n})):a.createElement(g,i({ref:t},c))}));function g(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=u;var d={};for(var s in t)hasOwnProperty.call(t,s)&&(d[s]=t[s]);d.originalType=e,d[m]="string"==typeof e?e:r,i[1]=d;for(var l=2;l<o;l++)i[l]=n[l];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},31329:(e,t,n)=>{"use strict";n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>d,default:()=>h,frontMatter:()=>i,metadata:()=>s,toc:()=>c});var a=n(28957),r=(n(50959),n(17942)),o=n(49500);const i={sidebar_position:1,description:"Create a custom dashboard card."},d="Dashboard card",s={unversionedId:"abilities/business/project/custom-card/custom-card",id:"abilities/business/project/custom-card/custom-card",title:"Dashboard card",description:"Create a custom dashboard card.",source:"@site/docs/abilities/business/project/custom-card/custom-card.mdx",sourceDirName:"abilities/business/project/custom-card",slug:"/abilities/business/project/custom-card/",permalink:"/open-docs/docs/abilities/business/project/custom-card/",draft:!1,tags:[],version:"current",lastUpdatedBy:"liupengfei",lastUpdatedAt:1703495563,formattedLastUpdatedAt:"Dec 25, 2023",sidebarPosition:1,frontMatter:{sidebar_position:1,description:"Create a custom dashboard card."},sidebar:"abilities",previous:{title:"Project",permalink:"/open-docs/docs/abilities/business/project/"},next:{title:"Customize issue fields",permalink:"/open-docs/docs/abilities/business/project/field/"}},l={},c=[{value:"Requirements",id:"requirements",level:2},{value:"Overview",id:"overview",level:2},{value:"Performance",id:"performance",level:4},{value:"Usage",id:"usage",level:2},{value:"Adding a Module",id:"adding-a-module",level:3},{value:"Supported configuration items",id:"supported-configuration-items",level:4},{value:"Adding Ability",id:"adding-ability",level:3},{value:"Writing the processing function",id:"writing-the-processing-function",level:3},{value:"Reference Introduction",id:"reference-introduction",level:4},{value:"Response",id:"response",level:4},{value:"Customize card content",id:"customize-card-content",level:3},{value:"Custom card menu",id:"custom-card-menu",level:3},{value:"Custom card configuration pop-ups",id:"custom-card-configuration-pop-ups",level:3},{value:"Q&amp;A",id:"qa",level:2},{value:"How to implement multi-language for custom cards?",id:"how-to-implement-multi-language-for-custom-cards",level:4}],m=(p="Image",function(e){return o.warn("Component "+p+" was not imported, exported, or provided by MDXProvider as global scope"),(0,r.kt)("div",e)});var p;const u={toc:c},g="wrapper";function h(e){let{components:t,...o}=e;return(0,r.kt)(g,(0,a.Z)({},u,o,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"dashboard-card"},"Dashboard card"),(0,r.kt)("h2",{id:"requirements"},"Requirements"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"ONES"),(0,r.kt)("th",{parentName:"tr",align:"left"},"@ones-op/store"),(0,r.kt)("th",{parentName:"tr",align:"left"},"@ones-op/bridge"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"v3.13.50+"),(0,r.kt)("td",{parentName:"tr",align:"left"},"v0.10.0+"),(0,r.kt)("td",{parentName:"tr",align:"left"},"v0.6.0+")))),(0,r.kt)("h2",{id:"overview"},"Overview"),(0,r.kt)("p",null,"The open platform provides the ability to customize cards, allowing users to create a completely new type of card in the dashboard. When the currently available card types cannot meet user needs, custom cards can be created to achieve the desired functionality."),(0,r.kt)("p",null,"Currently, users can customize the following aspects of the card:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"The card's name, description, icon, and size"),(0,r.kt)("li",{parentName:"ol"},"The card's configuration and menu"),(0,r.kt)("li",{parentName:"ol"},"The content displayed on the card")),(0,r.kt)("p",null,"Currently, custom card types can be added to the following locations:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"My Workspace - dashboard")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Project - project_component"))),(0,r.kt)("h4",{id:"performance"},"Performance"),(0,r.kt)("p",null,'After the plugin is enabled, when editing a dashboard, users can see the newly added custom card type by clicking "Add widget":'),(0,r.kt)(m,{img:n(44741),mdxType:"Image"}),(0,r.kt)("p",null,"The configuration form for the custom card:"),(0,r.kt)(m,{img:n(2549),mdxType:"Image"}),(0,r.kt)("p",null,"The declared menu items displayed in the custom card's menu:"),(0,r.kt)(m,{img:n(80365),mdxType:"Image"}),(0,r.kt)("p",null,"The display effect of the custom card:"),(0,r.kt)(m,{img:n(75411),mdxType:"Image"}),(0,r.kt)("h2",{id:"usage"},"Usage"),(0,r.kt)("h3",{id:"adding-a-module"},"Adding a Module"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Execute the command npx op add module to add a module of type ones:dashboard:card:new."),(0,r.kt)("li",{parentName:"ol"},"Execute the command npx op add sub-module to add a sub-module under the ones:dashboard:card:new module that was just added."),(0,r.kt)("li",{parentName:"ol"},"Manually configure the module in ",(0,r.kt)("inlineCode",{parentName:"li"},"/config/plugin.yaml"),".")),(0,r.kt)("p",null,"The following is an example configuration where a custom card module contains two sub-modules:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},'Component Card: the scene is "render" used to render the content of the custom card, this is required'),(0,r.kt)("li",{parentName:"ul"},'Configuration Dialog: the scene is "setting" used to render the form content of the custom card\'s configuration dialog, this can be omitted if the component does not support configuration.')),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml",metastring:'title="plugin.yaml"',title:'"plugin.yaml"'},"service:\n  app_id: cgtJVhCB\n  ...\nmodules:\n  - id: ones-dashboard-card-new-jIfq\n    title: Custom Card                          # Card Name\n    description: Custom Card Description               # Card Description\n    defaultCardName: Default Card Name          # Default name when adding the card\n    icon: custom-card.svg                       # Card icon\n    defaultLayout:                              # Default layout of the card\n      h: 4                                      # Height\n      w: 5                                      # Width\n    layout:\n      minH: 3                                   # Minimum height\n      minW: 3                                   # Minimum width\n      maxH: 6                                   # Maximum height\n      maxW: 6                                   # Maximum width\n    objectType:                                 # The range of card types that can be used\n      - project_component                       # Project Overview\n      - dashboard                               # My Workspace\n    moduleType: ones:dashboard:card:new\n    modules:\n      - id: ones-dashboard-card-new-C9Hs\n        title: render\n        scene: render\n        entry: >-\n          modules/ones-dashboard-card-new-jIfv/ones-dashboard-card-new-C9Hv/index.html\n      - id: ones-dashboard-card-new-kjke\n        scene: setting\n        title: setting\n        entry: >-\n          modules/ones-dashboard-card-new-jIfv/ones-dashboard-card-new-kjkK/index.html\n")),(0,r.kt)("h4",{id:"supported-configuration-items"},"Supported configuration items"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Configuration Item"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"title"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The name of the custom card type")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"description"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The description of the custom card")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"defaultCardName"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The default name of the custom card")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"icon"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The URL of the custom card icon")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"defaultLayout"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The default size of the custom card, which must be within the size limits.(Size >= 2)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"layout"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The minimum and maximum size limits of the custom card. If not configured, there is no limit.(Size >= 2)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"objectType"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The dashboard types that the custom card can be applied to. Currently supports ",(0,r.kt)("inlineCode",{parentName:"td"},"dashboard")," (dashboard) and ",(0,r.kt)("inlineCode",{parentName:"td"},"project_component")," (project overview).")))),(0,r.kt)("h3",{id:"adding-ability"},"Adding Ability"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Run the ",(0,r.kt)("inlineCode",{parentName:"li"},"npx op add ability")," command to add the ",(0,r.kt)("inlineCode",{parentName:"li"},"custom-card@1.0.0")," type of ability."),(0,r.kt)("li",{parentName:"ol"},"Manually configure the ability in ",(0,r.kt)("inlineCode",{parentName:"li"},"/config/plugin.yaml")," and associate it with modules.")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml",metastring:'title="plugin.yaml"',title:'"plugin.yaml"'},"service:\n  app_id: cgtJVhCB\n  ...\nmodules:\n  - id: ones-dashboard-card-new-jIfq\n    title: Custom Card                  # Name of the card\n    description: Custom Card Description       # Description of the card\n    defaultCardName: Default Card Name  # Default name of the card when adding\n    icon: custom-card.svg               # Icon of the card\n    defaultLayout:                      # Default layout of the card\n      h: 4                              # Height\n      w: 5                              # Width\n    layout:\n      minH: 3                           # Minimum height\n      minW: 3                           # Minimum width\n      maxH: 6                           # Maximum height\n      maxW: 6                           # Maximum width\n    objectType:                         # The range of card types that can be used\n      - project_component               # Project overview\n      - dashboard                       # My workspace\n    moduleType: ones:dashboard:card:new\n    modules:\n      - id: ones-dashboard-card-new-C9Hs\n        title: render\n        scene: render\n        entry: >-\n          modules/ones-dashboard-card-new-jIfv/ones-dashboard-card-new-C9Hv/index.html\n      - id: ones-dashboard-card-new-kjke\n        scene: setting\n        title: setting\n        entry: >-\n          modules/ones-dashboard-card-new-jIfv/ones-dashboard-card-new-kjkK/index.html\nabilities:\n  - id: bh1Fhy76\n    name: custom-card\n    version: 1.0.0\n    abilityType: CustomCard\n    function:\n      cardDataFunc: getCardData                     # Name of the function to retrieve card data\n    relateModule:\n      cardModule: ones-dashboard-card-new-jIfq      # Must be manually filled in with the module ID of moduleType ones-dashboard-card-new\n")),(0,r.kt)("h3",{id:"writing-the-processing-function"},"Writing the processing function"),(0,r.kt)("p",null,"After adding the ability, a ",(0,r.kt)("inlineCode",{parentName:"p"},"/backend/src/custom-card.js")," file will be generated, which contains a function to get the custom card data, in which you need to write the logic to get the card data."),(0,r.kt)("p",null,"The example function is as follows:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"import { Logger } from '@ones-op/node-logger'\nimport type { PluginRequest, PluginResponse } from '@ones-op/node-types'\n\ninterface CardRequest {\n  object_type: string\n  language: string\n  project_uuid: string\n  card_custom_config: any\n}\n\nexport async function getCardData(request: PluginRequest<CardRequest>): Promise<PluginResponse> {\n  const cardRequest = request.body\n  Logger.info(cardRequest)\n  const respData: any = {\n    text: cardRequest.card_custom_config.text,\n  }\n  return {\n    body: {\n      code: 200,\n      body: respData,\n    },\n  }\n}\n")),(0,r.kt)("h4",{id:"reference-introduction"},"Reference Introduction"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Parameters"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"object_type"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The type of dashboard the card belongs to, currently supported are ",(0,r.kt)("inlineCode",{parentName:"td"},"dashboard")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"project_component")),(0,r.kt)("td",{parentName:"tr",align:"left"},"string")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"language"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The front-end language of this request"),(0,r.kt)("td",{parentName:"tr",align:"left"},"string")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"project_uuid"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The unique identifier for the project, present when the card type is ",(0,r.kt)("inlineCode",{parentName:"td"},"project_component")),(0,r.kt)("td",{parentName:"tr",align:"left"},"string")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"card_custom_config"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Card custom configuration, in json format"),(0,r.kt)("td",{parentName:"tr",align:"left"},"any")))),(0,r.kt)("h4",{id:"response"},"Response"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"{\n    body: {\n      code: 200,   //Response code of this request, non-200 is request error\n      body: cardData,    // Card data that will be returned directly to the front-end\n    }\n}\n")),(0,r.kt)("h3",{id:"customize-card-content"},"Customize card content"),(0,r.kt)("p",null,"In the submodule where ",(0,r.kt)("inlineCode",{parentName:"p"},"scene")," is ",(0,r.kt)("inlineCode",{parentName:"p"},"render"),", pass ",(0,r.kt)("a",{parentName:"p",href:"/open-docs/docs/reference/packages/store/#usedashboardcardinfo"},"useDashboardCardInfo")," to get the card data for rendering the card content."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx"},"import { ConfigProvider } from '@ones-design/core'\nimport { useDashboardCardInfo } from '@ones-op/store'\nimport React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport './index.css'\n\nconst Card = () => {\n  const dashboardCardInfo = useDashboardCardInfo<{ text: string }>()\n  const { text } = dashboardCardInfo.cardData || {}\n  return <h2>{text}</h2>\n}\n\nReactDOM.render(\n  <ConfigProvider>\n    <Card />\n  </ConfigProvider>,\n  document.getElementById('ones-mf-root'),\n)\n")),(0,r.kt)("h3",{id:"custom-card-menu"},"Custom card menu"),(0,r.kt)("p",null,"In the submodule where ",(0,r.kt)("inlineCode",{parentName:"p"},"scene")," is ",(0,r.kt)("inlineCode",{parentName:"p"},"render"),", the submodule with ",(0,r.kt)("a",{parentName:"p",href:"/open-docs/docs/reference/packages/bridge/#usecustommenus"},"useCustomMenus")," to mount the custom menus."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx"},"import { ConfigProvider } from '@ones-design/core'\nimport { dashboardCard } from '@ones-op/bridge'\nimport { useDashboardCardInfo } from '@ones-op/store'\nimport React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport './index.css'\n\nconst { useCustomMenus } = dashboardCard\n\nconst Card = () => {\n  const dashboardCardInfo = useDashboardCardInfo<{ text: string }>()\n  const { text } = dashboardCardInfo.cardData || {}\n  const customMenus = React.useMemo(\n    () => [\n      {\n        label: 'Show the text',\n        key: 'showText',\n        onClick: () => {\n          alert(text)\n        },\n      },\n    ],\n    [text],\n  )\n  useCustomMenus(customMenus)\n  return <h2>{text}</h2>\n}\n\nReactDOM.render(\n  <ConfigProvider>\n    <Card />\n  </ConfigProvider>,\n  document.getElementById('ones-mf-root'),\n)\n")),(0,r.kt)("h3",{id:"custom-card-configuration-pop-ups"},"Custom card configuration pop-ups"),(0,r.kt)("p",null,"In the submodule where ",(0,r.kt)("inlineCode",{parentName:"p"},"scene")," is ",(0,r.kt)("inlineCode",{parentName:"p"},"setting"),", pass ",(0,r.kt)("a",{parentName:"p",href:"/open-docs/docs/reference/packages/store/#usedashboardcardconfiginfo"},"useDashboardCardConfigInfo")," to get the card context.\nGet the card context via ",(0,r.kt)("a",{parentName:"p",href:"/open-docs/docs/reference/packages/bridge/#useonsubmitconfig"},"useOnSubmitConfig")," to listen to the submit configuration event and render the card configuration popup."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx"},"import { ConfigProvider, Form, Input } from '@ones-design/core'\nimport { dashboardCard } from '@ones-op/bridge'\nimport { useDashboardCardConfigInfo } from '@ones-op/store'\nimport React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport './index.css'\n\nconst { useOnSubmitConfig } = dashboardCard\n\nconst Setting = () => {\n  const { cardConfig } = useDashboardCardConfigInfo<{\n    text: string\n  }>()\n  const [form] = Form.useForm<typeof cardConfig>()\n  const onSubmitConfig = React.useCallback(\n    async (submit) => {\n      try {\n        await form.validateFields()\n      } catch (e) {\n        return\n      }\n      submit(form.getFieldsValue())\n    },\n    [form],\n  )\n  useOnSubmitConfig(onSubmitConfig)\n  return (\n    <Form initialValues={cardConfig} form={form}>\n      <Form.Item\n        name={['text']}\n        label=\"content\"\n        rules={[\n          {\n            required: true,\n          },\n        ]}\n      >\n        <Input />\n      </Form.Item>\n    </Form>\n  )\n}\n\nReactDOM.render(\n  <ConfigProvider>\n    <Setting />\n  </ConfigProvider>,\n  document.getElementById('ones-mf-root'),\n)\n")),(0,r.kt)("h2",{id:"qa"},"Q&A"),(0,r.kt)("h4",{id:"how-to-implement-multi-language-for-custom-cards"},"How to implement multi-language for custom cards?"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Configurable sections to implement multilingual, such as card name, card description, card default name, etc., can be found in ",(0,r.kt)("a",{parentName:"li",href:"/open-docs/docs/guide/abilities/multilingual"},"Plugin Multilanguage Support")," for implementation"),(0,r.kt)("li",{parentName:"ul"},"Card display content multilingual, need to be implemented in the plug-in developers themselves, processing function in the input parameters to provide the language of this request.")))}h.isMDXComponent=!0}}]);