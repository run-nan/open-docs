"use strict";(self.webpackChunkopen_docs=self.webpackChunkopen_docs||[]).push([[4043],{17942:(e,t,a)=>{a.d(t,{Zo:()=>c,kt:()=>f});var n=a(50959);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var u=n.createContext({}),s=function(e){var t=n.useContext(u),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},c=function(e){var t=s(e.components);return n.createElement(u.Provider,{value:t},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,o=e.originalType,u=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),p=s(a),m=r,f=p["".concat(u,".").concat(m)]||p[m]||d[m]||o;return a?n.createElement(f,i(i({ref:t},c),{},{components:a})):n.createElement(f,i({ref:t},c))}));function f(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=a.length,i=new Array(o);i[0]=m;var l={};for(var u in t)hasOwnProperty.call(t,u)&&(l[u]=t[u]);l.originalType=e,l[p]="string"==typeof e?e:r,i[1]=l;for(var s=2;s<o;s++)i[s]=a[s];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},91044:(e,t,a)=>{a.r(t),a.d(t,{default:()=>i});var n=a(50959),r=a(45924);const o={tabItem:"tabItem_skN5"};function i(e){let{children:t,hidden:a,className:i}=e;return n.createElement("div",{role:"tabpanel",className:(0,r.Z)(o.tabItem,i),hidden:a},t)}},42181:(e,t,a)=>{a.d(t,{Z:()=>m});var n=a(28957),r=a(50959),o=a(45924),i=a(70562),l=a(94506),u=a(75814);const s={tabList:"tabList_Ifpf",tabItem:"tabItem_j1rW"};function c(e){let{className:t,block:a,selectedValue:l,selectValue:u,tabValues:c}=e;const p=[],{blockElementScrollPositionUntilNextRender:d}=(0,i.o5)(),m=e=>{const t=e.currentTarget,a=p.indexOf(t),n=c[a].value;n!==l&&(d(t),u(n))},f=e=>{var t;let a=null;switch(e.key){case"Enter":m(e);break;case"ArrowRight":{var n;const t=p.indexOf(e.currentTarget)+1;a=null!=(n=p[t])?n:p[0];break}case"ArrowLeft":{var r;const t=p.indexOf(e.currentTarget)-1;a=null!=(r=p[t])?r:p[p.length-1];break}}null==(t=a)||t.focus()};return r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.Z)("tabs",{"tabs--block":a},t)},c.map((e=>{let{value:t,label:a,attributes:i}=e;return r.createElement("li",(0,n.Z)({role:"tab",tabIndex:l===t?0:-1,"aria-selected":l===t,key:t,ref:e=>p.push(e),onKeyDown:f,onClick:m},i,{className:(0,o.Z)("tabs__item",s.tabItem,null==i?void 0:i.className,{"tabs__item--active":l===t})}),null!=a?a:t)})))}function p(e){let{lazy:t,children:a,selectedValue:n}=e;const o=(Array.isArray(a)?a:[a]).filter(Boolean);if(t){const e=o.find((e=>e.props.value===n));return e?(0,r.cloneElement)(e,{className:"margin-top--md"}):null}return r.createElement("div",{className:"margin-top--md"},o.map(((e,t)=>(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==n}))))}function d(e){const t=(0,l.Y)(e);return r.createElement("div",{className:(0,o.Z)("tabs-container",s.tabList)},r.createElement(c,(0,n.Z)({},e,t)),r.createElement(p,(0,n.Z)({},e,t)))}function m(e){const t=(0,u.default)();return r.createElement(d,(0,n.Z)({key:String(t)},e))}},94506:(e,t,a)=>{a.d(t,{Y:()=>d});var n=a(50959),r=a(28903),o=a(94150),i=a(40828),l=a(29163);function u(e){return function(e){var t,a;return null!=(t=null==(a=n.Children.map(e,(e=>{if(!e||(0,n.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})))?void 0:a.filter(Boolean))?t:[]}(e).map((e=>{let{props:{value:t,label:a,attributes:n,default:r}}=e;return{value:t,label:a,attributes:n,default:r}}))}function s(e){const{values:t,children:a}=e;return(0,n.useMemo)((()=>{const e=null!=t?t:u(a);return function(e){const t=(0,i.l)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,a])}function c(e){let{value:t,tabValues:a}=e;return a.some((e=>e.value===t))}function p(e){let{queryString:t=!1,groupId:a}=e;const i=(0,r.k6)(),l=function(e){let{queryString:t=!1,groupId:a}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!a)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return null!=a?a:null}({queryString:t,groupId:a});return[(0,o._X)(l),(0,n.useCallback)((e=>{if(!l)return;const t=new URLSearchParams(i.location.search);t.set(l,e),i.replace({...i.location,search:t.toString()})}),[l,i])]}function d(e){const{defaultValue:t,queryString:a=!1,groupId:r}=e,o=s(e),[i,u]=(0,n.useState)((()=>function(e){var t;let{defaultValue:a,tabValues:n}=e;if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(a){if(!c({value:a,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${a}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return a}const r=null!=(t=n.find((e=>e.default)))?t:n[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:t,tabValues:o}))),[d,m]=p({queryString:a,groupId:r}),[f,b]=function(e){let{groupId:t}=e;const a=function(e){return e?`docusaurus.tab.${e}`:null}(t),[r,o]=(0,l.Nk)(a);return[r,(0,n.useCallback)((e=>{a&&o.set(e)}),[a,o])]}({groupId:r}),h=(()=>{const e=null!=d?d:f;return c({value:e,tabValues:o})?e:null})();(0,n.useLayoutEffect)((()=>{h&&u(h)}),[h]);return{selectedValue:i,selectValue:(0,n.useCallback)((e=>{if(!c({value:e,tabValues:o}))throw new Error(`Can't select invalid tab value=${e}`);u(e),m(e),b(e)}),[m,b,o]),tabValues:o}}},79312:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>c,contentTitle:()=>u,default:()=>f,frontMatter:()=>l,metadata:()=>s,toc:()=>p});var n=a(28957),r=(a(50959),a(17942)),o=a(42181),i=a(91044);const l={sidebar_position:6,description:"The platform provides a flexible data acquisition mechanism to facilitate the acquisition of context information of ONES in plugin."},u="Data acquisition",s={unversionedId:"guide/abilities/data-acquisition",id:"guide/abilities/data-acquisition",title:"Data acquisition",description:"The platform provides a flexible data acquisition mechanism to facilitate the acquisition of context information of ONES in plugin.",source:"@site/docs/guide/abilities/data-acquisition.md",sourceDirName:"guide/abilities",slug:"/guide/abilities/data-acquisition",permalink:"/open-docs/docs/guide/abilities/data-acquisition",draft:!1,tags:[],version:"current",lastUpdatedBy:"liupengfei",lastUpdatedAt:1703495563,formattedLastUpdatedAt:"Dec 25, 2023",sidebarPosition:6,frontMatter:{sidebar_position:6,description:"The platform provides a flexible data acquisition mechanism to facilitate the acquisition of context information of ONES in plugin."},sidebar:"guide",previous:{title:"Request",permalink:"/open-docs/docs/guide/abilities/interface-request"},next:{title:"Event communication",permalink:"/open-docs/docs/guide/abilities/event-communication"}},c={},p=[{value:"Requirements",id:"requirements",level:2},{value:"Overview",id:"overview",level:2},{value:"Usage",id:"usage",level:2},{value:"Step 1: Installation dependency",id:"step-1-installation-dependency",level:3},{value:"Step 2: Call",id:"step-2-call",level:3},{value:"Other",id:"other",level:2}],d={toc:p},m="wrapper";function f(e){let{components:t,...a}=e;return(0,r.kt)(m,(0,n.Z)({},d,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"data-acquisition"},"Data acquisition"),(0,r.kt)("h2",{id:"requirements"},"Requirements"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"ONES"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"v3.6.25+")))),(0,r.kt)("h2",{id:"overview"},"Overview"),(0,r.kt)("p",null,"In some functional scenarios of the plugin, you may need to get some context information about the location of the slot. For example, current user information, team information and so on. So we provide you with a set of data acquisition libraries that can help you get part of the data of ONES in the plugin."),(0,r.kt)("p",null,"This kind of contextual data acquisition is generally bound to the location of the slot, so the type of data you can get varies depending on the location of the slot. We divide this data into ",(0,r.kt)("strong",{parentName:"p"},"global data")," and ",(0,r.kt)("strong",{parentName:"p"},"specific context data"),"."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"global data:")," Contextual information available in all slots, such as plugin information, user information, organization information, team information, etc."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"specific context data:")," Data that needs to be obtained only in a specific location can only be obtained in a specific slot."),(0,r.kt)("h2",{id:"usage"},"Usage"),(0,r.kt)("h3",{id:"step-1-installation-dependency"},"Step 1: Installation dependency"),(0,r.kt)("p",null,"Go to the ",(0,r.kt)("inlineCode",{parentName:"p"},"/web")," directory and install the package with the following command:"),(0,r.kt)(o.Z,{groupId:"npm2yarn",mdxType:"Tabs"},(0,r.kt)(i.default,{value:"npm",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"npm install @ones-op/store\n"))),(0,r.kt)(i.default,{value:"yarn",label:"Yarn",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"yarn add @ones-op/store\n"))),(0,r.kt)(i.default,{value:"pnpm",label:"pnpm",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"pnpm add @ones-op/store\n")))),(0,r.kt)("h3",{id:"step-2-call"},"Step 2: Call"),(0,r.kt)("p",null,"For example, get the current team information"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx"},"import { useTeamInfo } from '@ones-op/store'\n\nconst { uuid, name } = useTeamInfo()\n")),(0,r.kt)("h2",{id:"other"},"Other"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"For more information about the context that can be obtained by a slot, please see: ",(0,r.kt)("a",{parentName:"p",href:"/open-docs/docs/abilities/slot/"},"Slots"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"For specific usage examples and parameter definitions, please refer to: ",(0,r.kt)("a",{parentName:"p",href:"/open-docs/docs/reference/packages/store/"},"@ones-op/store")))))}f.isMDXComponent=!0}}]);