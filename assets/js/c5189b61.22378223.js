(self.webpackChunkopen_docs=self.webpackChunkopen_docs||[]).push([[5224],{78059:(e,n,t)=>{e.exports={src:{srcSet:t.p+"assets/ideal-img/sample-project-custom-component1.bc95060.1024.png 1024w,"+t.p+"assets/ideal-img/sample-project-custom-component1.00e3c38.1571.png 1571w",images:[{path:t.p+"assets/ideal-img/sample-project-custom-component1.bc95060.1024.png",width:1024,height:338},{path:t.p+"assets/ideal-img/sample-project-custom-component1.00e3c38.1571.png",width:1571,height:518}],src:t.p+"assets/ideal-img/sample-project-custom-component1.bc95060.1024.png",toString:function(){return t.p+"assets/ideal-img/sample-project-custom-component1.bc95060.1024.png"},placeholder:void 0,width:1024,height:338},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAADCAYAAACqPZ51AAAACXBIWXMAAAsTAAALEwEAmpwYAAAASUlEQVQImW2NSwoAMQxCc//TpmTa5oslHZjVLASVJ5I8E3tveAQ8Epn/ojEGmBkRATPDWgtzvuP2IgJVBXXZIbM++D64XzVUVTgpAnUumPa0lAAAAABJRU5ErkJggg=="}},17942:(e,n,t)=>{"use strict";t.d(n,{Zo:()=>l,kt:()=>h});var o=t(50959);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function r(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function a(e,n){if(null==e)return{};var t,o,i=function(e,n){if(null==e)return{};var t,o,i={},s=Object.keys(e);for(o=0;o<s.length;o++)t=s[o],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(o=0;o<s.length;o++)t=s[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var c=o.createContext({}),p=function(e){var n=o.useContext(c),t=n;return e&&(t="function"==typeof e?e(n):r(r({},n),e)),t},l=function(e){var n=p(e.components);return o.createElement(c.Provider,{value:n},e.children)},m="mdxType",d={inlineCode:"code",wrapper:function(e){var n=e.children;return o.createElement(o.Fragment,{},n)}},u=o.forwardRef((function(e,n){var t=e.components,i=e.mdxType,s=e.originalType,c=e.parentName,l=a(e,["components","mdxType","originalType","parentName"]),m=p(t),u=i,h=m["".concat(c,".").concat(u)]||m[u]||d[u]||s;return t?o.createElement(h,r(r({ref:n},l),{},{components:t})):o.createElement(h,r({ref:n},l))}));function h(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var s=t.length,r=new Array(s);r[0]=u;var a={};for(var c in n)hasOwnProperty.call(n,c)&&(a[c]=n[c]);a.originalType=e,a[m]="string"==typeof e?e:i,r[1]=a;for(var p=2;p<s;p++)r[p]=t[p];return o.createElement.apply(null,r)}return o.createElement.apply(null,t)}u.displayName="MDXCreateElement"},42860:(e,n,t)=>{"use strict";t.r(n),t.d(n,{assets:()=>m,contentTitle:()=>p,default:()=>b,frontMatter:()=>c,metadata:()=>l,toc:()=>d});var o=t(28957),i=(t(50959),t(17942)),s=t(78059),r=t.n(s),a=t(49500);const c={},p="Scene: Statistics of Sprint working hours within a project",l={unversionedId:"abilities/business/project/project-custom-component/sample-project-custom-component1",id:"abilities/business/project/project-custom-component/sample-project-custom-component1",title:"Scene: Statistics of Sprint working hours within a project",description:"Scene description",source:"@site/docs/abilities/business/project/project-custom-component/sample-project-custom-component1.mdx",sourceDirName:"abilities/business/project/project-custom-component",slug:"/abilities/business/project/project-custom-component/sample-project-custom-component1",permalink:"/open-docs/docs/abilities/business/project/project-custom-component/sample-project-custom-component1",draft:!1,tags:[],version:"current",lastUpdatedBy:"liupengfei",lastUpdatedAt:1703230356,formattedLastUpdatedAt:"Dec 22, 2023",frontMatter:{},sidebar:"abilities",previous:{title:"Customize project components",permalink:"/open-docs/docs/abilities/business/project/project-custom-component/"},next:{title:"Issue detail action buttons",permalink:"/open-docs/docs/abilities/business/project/layout-custom-quick-action/"}},m={},d=[{value:"Scene description",id:"scene-description",level:2},{value:"Performance",id:"performance",level:2},{value:"Solution",id:"solution",level:2},{value:"Implementation idea",id:"implementation-idea",level:3},{value:"Plugin development",id:"plugin-development",level:3},{value:"1. Add <code>Custom project components</code> ability,add module <code>ones:project:component:new</code>, take the relate field <code>modules.id</code> into <code>abilities.relateModule.componentModuleEnter</code>",id:"1-add-custom-project-components-abilityadd-module-onesprojectcomponentnew-take-the-relate-field-modulesid-into-abilitiesrelatemodulecomponentmoduleenter",level:4},{value:"2. Complete the function of custom components",id:"2-complete-the-function-of-custom-components",level:4},{value:"index.tsx",id:"indextsx",level:5},{value:"table style",id:"table-style",level:5},{value:"Data Construction of Table",id:"data-construction-of-table",level:5},{value:"the design of table header",id:"the-design-of-table-header",level:5},{value:"3. Install the plugin and enable it, and the custom component will be automatically added to the component libraries of all projects. You can use the custom component in the corresponding project.",id:"3-install-the-plugin-and-enable-it-and-the-custom-component-will-be-automatically-added-to-the-component-libraries-of-all-projects-you-can-use-the-custom-component-in-the-corresponding-project",level:4}],u=(h="Image",function(e){return a.warn("Component "+h+" was not imported, exported, or provided by MDXProvider as global scope"),(0,i.kt)("div",e)});var h;const g={toc:d},f="wrapper";function b(e){let{components:n,...t}=e;return(0,i.kt)(f,(0,o.Z)({},g,t,{components:n,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"scene-statistics-of-sprint-working-hours-within-a-project"},"Scene: Statistics of Sprint working hours within a project"),(0,i.kt)("h2",{id:"scene-description"},"Scene description"),(0,i.kt)("p",null,"Users want to see the working hours information of each sprint in the project directly through the table."),(0,i.kt)("h2",{id:"performance"},"Performance"),(0,i.kt)("p",null,"Adding custom components to the project,then you can view the relevant data of each sprint under the project in the form of a table"),(0,i.kt)(u,{img:r(),mdxType:"Image"}),(0,i.kt)("h2",{id:"solution"},"Solution"),(0,i.kt)("h3",{id:"implementation-idea"},"Implementation idea"),(0,i.kt)("p",null,"Use the ",(0,i.kt)("inlineCode",{parentName:"p"},"Custom project components")," ability to implement custom components of table data within the plug-in"),(0,i.kt)("h3",{id:"plugin-development"},"Plugin development"),(0,i.kt)("h4",{id:"1-add-custom-project-components-abilityadd-module-onesprojectcomponentnew-take-the-relate-field-modulesid-into-abilitiesrelatemodulecomponentmoduleenter"},"1. Add ",(0,i.kt)("inlineCode",{parentName:"h4"},"Custom project components")," ability,add module ",(0,i.kt)("inlineCode",{parentName:"h4"},"ones:project:component:new"),", take the relate field ",(0,i.kt)("inlineCode",{parentName:"h4"},"modules.id")," into ",(0,i.kt)("inlineCode",{parentName:"h4"},"abilities.relateModule.componentModuleEnter")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-yaml",metastring:'title="config/plugin.yaml"',title:'"config/plugin.yaml"'},"service:\n  app_id: ...\n  name: custom component\n  version: 1.0.0\n  description: ''\n  mode: org\n  logo: null\n  language: nodejs\n  language_version: 16.13.0\n  host_version: 1.0.4\n  host_sub_version: 1.0.0\n  min_system_version: 3.5.0\n  auth: null\n  config: null\n  scope: 1\napis:\n  - type: addition\n    methods:\n      - POST\n    url: /hello\n    function: hello\n  - type: external\n    methods:\n      - POST\n    url: /team/:teamUUID/customComponentTest\n    function: customComponentTest\n  - type: external\n    methods:\n      - POST\n    url: /team/:teamUUID/getComponentUsedProjectsTest\n    function: getComponentUsedProjectsTest\nmodules:\n  - id: ones-project-component-new-aQbS\n    title: test\n    moduleType: ones:project:component:new\n    entry: modules/ones-project-component-new-aQbS/index.html\nabilities:\n  - id: tRUFWEsd\n    name: project_custom_component\n    abilityType: ProjectCustomComponent\n    function:\n      copyPluginData: copyTest\n    version: 1.0.0\n    relateModule:\n      componentModuleEnter: 'ones-project-component-new-aQbS'\n    config:\n      - key: component_name\n        label: project custom component\n        value: Iterative statistics\n        fieldType: Input\n        show: false\n      - key: component_desc\n        label: custom component description\n        value: Show the man-hour consumption of the iteration\n        fieldType: TextArea\n        show: false\n        props:\n          placeholder: custom component description,allow to leave blank\n      - key: is_support_copy\n        label: is_support_data_copy\n        value: false\n        show: false\n        fieldType: Switch\n")),(0,i.kt)("h4",{id:"2-complete-the-function-of-custom-components"},"2. Complete the function of custom components"),(0,i.kt)("p",null,"Complete the function development of the data table under the plugin directory"),(0,i.kt)("h5",{id:"indextsx"},"index.tsx"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-typescript",metastring:'title="web/src/modules/ones-project-component-new-aQbS/index.tsx"',title:'"web/src/modules/ones-project-component-new-aQbS/index.tsx"'},"import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { ConfigProvider } from '@ones-design/core'\nimport { SprintStatistics } from './components/sprint-statistics'\nimport './index.css'\n\nReactDOM.render(\n  <ConfigProvider>\n    <SprintStatistics />\n  </ConfigProvider>,\n  document.getElementById('ones-mf-root')\n)\n")),(0,i.kt)("h5",{id:"table-style"},"table style"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-typescript",metastring:'title="web/src/modules/ones-project-component-new-aQbS/index.css"',title:'"web/src/modules/ones-project-component-new-aQbS/index.css"'},"body {\n  background: transparent;\n  line-height: 1.5;\n  padding: 20px 0;\n}\n\n#ones-mf-root {\n  overflow: hidden;\n  position: relative;\n  display: flex;\n  height: 100%;\n  flex-direction: column;\n  background: #fff;\n  .sprint-container {\n    width: 100%;\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    box-sizing: border-box;\n    background: #fff;\n    .sprint-head {\n      .sprint-head-title {\n        font-weight: 500;\n        font-size: 18px;\n        line-height: 26px;\n        padding: 0 20px;\n      }\n      .sprint-head-alert {\n        margin: 20px 0px 15px;\n        padding: 0 20px;\n      }\n    }\n    .sprint-picker {\n      display: flex;\n      justify-content: flex-start;\n      align-items: center;\n      padding: 0 20px;\n      width: 40%;\n      .sprint-status-select {\n        display: flex;\n        flex-direction: row;\n        align-items: center;\n        width: 60%;\n        margin-right: 20px;\n        .select-title {\n          width: 30%;\n        }\n        .select-main {\n          width: 70%\n        }\n      }\n      .sprint-done-interval {\n        width: 40%;\n      }\n    }\n    .sprint-table {\n      margin: 0 20px;\n      margin-top: 20px;\n    }\n  }\n}\n")),(0,i.kt)("h5",{id:"data-construction-of-table"},"Data Construction of Table"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-typescript",metastring:'title="web/src/modules/ones-project-component-new-aQbS/components/sprint-statistics.tsx"',title:'"web/src/modules/ones-project-component-new-aQbS/components/sprint-statistics.tsx"'},"import { Alert } from '@ones-design/core'\nimport VirtualTable from '@ones-design/table'\nimport React from 'react'\nimport {\n  SPRINT_STATISTICS_TITLE,\n  SPRINT_STATISTICS_ALERT,\n} from '../../../common/constants/constants'\n\nexport const SprintStatistics = () => {\n  const sprintFilterChange = (params) => {\n    console.log('Change Params: ', params)\n  }\n\n  return (\n    <div className=\"sprint-container\">\n      <div className=\"sprint-head\">\n        <div className=\"sprint-head-title\">{SPRINT_STATISTICS_TITLE}</div>\n        <Alert type=\"info\" className=\"sprint-head-alert\">\n          {SPRINT_STATISTICS_ALERT}\n        </Alert>\n      </div>\n      <VirtualTable\n        className=\"sprint-table\"\n        columns={[\n          {\n            code: 'sprint',\n            features: {\n              autoWidth: {\n                min: 250,\n              },\n            },\n            lock: true,\n            name: 'sprint',\n            width: 250,\n          },\n          {\n            code: 'startDate',\n            name: 'startDate',\n            width: 100,\n          },\n          {\n            code: 'endDate',\n            name: 'endDate',\n            width: 100,\n          },\n          {\n            code: 'status',\n            name: 'status',\n          },\n          {\n            code: 'progress',\n            name: 'progress',\n          },\n          {\n            code: 'member',\n            name: 'member',\n          },\n          {\n            code: 'workHours',\n            name: 'workHours(front-end/back-end/test)',\n            width: 200,\n          },\n        ]}\n        dataSource={[\n          {\n            startDate: '2022-12-1',\n            endDate: '2022-12-12',\n            status: 'Implementing',\n            sprint: '\u3010Basic\u3011Logger development',\n            progress: '50%',\n            member: 'Miles\uff0cGeorge',\n            workHours: '8h/20h/16h',\n          },\n          {\n            startDate: '2022-11-15',\n            endDate: '2022-12-30',\n            status: 'Implemented',\n            sprint: '\u3010Business\u3011scirpt field float-number development',\n            progress: '80%',\n            member: 'George\uff0cShawn',\n            workHours: '65h/90h/24h',\n          },\n          {\n            startDate: '2022-10-17',\n            endDate: '2022-11-1',\n            status: 'Implementing',\n            sprint: '\u3010Basic\u3011plugin file operation development',\n            progress: '90%',\n            member: 'Miles\uff0cStan',\n            workHours: '-/56h/8h',\n          },\n          {\n            startDate: '2022-10-1',\n            endDate: '2022-12-12',\n            status: 'Implementing',\n            sprint: '\u3010Business\u3011independent hosting development',\n            progress: '50%',\n            member: 'Shawn\uff0cStan',\n            workHours: '36h/180h/40h',\n          },\n          {\n            startDate: '2022-12-15',\n            endDate: '2022-12-21',\n            status: 'Implementing',\n            sprint: '\u3010Basic\u3011plugin file operation expansion',\n            progress: '50%',\n            member: 'Kane\uff0cEva',\n            workHours: '24h/32h/8h',\n          },\n          {\n            startDate: '2022-12-30',\n            endDate: '2023-2-27',\n            status: 'Implementing',\n            sprint: '\u3010Business\u3011script filed - selection development',\n            progress: '50%',\n            member: 'Tony\uff0cPaul',\n            workHours: '160h/192h/32h',\n          },\n        ]}\n      />\n    </div>\n  )\n}\n")),(0,i.kt)("h5",{id:"the-design-of-table-header"},"the design of table header"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-typescript",metastring:'title="web/src/common/constants/constants.ts"',title:'"web/src/common/constants/constants.ts"'},"export const SPRINT_STATISTICS_TITLE = 'Iterative progress statistics'\nexport const SPRINT_STATISTICS_ALERT = 'Full iterative results under statistical projects.'\n")),(0,i.kt)("h4",{id:"3-install-the-plugin-and-enable-it-and-the-custom-component-will-be-automatically-added-to-the-component-libraries-of-all-projects-you-can-use-the-custom-component-in-the-corresponding-project"},"3. Install the plugin and enable it, and the custom component will be automatically added to the component libraries of all projects. You can use the custom component in the corresponding project."))}b.isMDXComponent=!0}}]);