"use strict";(self.webpackChunkopen_docs=self.webpackChunkopen_docs||[]).push([[46125],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>u});var a=n(67294);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,l=function(e,t){if(null==e)return{};var n,a,l={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}var p=a.createContext({}),m=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},d=function(e){var t=m(e.components);return a.createElement(p.Provider,{value:t},e.children)},s={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},k=a.forwardRef((function(e,t){var n=e.components,l=e.mdxType,r=e.originalType,p=e.parentName,d=o(e,["components","mdxType","originalType","parentName"]),k=m(n),u=l,c=k["".concat(p,".").concat(u)]||k[u]||s[u]||r;return n?a.createElement(c,i(i({ref:t},d),{},{components:n})):a.createElement(c,i({ref:t},d))}));function u(e,t){var n=arguments,l=t&&t.mdxType;if("string"==typeof e||l){var r=n.length,i=new Array(r);i[0]=k;var o={};for(var p in t)hasOwnProperty.call(t,p)&&(o[p]=t[p]);o.originalType=e,o.mdxType="string"==typeof e?e:l,i[1]=o;for(var m=2;m<r;m++)i[m]=n[m];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}k.displayName="MDXCreateElement"},588:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>i,default:()=>s,frontMatter:()=>r,metadata:()=>o,toc:()=>m});var a=n(87462),l=(n(67294),n(3905));const r={sidebar_position:2},i="OP CLI Commands",o={unversionedId:"tools/cli/op-cli",id:"tools/cli/op-cli",title:"OP CLI Commands",description:"This reference lists the commands that you can use to build plugin with OP CLI.",source:"@site/docs/tools/cli/op-cli.md",sourceDirName:"tools/cli",slug:"/tools/cli/op-cli",permalink:"/open-docs/docs/next/tools/cli/op-cli",draft:!1,tags:[],version:"current",lastUpdatedBy:"liupengfei",lastUpdatedAt:1690863366,formattedLastUpdatedAt:"Aug 1, 2023",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tools",previous:{title:"ONES CLI Commands",permalink:"/open-docs/docs/next/tools/cli/ones-cli"},next:{title:"Changelog",permalink:"/open-docs/docs/next/tools/cli/changelog"}},p={},m=[{value:"Overview",id:"overview",level:2},{value:"init",id:"init",level:2},{value:"add",id:"add",level:2},{value:"Examples",id:"examples",level:3},{value:"Arguments",id:"arguments",level:3},{value:"packup",id:"packup",level:2},{value:"Arguments",id:"arguments-1",level:3},{value:"Options",id:"options",level:3},{value:"login",id:"login",level:2},{value:"Arguments",id:"arguments-2",level:3},{value:"Options",id:"options-1",level:3},{value:"About <code>--scope</code> option",id:"about---scope-option",level:3},{value:"Examples",id:"examples-1",level:3},{value:"ci",id:"ci",level:2},{value:"Arguments",id:"arguments-3",level:3},{value:"Options",id:"options-2",level:3},{value:"Example",id:"example",level:3},{value:"pickteam",id:"pickteam",level:2},{value:"Arguments",id:"arguments-4",level:3},{value:"Options",id:"options-3",level:3},{value:"Example",id:"example-1",level:3},{value:"invoke",id:"invoke",level:2},{value:"Arguments",id:"arguments-5",level:3},{value:"Available life-cycle",id:"available-life-cycle",level:3},{value:"Available processes",id:"available-processes",level:3},{value:"Options",id:"options-4",level:3},{value:"update (Deprecating)",id:"update-deprecating",level:2},{value:"Arguments",id:"arguments-6",level:3},{value:"Available target",id:"available-target",level:3},{value:"upgrade",id:"upgrade",level:2},{value:"Requirements",id:"requirements",level:3},{value:"Overview",id:"overview-1",level:3}],d={toc:m};function s(e){let{components:t,...n}=e;return(0,l.kt)("wrapper",(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"op-cli-commands"},"OP CLI Commands"),(0,l.kt)("p",null,"This reference lists the commands that you can use to build plugin with OP CLI."),(0,l.kt)("admonition",{type:"note"},(0,l.kt)("p",{parentName:"admonition"},"OP CLI is a dependency of the plugin project."),(0,l.kt)("p",{parentName:"admonition"},"Developer need to use ",(0,l.kt)("a",{parentName:"p",href:"https://docs.npmjs.com/cli/v8/commands/npx"},"npx")," to execute command like: ",(0,l.kt)("inlineCode",{parentName:"p"},"npx op [command] [arguments] [options]"))),(0,l.kt)("h2",{id:"overview"},"Overview"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Command"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"#init"},"init")),(0,l.kt)("td",{parentName:"tr",align:null},"Initialize project settings.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"#add"},"add")),(0,l.kt)("td",{parentName:"tr",align:null},"Add a ability or module for the project.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"#packup"},"packup")),(0,l.kt)("td",{parentName:"tr",align:null},"Pack up the plugin project and build ",(0,l.kt)("inlineCode",{parentName:"td"},".opk")," file in the root directory, provide version control")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"#login"},"login")),(0,l.kt)("td",{parentName:"tr",align:null},"Store the parameters used to obtain user credentials in a specific environment into ",(0,l.kt)("inlineCode",{parentName:"td"},"config/local.yaml"),".")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"#ci"},"ci")),(0,l.kt)("td",{parentName:"tr",align:null},"Store the parameters used to obtain user credentials in a specific branch for (gitlab) CI into ",(0,l.kt)("inlineCode",{parentName:"td"},"config/ci-deploy.yaml"),".")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"#pickteam"},"pickteam")),(0,l.kt)("td",{parentName:"tr",align:null},"Fetch the team list and update the config file with the team information from the team list for local debugging or CI deployment.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"#invoke"},"invoke")),(0,l.kt)("td",{parentName:"tr",align:null},"Start the plugin project locally and invoke one or several life-cycles of the plugin.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"#update"},"update")),(0,l.kt)("td",{parentName:"tr",align:null},"Update project content.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"#upgrade"},"upgrade")),(0,l.kt)("td",{parentName:"tr",align:null},"Upgrade ",(0,l.kt)("inlineCode",{parentName:"td"},"@ones/cli-plugin")," and relative dependencies to lastest version which range of current major version.content.")))),(0,l.kt)("h2",{id:"init"},"init"),(0,l.kt)("p",null,"Initialize project settings."),(0,l.kt)("p",null,"It will be automatic execute after install npm dependencies, developer can check ",(0,l.kt)("inlineCode",{parentName:"p"},"scripts")," fields on ",(0,l.kt)("inlineCode",{parentName:"p"},"packages.json")," to learn more detail."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"npx op init\n")),(0,l.kt)("h2",{id:"add"},"add"),(0,l.kt)("p",null,"Add a ability or module for the project."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"npx op add <target-type>\n")),(0,l.kt)("h3",{id:"examples"},"Examples"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"Add module or sub-module for project")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"npx op add module\nnpx op add sub-module\n")),(0,l.kt)("ol",{start:2},(0,l.kt)("li",{parentName:"ol"},"Add ability or sub-module for project")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"npx op add ability\n")),(0,l.kt)("h3",{id:"arguments"},"Arguments"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Argument"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"target-type")),(0,l.kt)("td",{parentName:"tr",align:null},"Specify a content type that you want to add, support types: ",(0,l.kt)("ul",null,(0,l.kt)("li",null,(0,l.kt)("inlineCode",{parentName:"td"},"module")),(0,l.kt)("li",null,(0,l.kt)("inlineCode",{parentName:"td"},"sub-module")),(0,l.kt)("li",null,(0,l.kt)("inlineCode",{parentName:"td"},"ability"))))))),(0,l.kt)("h2",{id:"packup"},"packup"),(0,l.kt)("p",null,"Pack up the plugin project and build ",(0,l.kt)("inlineCode",{parentName:"p"},".opk")," file in the root directory, provide version control."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"npx op packup [filename]\n")),(0,l.kt)("h3",{id:"arguments-1"},"Arguments"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Argument"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"filename")),(0,l.kt)("td",{parentName:"tr",align:null},"Specify the name of the ",(0,l.kt)("inlineCode",{parentName:"td"},".opk")," file, default is the project name.")))),(0,l.kt)("h3",{id:"options"},"Options"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Argument"),(0,l.kt)("th",{parentName:"tr",align:null},"Requirements"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"--bump <mode>")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"@ones/cli-plugin")," ",(0,l.kt)("inlineCode",{parentName:"td"},"v1.14.0+")),(0,l.kt)("td",{parentName:"tr",align:null},"packup plug-in with bump options, ",(0,l.kt)("inlineCode",{parentName:"td"},"no-modify"),": do not bump version, ",(0,l.kt)("inlineCode",{parentName:"td"},"major"),": bump major version, ",(0,l.kt)("inlineCode",{parentName:"td"},"minor"),": bump minor version, ",(0,l.kt)("inlineCode",{parentName:"td"},"patch"),": bump patch version")))),(0,l.kt)("h2",{id:"login"},"login"),(0,l.kt)("p",null,"Store the parameters used to obtain user credentials in a specific environment into ",(0,l.kt)("inlineCode",{parentName:"p"},"config/local.yaml"),"."),(0,l.kt)("p",null,"Argument ",(0,l.kt)("inlineCode",{parentName:"p"},"baseURL")," and ",(0,l.kt)("inlineCode",{parentName:"p"},"hostURL")," is protocol sensitive, different protocol type will be treated as a different scope."),(0,l.kt)("p",null,"After login successfully, CLI will store the scope parameters into ",(0,l.kt)("inlineCode",{parentName:"p"},"~/.ones/cli-plugin.yaml")," for local debugging."),(0,l.kt)("p",null,"And at the same time, this command will try to run ",(0,l.kt)("inlineCode",{parentName:"p"},"npx op pickteam local")," automatically if the current project has never had a team picked before."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"npx op login [options] [baseURL] [hostURL]\n")),(0,l.kt)("h3",{id:"arguments-2"},"Arguments"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Argument"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"baseURL")),(0,l.kt)("td",{parentName:"tr",align:null},"Specify the environment url for login.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"hostURL")),(0,l.kt)("td",{parentName:"tr",align:null},"Specify the host url for local debugging.")))),(0,l.kt)("h3",{id:"options-1"},"Options"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Option"),(0,l.kt)("th",{parentName:"tr",align:null},"Alias"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"--username <username>")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"-u <username>")),(0,l.kt)("td",{parentName:"tr",align:null},"Username can be email or phone number.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"--password <password>")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"-p <password>")),(0,l.kt)("td",{parentName:"tr",align:null},"Password.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"--scope [url]")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"-s [url]")),(0,l.kt)("td",{parentName:"tr",align:null},"Use specific scope parameters login, default is current environment url, this option is mutually exclusive with ",(0,l.kt)("inlineCode",{parentName:"td"},"-u"),", ",(0,l.kt)("inlineCode",{parentName:"td"},"-p")," options.")))),(0,l.kt)("h3",{id:"about---scope-option"},"About ",(0,l.kt)("inlineCode",{parentName:"h3"},"--scope")," option"),(0,l.kt)("admonition",{type:"note"},(0,l.kt)("p",{parentName:"admonition"},"In different operating systems, the path of credential storage will be different."),(0,l.kt)("ul",{parentName:"admonition"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Linux/macOS:")," ",(0,l.kt)("inlineCode",{parentName:"li"},"~/.ones/cli-plugin.yaml")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Windows:")," ",(0,l.kt)("inlineCode",{parentName:"li"},"C:\\Users\\YOUR_USERNAME\\.ones\\cli-plugin.yaml"))),(0,l.kt)("pre",{parentName:"admonition"},(0,l.kt)("code",{parentName:"pre",className:"language-yaml",metastring:'title="Content like this"',title:'"Content',like:!0,'this"':!0},"scopes:\n  https://foo.example.com:\n    baseURL: https://foo.example.com\n    username: foo\n    password: fooPass\n  https://bar.example.com:\n    baseURL: https://bar.example.com\n    username: bar\n    password: barPass\n"))),(0,l.kt)("p",null,"It should be noted that when executing the ",(0,l.kt)("inlineCode",{parentName:"p"},"login")," command and using the ",(0,l.kt)("inlineCode",{parentName:"p"},"scope")," option:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"This option is mutually exclusive with ",(0,l.kt)("inlineCode",{parentName:"li"},"-u"),", ",(0,l.kt)("inlineCode",{parentName:"li"},"-p")," options."),(0,l.kt)("li",{parentName:"ul"},"If the selected ",(0,l.kt)("inlineCode",{parentName:"li"},"scope")," credential is invalid, enter the interactive question and answer to enter the new user credential information (the effect is equivalent to executing ",(0,l.kt)("inlineCode",{parentName:"li"},"npx op login"),").")),(0,l.kt)("h3",{id:"examples-1"},"Examples"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"Enter the interactive Q&A process and input the login parameters.")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"npx op login\n")),(0,l.kt)("ol",{start:2},(0,l.kt)("li",{parentName:"ol"},"Login to ",(0,l.kt)("inlineCode",{parentName:"li"},"https://dev.ones.com")," environment. And then enter the inquiry session flow input rest parameters: ",(0,l.kt)("inlineCode",{parentName:"li"},"hostURL"),", ",(0,l.kt)("inlineCode",{parentName:"li"},"username"),", ",(0,l.kt)("inlineCode",{parentName:"li"},"password"),".")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"npx op login https://dev.ones.com\n")),(0,l.kt)("ol",{start:3},(0,l.kt)("li",{parentName:"ol"},"Login to ",(0,l.kt)("inlineCode",{parentName:"li"},"https://dev.ones.com")," environment and set ",(0,l.kt)("inlineCode",{parentName:"li"},"hostURL")," to ",(0,l.kt)("inlineCode",{parentName:"li"},"tcp://dev.ones.com:9006")," with two parameters and not enter the interactive Q&A process.")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"npx op login https://dev.ones.com tcp://dev.ones.com:9006 -u test@ones.com -p password\n")),(0,l.kt)("ol",{start:4},(0,l.kt)("li",{parentName:"ol"},"Use ",(0,l.kt)("inlineCode",{parentName:"li"},"https://dev.ones.com")," scope parameters to login to ",(0,l.kt)("inlineCode",{parentName:"li"},"https://partnerdev.ones.com")," environment.")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"npx op login https://partnerdev.ones.com tcp://dev.ones.com:9006 -s https://dev.ones.com\n")),(0,l.kt)("h2",{id:"ci"},"ci"),(0,l.kt)("p",null,"Store the parameters used to obtain user credentials in a specific branch for (gitlab) CI into ",(0,l.kt)("inlineCode",{parentName:"p"},"config/ci-deploy.yaml"),"."),(0,l.kt)("p",null,"Argument ",(0,l.kt)("inlineCode",{parentName:"p"},"url")," is protocol sensitive, different protocol type will be treated as a different scope."),(0,l.kt)("p",null,"Unlike the ",(0,l.kt)("a",{parentName:"p",href:"#login"},"login command"),", current command does not store the scope parameters into ",(0,l.kt)("inlineCode",{parentName:"p"},"~/.ones/cli-plugin.yaml"),"."),(0,l.kt)("p",null,"But if the current branch has never picked a team after the run is complete, ",(0,l.kt)("inlineCode",{parentName:"p"},"npx op pickteam ci -b $currentSpecifyBranch")," will be automatically executed which is consistent."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"npx op ci [options] [url]\n")),(0,l.kt)("h3",{id:"arguments-3"},"Arguments"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Argument"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"url")),(0,l.kt)("td",{parentName:"tr",align:null},"Specify the environment url for login.")))),(0,l.kt)("h3",{id:"options-2"},"Options"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Option"),(0,l.kt)("th",{parentName:"tr",align:null},"Alias"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"--branch-name <branch-name>")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"-b <branch-name>")),(0,l.kt)("td",{parentName:"tr",align:null},"Specify the branch name for CI deployment configuration, default is ",(0,l.kt)("inlineCode",{parentName:"td"},"master")," or ",(0,l.kt)("inlineCode",{parentName:"td"},"main")," branch.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"--username <username>")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"-u <username>")),(0,l.kt)("td",{parentName:"tr",align:null},"Username can be email or phone number.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"--password <password>")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"-p <password>")),(0,l.kt)("td",{parentName:"tr",align:null},"Password.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"--scope [url]")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"-s [url]")),(0,l.kt)("td",{parentName:"tr",align:null},"Use specific scope parameters login, default is current environment url, this option is mutually exclusive with ",(0,l.kt)("inlineCode",{parentName:"td"},"-u"),", ",(0,l.kt)("inlineCode",{parentName:"td"},"-p")," options.")))),(0,l.kt)("h3",{id:"example"},"Example"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"Enter the interactive Q&A process and input the parameters for CI deployment.")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"npx op ci\n")),(0,l.kt)("ol",{start:2},(0,l.kt)("li",{parentName:"ol"},"Specify the environment address for the CI deployment as ",(0,l.kt)("inlineCode",{parentName:"li"},"https://dev.ones.com"),", and then enter the interactive Q&A process input rest parameters: ",(0,l.kt)("inlineCode",{parentName:"li"},"branch"),", ",(0,l.kt)("inlineCode",{parentName:"li"},"username")," and ",(0,l.kt)("inlineCode",{parentName:"li"},"password"),".")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"npx op ci https://dev.ones.com\n")),(0,l.kt)("ol",{start:3},(0,l.kt)("li",{parentName:"ol"},"Specify the environment address for the CI deployment as ",(0,l.kt)("inlineCode",{parentName:"li"},"https://dev.ones.com"),", and not enter the interactive Q&A process input rest parameters.")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"npx op ci https://dev.ones.com -b next -u test@ones.com -p password\n")),(0,l.kt)("ol",{start:4},(0,l.kt)("li",{parentName:"ol"},"Use ",(0,l.kt)("inlineCode",{parentName:"li"},"https://dev.ones.com")," scope parameters and specify the environment address for the CI deployment as ",(0,l.kt)("inlineCode",{parentName:"li"},"https://partnerdev.ones.com"),".")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"npx op ci https://partnerdev.ones.com -b next -s https://dev.ones.com\n")),(0,l.kt)("h2",{id:"pickteam"},"pickteam"),(0,l.kt)("p",null,"Fetch the team list with the user credentials stored in the config file (",(0,l.kt)("inlineCode",{parentName:"p"},"config/local.yaml")," or ",(0,l.kt)("inlineCode",{parentName:"p"},"config/ci-deploy.yaml"),") and update the config file with the team information from the team list for local debugging or CI deployment."),(0,l.kt)("p",null,"Before performing this operation, the login operation should be completed in the corresponding target."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"npx op pickteam [target] [options]\n")),(0,l.kt)("h3",{id:"arguments-4"},"Arguments"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Argument"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"target")),(0,l.kt)("td",{parentName:"tr",align:null},"Specify the target type configuration for which team information needs to be updated, target type only can be ",(0,l.kt)("inlineCode",{parentName:"td"},"local")," or ",(0,l.kt)("inlineCode",{parentName:"td"},"ci"),".")))),(0,l.kt)("h3",{id:"options-3"},"Options"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Option"),(0,l.kt)("th",{parentName:"tr",align:null},"Alias"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"--branch-name <branch>")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"-b <branch>")),(0,l.kt)("td",{parentName:"tr",align:null},"Specify a branch name for the CI deployment configuration.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"--team-uuid <uuid>")),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},"Match the specified team ",(0,l.kt)("inlineCode",{parentName:"td"},"uuid")," in the team list.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"--team-name <name>")),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},"Match the specified team ",(0,l.kt)("inlineCode",{parentName:"td"},"name")," in the team list.")))),(0,l.kt)("admonition",{type:"note"},(0,l.kt)("p",{parentName:"admonition"},"The ",(0,l.kt)("inlineCode",{parentName:"p"},"-b --branch-name <branch>")," option only takes effect when the target is ",(0,l.kt)("inlineCode",{parentName:"p"},"ci"),", and leave blank or not specify a value will enter the interactive Q&A for branch name selection.")),(0,l.kt)("admonition",{type:"note"},(0,l.kt)("p",{parentName:"admonition"},"When ",(0,l.kt)("inlineCode",{parentName:"p"},"--team-uuid")," and ",(0,l.kt)("inlineCode",{parentName:"p"},"--team-name")," are specified at the same time, only ",(0,l.kt)("inlineCode",{parentName:"p"},"--team-uuid")," will be used.")),(0,l.kt)("h3",{id:"example-1"},"Example"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"Fetch the team list with the user credentials stored in the ",(0,l.kt)("inlineCode",{parentName:"li"},"config/local.yaml"),". If does not store user credentials, you need to execute ",(0,l.kt)("inlineCode",{parentName:"li"},"npx op login")," first.")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"npx op pickteam local\n")),(0,l.kt)("ol",{start:2},(0,l.kt)("li",{parentName:"ol"},"Display the branch list with the user credentials stored in the ",(0,l.kt)("inlineCode",{parentName:"li"},"config/ci-deploy.yaml"),", and enter the interactive Q&A process for choosing the branch to fetch the team list, if does not store user credentials, you need to execute ",(0,l.kt)("inlineCode",{parentName:"li"},"npx op ci")," first.")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"npx op pickteam ci\n")),(0,l.kt)("ol",{start:3},(0,l.kt)("li",{parentName:"ol"},"Fetch the team list with the user credentials stored in ",(0,l.kt)("inlineCode",{parentName:"li"},"config/ci-deploy.yaml")," with the branch name ",(0,l.kt)("inlineCode",{parentName:"li"},"next"),", please note that the branch name is case sensitive, and the branch name must be the same as the branch name in the ",(0,l.kt)("inlineCode",{parentName:"li"},"config/ci-deploy.yaml"),", the CLI will throw an error if no branch name matches.")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"npx op pickteam ci -b next\n")),(0,l.kt)("ol",{start:4},(0,l.kt)("li",{parentName:"ol"},"Fetch the team list with the user credentials stored in the ",(0,l.kt)("inlineCode",{parentName:"li"},"config/local.yaml"),", after fetching the team list, CLI will try to pick the team with the team UUID ",(0,l.kt)("inlineCode",{parentName:"li"},"T7YB134K"),", the CLI will throw an error if no team UUID matches")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"npx op pickteam local --team-uuid T7YB134K\n")),(0,l.kt)("ol",{start:5},(0,l.kt)("li",{parentName:"ol"},"Fetch the team list with the user credentials stored in ",(0,l.kt)("inlineCode",{parentName:"li"},"config/ci-deploy.yaml")," with the branch name ",(0,l.kt)("inlineCode",{parentName:"li"},"next"),", after fetching the team list, CLI will try to pick the team with the team name ",(0,l.kt)("inlineCode",{parentName:"li"},"TestTeamName"),", the CLI will throw an error if no team name matches")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"npx op pickteam ci -b next --team-name TestTeamName\n")),(0,l.kt)("h2",{id:"invoke"},"invoke"),(0,l.kt)("p",null,"Start the plugin project locally and invoke one or several life-cycles of the plugin."),(0,l.kt)("p",null,"The difference between process and life-cycles is that the process will contain multiple life-cycles."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"npx op invoke [options] <target>\n")),(0,l.kt)("h3",{id:"arguments-5"},"Arguments"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Argument"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"target")),(0,l.kt)("td",{parentName:"tr",align:null},"Specify the ",(0,l.kt)("inlineCode",{parentName:"td"},"process")," or ",(0,l.kt)("inlineCode",{parentName:"td"},"life-cycle")," you want to invoke.")))),(0,l.kt)("h3",{id:"available-life-cycle"},"Available life-cycle"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"install")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"enable")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"start")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"stop")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"disable")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"uninstall"))),(0,l.kt)("p",null,"Developer can learn more about ",(0,l.kt)("a",{parentName:"p",href:"/open-docs/docs/next/guide/lifecycle"},"available life-cycle")," in the guide section."),(0,l.kt)("h3",{id:"available-processes"},"Available processes"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Process"),(0,l.kt)("th",{parentName:"tr",align:null},"Contain life-cycle"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"run")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("ul",null,(0,l.kt)("li",null,(0,l.kt)("inlineCode",{parentName:"td"},"install")),(0,l.kt)("li",null,(0,l.kt)("inlineCode",{parentName:"td"},"enable")),(0,l.kt)("li",null,(0,l.kt)("inlineCode",{parentName:"td"},"start"))))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"clear")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("ul",null,(0,l.kt)("li",null,(0,l.kt)("inlineCode",{parentName:"td"},"stop")),(0,l.kt)("li",null,(0,l.kt)("inlineCode",{parentName:"td"},"disable")),(0,l.kt)("li",null,(0,l.kt)("inlineCode",{parentName:"td"},"uninstall"))))))),(0,l.kt)("h3",{id:"options-4"},"Options"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Option"),(0,l.kt)("th",{parentName:"tr",align:null},"Alias"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"--mode <type>")),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},"specify the mode, support mode: ",(0,l.kt)("ul",null,(0,l.kt)("li",null,(0,l.kt)("inlineCode",{parentName:"td"},"all")),(0,l.kt)("li",null,(0,l.kt)("inlineCode",{parentName:"td"},"backend")),(0,l.kt)("li",null,(0,l.kt)("inlineCode",{parentName:"td"},"frontend")))," Default mode is ",(0,l.kt)("inlineCode",{parentName:"td"},"all"),".")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"--webpack-stats-preset <level>")),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},"Specify the webpack logging level, support level: ",(0,l.kt)("ul",null,(0,l.kt)("li",null,(0,l.kt)("inlineCode",{parentName:"td"},"errors-only")),(0,l.kt)("li",null,(0,l.kt)("inlineCode",{parentName:"td"},"errors-warnings")),(0,l.kt)("li",null,(0,l.kt)("inlineCode",{parentName:"td"},"minimal")),(0,l.kt)("li",null,(0,l.kt)("inlineCode",{parentName:"td"},"none")),(0,l.kt)("li",null,(0,l.kt)("inlineCode",{parentName:"td"},"normal")),(0,l.kt)("li",null,(0,l.kt)("inlineCode",{parentName:"td"},"verbose")),(0,l.kt)("li",null,(0,l.kt)("inlineCode",{parentName:"td"},"detailed")),(0,l.kt)("li",null,(0,l.kt)("inlineCode",{parentName:"td"},"summary")))," Default level is ",(0,l.kt)("inlineCode",{parentName:"td"},"info"),".")))),(0,l.kt)("h2",{id:"update-deprecating"},"update (Deprecating)"),(0,l.kt)("p",null,"Update project content, to be deprecated, using ",(0,l.kt)("inlineCode",{parentName:"p"},"upgrade")," instead."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"npx op update <target>\n")),(0,l.kt)("h3",{id:"arguments-6"},"Arguments"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Argument"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"target")),(0,l.kt)("td",{parentName:"tr",align:null},"Update target\uff0conly support ",(0,l.kt)("inlineCode",{parentName:"td"},"template"),".")))),(0,l.kt)("h3",{id:"available-target"},"Available target"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"name"),(0,l.kt)("th",{parentName:"tr",align:null},"Alias"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"template")),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},"Update project templates ",(0,l.kt)("inlineCode",{parentName:"td"},"@ones/cli-ability-template")," , ",(0,l.kt)("inlineCode",{parentName:"td"},"@ones-op/utils")," to the latest version of the current major version.")))),(0,l.kt)("h2",{id:"upgrade"},"upgrade"),(0,l.kt)("h3",{id:"requirements"},"Requirements"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:"left"},"@ones/cli-plugin"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"left"},"v1.14.0+")))),(0,l.kt)("h3",{id:"overview-1"},"Overview"),(0,l.kt)("p",null,"Upgrade ",(0,l.kt)("inlineCode",{parentName:"p"},"@ones/cli-plugin")," and relative dependencies to lastest version which range of current major version"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"npx op upgrade\n")))}s.isMDXComponent=!0}}]);