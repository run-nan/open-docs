"use strict";(self.webpackChunkopen_docs=self.webpackChunkopen_docs||[]).push([[69218],{3905:(e,t,n)=>{n.d(t,{Zo:()=>s,kt:()=>c});var l=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,l,a=function(e,t){if(null==e)return{};var n,l,a={},i=Object.keys(e);for(l=0;l<i.length;l++)n=i[l],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(l=0;l<i.length;l++)n=i[l],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var u=l.createContext({}),p=function(e){var t=l.useContext(u),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},s=function(e){var t=p(e.components);return l.createElement(u.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return l.createElement(l.Fragment,{},t)}},d=l.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,u=e.parentName,s=o(e,["components","mdxType","originalType","parentName"]),d=p(n),c=a,k=d["".concat(u,".").concat(c)]||d[c]||m[c]||i;return n?l.createElement(k,r(r({ref:t},s),{},{components:n})):l.createElement(k,r({ref:t},s))}));function c(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,r=new Array(i);r[0]=d;var o={};for(var u in t)hasOwnProperty.call(t,u)&&(o[u]=t[u]);o.originalType=e,o.mdxType="string"==typeof e?e:a,r[1]=o;for(var p=2;p<i;p++)r[p]=n[p];return l.createElement.apply(null,r)}return l.createElement.apply(null,n)}d.displayName="MDXCreateElement"},45161:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>r,default:()=>m,frontMatter:()=>i,metadata:()=>o,toc:()=>p});var l=n(87462),a=(n(67294),n(3905));const i={},r="local.yaml",o={unversionedId:"reference/config/local.yaml",id:"reference/config/local.yaml",title:"local.yaml",description:"The plugin local debugging configuration file, the built-in op cli of the plugin project will consume the content of the file when performing the relevant instructions of the local debugging.",source:"@site/docs/reference/config/local.yaml.md",sourceDirName:"reference/config",slug:"/reference/config/local.yaml",permalink:"/open-docs/docs/next/reference/config/local.yaml",draft:!1,tags:[],version:"current",lastUpdatedBy:"liupengfei",lastUpdatedAt:1690863366,formattedLastUpdatedAt:"Aug 1, 2023",frontMatter:{},sidebar:"reference",previous:{title:"ci-deploy.yaml",permalink:"/open-docs/docs/next/reference/config/ci-deploy.yaml"},next:{title:"upgrade.yaml",permalink:"/open-docs/docs/next/reference/config/upgrade.yaml"}},u={},p=[{value:"platform",id:"platform",level:2},{value:"address",id:"address",level:3},{value:"baseURL",id:"baseurl",level:3},{value:"username",id:"username",level:3},{value:"password",id:"password",level:3},{value:"local",id:"local",level:2},{value:"id",id:"id",level:3},{value:"language",id:"language",level:3},{value:"debug_mode",id:"debug_mode",level:3},{value:"timeout_sec",id:"timeout_sec",level:3},{value:"organization_uuid",id:"organization_uuid",level:3},{value:"team_uuid",id:"team_uuid",level:3},{value:"web_service_port",id:"web_service_port",level:3},{value:"web_service_ip",id:"web_service_ip",level:3},{value:"user_uuid",id:"user_uuid",level:3},{value:"log_in_local",id:"log_in_local",level:3},{value:"log_level",id:"log_level",level:3},{value:"file_in_local",id:"file_in_local",level:3},{value:"mysql_in_local",id:"mysql_in_local",level:3},{value:"mysql_user_name",id:"mysql_user_name",level:3},{value:"mysql_user_password",id:"mysql_user_password",level:3},{value:"mysql_database_name",id:"mysql_database_name",level:3},{value:"mysql_host",id:"mysql_host",level:3},{value:"mysql_port",id:"mysql_port",level:3},{value:"instance_uuid",id:"instance_uuid",level:3}],s={toc:p};function m(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,l.Z)({},s,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"localyaml"},"local.yaml"),(0,a.kt)("p",null,"The plugin local debugging configuration file, the built-in ",(0,a.kt)("inlineCode",{parentName:"p"},"op")," cli of the plugin project will consume the content of the file when performing the relevant instructions of the local debugging."),(0,a.kt)("admonition",{type:"note"},(0,a.kt)("p",{parentName:"admonition"},"The local debugging configuration is stored in ",(0,a.kt)("inlineCode",{parentName:"p"},"local.yaml"),", so changes to the ",(0,a.kt)("inlineCode",{parentName:"p"},"local.yaml")," file will ",(0,a.kt)("strong",{parentName:"p"},"not be recorded and submitted by ",(0,a.kt)("inlineCode",{parentName:"strong"},"git"))," to avoid submitting user credentials and other information to the remote end, resulting in information Security Risk.")),(0,a.kt)("p",null,"File path and structure:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yaml",metastring:'title="/config/local.yaml"',title:'"/config/local.yaml"'},"platform:\n  address: tcp://172.16.1.1:9006\n  username: ''\n  password: ''\nlocal:\n  id: '********'\n  language: nodejs\n  debug_mode: true\n  timeout_sec: 30\n  organization_uuid: '********'\n  team_uuid: '********'\n  web_service_port: '3000'\n  web_service_ip: 127.0.0.1\n  user_uuid: '********'\n  log_in_local: false\n  log_level: info\n  file_in_local: false\n  mysql_in_local: false\n  mysql_user_name: ''\n  mysql_user_password: ''\n  mysql_database_name: ''\n  mysql_host: ''\n  mysql_port: ''\n  instance_uuid: '********'\n")),(0,a.kt)("h2",{id:"platform"},"platform"),(0,a.kt)("p",null,"The Open platform configuration."),(0,a.kt)("h3",{id:"address"},"address"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Type:")," ",(0,a.kt)("inlineCode",{parentName:"li"},"string")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Example:")," ",(0,a.kt)("inlineCode",{parentName:"li"},"tcp://172.16.1.1:9006"))),(0,a.kt)("p",null,"Open platform host service ",(0,a.kt)("inlineCode",{parentName:"p"},"TCP")," address."),(0,a.kt)("h3",{id:"baseurl"},"baseURL"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Type:")," ",(0,a.kt)("inlineCode",{parentName:"li"},"string")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Example:")," ",(0,a.kt)("inlineCode",{parentName:"li"},"https://172.16.1.1:9000"))),(0,a.kt)("p",null,"ONES instance interface access address."),(0,a.kt)("h3",{id:"username"},"username"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Type:")," ",(0,a.kt)("inlineCode",{parentName:"li"},"string"))),(0,a.kt)("p",null,"The email or mobile phone number used to load the user's credentials."),(0,a.kt)("h3",{id:"password"},"password"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Type:")," ",(0,a.kt)("inlineCode",{parentName:"li"},"string"))),(0,a.kt)("p",null,"The password used to load user credentials."),(0,a.kt)("h2",{id:"local"},"local"),(0,a.kt)("p",null,"Local plugin configuration."),(0,a.kt)("h3",{id:"id"},"id"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Type:")," ",(0,a.kt)("inlineCode",{parentName:"li"},"string"))),(0,a.kt)("p",null,"The HOST ID used by the plugin is randomly generated by the ",(0,a.kt)("inlineCode",{parentName:"p"},"op")," cli, which is generally no need to modify it."),(0,a.kt)("h3",{id:"language"},"language"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Type:")," ",(0,a.kt)("inlineCode",{parentName:"li"},"'nodejs'"))),(0,a.kt)("p",null,"The language used by the plugin generally does not need to be modified."),(0,a.kt)("h3",{id:"debug_mode"},"debug_mode"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Type:")," ",(0,a.kt)("inlineCode",{parentName:"li"},"boolean"))),(0,a.kt)("p",null,"Enable the debugging mode for HOST."),(0,a.kt)("admonition",{type:"note"},(0,a.kt)("p",{parentName:"admonition"},"This will print a large number of logs. If you need to debug, we recommend that you add log printing to the plugin code for debugging.")),(0,a.kt)("h3",{id:"timeout_sec"},"timeout_sec"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Type:")," ",(0,a.kt)("inlineCode",{parentName:"li"},"number")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Unit:")," ",(0,a.kt)("inlineCode",{parentName:"li"},"seconds"))),(0,a.kt)("p",null,"Maximum duration for receiving open platform messages."),(0,a.kt)("h3",{id:"organization_uuid"},"organization_uuid"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Type:")," ",(0,a.kt)("inlineCode",{parentName:"li"},"string"))),(0,a.kt)("p",null,"The ID of the organization to which the user belongs is brought back after the user logs in. Generally, no change is required."),(0,a.kt)("h3",{id:"team_uuid"},"team_uuid"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Type:")," ",(0,a.kt)("inlineCode",{parentName:"li"},"string"))),(0,a.kt)("p",null,"The ID of the team to which the user belongs is brought back after the user logs in. Generally, no change is required."),(0,a.kt)("h3",{id:"web_service_port"},"web_service_port"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Type:")," ",(0,a.kt)("inlineCode",{parentName:"li"},"string")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Default:")," ",(0,a.kt)("inlineCode",{parentName:"li"},"3000"))),(0,a.kt)("p",null,"Plugin front-end local development service port."),(0,a.kt)("h3",{id:"web_service_ip"},"web_service_ip"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Type:")," ",(0,a.kt)("inlineCode",{parentName:"li"},"string")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Example:")," ",(0,a.kt)("inlineCode",{parentName:"li"},"127.0.0.1"))),(0,a.kt)("p",null,"Plugin front-end local development service ip."),(0,a.kt)("h3",{id:"user_uuid"},"user_uuid"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Type:")," ",(0,a.kt)("inlineCode",{parentName:"li"},"string"))),(0,a.kt)("p",null,"UUID of the organization administrator account, which is brought back after the user logs in. Generally, it does not need to be changed."),(0,a.kt)("h3",{id:"log_in_local"},"log_in_local"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Type:")," ",(0,a.kt)("inlineCode",{parentName:"li"},"boolean")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Deprecated"))),(0,a.kt)("p",null,"Whether logs are recorded locally."),(0,a.kt)("admonition",{type:"note"},(0,a.kt)("p",{parentName:"admonition"},"Logs are recorded on both local and open platforms.")),(0,a.kt)("h3",{id:"log_level"},"log_level"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Type: ",(0,a.kt)("inlineCode",{parentName:"li"},"'fatal' | 'error' | 'warning' | 'info' | 'debug'"))),(0,a.kt)("p",null,"Adjust console output verbosity. Default is 'info'."),(0,a.kt)("h3",{id:"file_in_local"},"file_in_local"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Type:")," ",(0,a.kt)("inlineCode",{parentName:"li"},"boolean"))),(0,a.kt)("p",null,"The ability provided by ",(0,a.kt)("inlineCode",{parentName:"p"},"@ones-op/node-file"),", is the working interval the ",(0,a.kt)("inlineCode",{parentName:"p"},"workspace")," directory of local plugins."),(0,a.kt)("h3",{id:"mysql_in_local"},"mysql_in_local"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Type:")," ",(0,a.kt)("inlineCode",{parentName:"li"},"boolean"))),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"@ones-op/node-database"),", whether the database is connected to the local MySQL."),(0,a.kt)("admonition",{type:"caution"},(0,a.kt)("p",{parentName:"admonition"},"If you use a local database, you still need to fill in the following configuration:"),(0,a.kt)("ul",{parentName:"admonition"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#mysql_user_name"},"mysql_user_name")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#mysql_user_password"},"mysql_user_password")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#mysql_database_name"},"mysql_database_name")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#mysql_host"},"mysql_host")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#mysql_port"},"mysql_port")))),(0,a.kt)("h3",{id:"mysql_user_name"},"mysql_user_name"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Type:")," ",(0,a.kt)("inlineCode",{parentName:"li"},"string")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Condition:")," enable ",(0,a.kt)("inlineCode",{parentName:"li"},"mysql_in_local"))),(0,a.kt)("p",null,"Local database user name."),(0,a.kt)("h3",{id:"mysql_user_password"},"mysql_user_password"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Type:")," ",(0,a.kt)("inlineCode",{parentName:"li"},"string")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Condition:")," enable ",(0,a.kt)("inlineCode",{parentName:"li"},"mysql_in_local"))),(0,a.kt)("p",null,"Local database user password."),(0,a.kt)("h3",{id:"mysql_database_name"},"mysql_database_name"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Type:")," ",(0,a.kt)("inlineCode",{parentName:"li"},"string")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Condition:")," enable ",(0,a.kt)("inlineCode",{parentName:"li"},"mysql_in_local"))),(0,a.kt)("p",null,"Local database name."),(0,a.kt)("h3",{id:"mysql_host"},"mysql_host"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Type:")," ",(0,a.kt)("inlineCode",{parentName:"li"},"string")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Condition:")," enable ",(0,a.kt)("inlineCode",{parentName:"li"},"mysql_in_local"))),(0,a.kt)("p",null,"Local database host."),(0,a.kt)("h3",{id:"mysql_port"},"mysql_port"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Type:")," ",(0,a.kt)("inlineCode",{parentName:"li"},"string")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Condition:")," enable ",(0,a.kt)("inlineCode",{parentName:"li"},"mysql_in_local"))),(0,a.kt)("p",null,"Local database port."),(0,a.kt)("h3",{id:"instance_uuid"},"instance_uuid"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Type:")," ",(0,a.kt)("inlineCode",{parentName:"li"},"string"))),(0,a.kt)("p",null,"Debug the instance UUID of the plugin."),(0,a.kt)("p",null,"If the value is empty, the Open Platform will randomly generate a UUID and fill it back to the ",(0,a.kt)("inlineCode",{parentName:"p"},"local.yaml"),", and continue to use this UUID."),(0,a.kt)("admonition",{type:"note"},(0,a.kt)("p",{parentName:"admonition"},"Executing ",(0,a.kt)("inlineCode",{parentName:"p"},"npx op invoke clear")," will not empty this field")),(0,a.kt)("p",null,"After executing the ",(0,a.kt)("inlineCode",{parentName:"p"},"npx op invoke run"),", the terminal display the following content:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-Plain",metastring:"Text",Text:!0},'...\nLocal debugging return value: {"instance_uuid":"********"}\n...\n')),(0,a.kt)("p",null,"You can return the plugin instance of the debugging plugin instance from the return value of the local debug command or the ",(0,a.kt)("inlineCode",{parentName:"p"},"config/local.yaml")," file."))}m.isMDXComponent=!0}}]);