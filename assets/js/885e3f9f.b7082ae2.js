"use strict";(self.webpackChunkopen_docs=self.webpackChunkopen_docs||[]).push([[6373],{17942:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>m});var a=n(50959);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var i=a.createContext({}),p=function(e){var t=a.useContext(i),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},u=function(e){var t=p(e.components);return a.createElement(i.Provider,{value:t},e.children)},d="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},h=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,i=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),d=p(n),h=r,m=d["".concat(i,".").concat(h)]||d[h]||c[h]||o;return n?a.createElement(m,l(l({ref:t},u),{},{components:n})):a.createElement(m,l({ref:t},u))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,l=new Array(o);l[0]=h;var s={};for(var i in t)hasOwnProperty.call(t,i)&&(s[i]=t[i]);s.originalType=e,s[d]="string"==typeof e?e:r,l[1]=s;for(var p=2;p<o;p++)l[p]=n[p];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}h.displayName="MDXCreateElement"},91044:(e,t,n)=>{n.r(t),n.d(t,{default:()=>l});var a=n(50959),r=n(45924);const o={tabItem:"tabItem_skN5"};function l(e){let{children:t,hidden:n,className:l}=e;return a.createElement("div",{role:"tabpanel",className:(0,r.Z)(o.tabItem,l),hidden:n},t)}},42181:(e,t,n)=>{n.d(t,{Z:()=>h});var a=n(28957),r=n(50959),o=n(45924),l=n(70562),s=n(94506),i=n(75814);const p={tabList:"tabList_Ifpf",tabItem:"tabItem_j1rW"};function u(e){let{className:t,block:n,selectedValue:s,selectValue:i,tabValues:u}=e;const d=[],{blockElementScrollPositionUntilNextRender:c}=(0,l.o5)(),h=e=>{const t=e.currentTarget,n=d.indexOf(t),a=u[n].value;a!==s&&(c(t),i(a))},m=e=>{var t;let n=null;switch(e.key){case"Enter":h(e);break;case"ArrowRight":{var a;const t=d.indexOf(e.currentTarget)+1;n=null!=(a=d[t])?a:d[0];break}case"ArrowLeft":{var r;const t=d.indexOf(e.currentTarget)-1;n=null!=(r=d[t])?r:d[d.length-1];break}}null==(t=n)||t.focus()};return r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.Z)("tabs",{"tabs--block":n},t)},u.map((e=>{let{value:t,label:n,attributes:l}=e;return r.createElement("li",(0,a.Z)({role:"tab",tabIndex:s===t?0:-1,"aria-selected":s===t,key:t,ref:e=>d.push(e),onKeyDown:m,onClick:h},l,{className:(0,o.Z)("tabs__item",p.tabItem,null==l?void 0:l.className,{"tabs__item--active":s===t})}),null!=n?n:t)})))}function d(e){let{lazy:t,children:n,selectedValue:a}=e;const o=(Array.isArray(n)?n:[n]).filter(Boolean);if(t){const e=o.find((e=>e.props.value===a));return e?(0,r.cloneElement)(e,{className:"margin-top--md"}):null}return r.createElement("div",{className:"margin-top--md"},o.map(((e,t)=>(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==a}))))}function c(e){const t=(0,s.Y)(e);return r.createElement("div",{className:(0,o.Z)("tabs-container",p.tabList)},r.createElement(u,(0,a.Z)({},e,t)),r.createElement(d,(0,a.Z)({},e,t)))}function h(e){const t=(0,i.default)();return r.createElement(c,(0,a.Z)({key:String(t)},e))}},94506:(e,t,n)=>{n.d(t,{Y:()=>c});var a=n(50959),r=n(28903),o=n(94150),l=n(40828),s=n(29163);function i(e){return function(e){var t,n;return null!=(t=null==(n=a.Children.map(e,(e=>{if(!e||(0,a.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})))?void 0:n.filter(Boolean))?t:[]}(e).map((e=>{let{props:{value:t,label:n,attributes:a,default:r}}=e;return{value:t,label:n,attributes:a,default:r}}))}function p(e){const{values:t,children:n}=e;return(0,a.useMemo)((()=>{const e=null!=t?t:i(n);return function(e){const t=(0,l.l)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,n])}function u(e){let{value:t,tabValues:n}=e;return n.some((e=>e.value===t))}function d(e){let{queryString:t=!1,groupId:n}=e;const l=(0,r.k6)(),s=function(e){let{queryString:t=!1,groupId:n}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return null!=n?n:null}({queryString:t,groupId:n});return[(0,o._X)(s),(0,a.useCallback)((e=>{if(!s)return;const t=new URLSearchParams(l.location.search);t.set(s,e),l.replace({...l.location,search:t.toString()})}),[s,l])]}function c(e){const{defaultValue:t,queryString:n=!1,groupId:r}=e,o=p(e),[l,i]=(0,a.useState)((()=>function(e){var t;let{defaultValue:n,tabValues:a}=e;if(0===a.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!u({value:n,tabValues:a}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${a.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const r=null!=(t=a.find((e=>e.default)))?t:a[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:t,tabValues:o}))),[c,h]=d({queryString:n,groupId:r}),[m,f]=function(e){let{groupId:t}=e;const n=function(e){return e?`docusaurus.tab.${e}`:null}(t),[r,o]=(0,s.Nk)(n);return[r,(0,a.useCallback)((e=>{n&&o.set(e)}),[n,o])]}({groupId:r}),k=(()=>{const e=null!=c?c:m;return u({value:e,tabValues:o})?e:null})();(0,a.useLayoutEffect)((()=>{k&&i(k)}),[k]);return{selectedValue:l,selectValue:(0,a.useCallback)((e=>{if(!u({value:e,tabValues:o}))throw new Error(`Can't select invalid tab value=${e}`);i(e),h(e),f(e)}),[h,f,o]),tabValues:o}}},92296:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>i,default:()=>m,frontMatter:()=>s,metadata:()=>p,toc:()=>d});var a=n(28957),r=(n(50959),n(17942)),o=n(42181),l=n(91044);const s={},i="@ones-op/fetch",p={unversionedId:"reference/packages/fetch/fetch",id:"reference/packages/fetch/fetch",title:"@ones-op/fetch",description:"We provide a set of interface request libraries that support both front and back-end interfaces, which can help you request within a plugin: ONES interfaces, plugin interfaces, or external interfaces.",source:"@site/docs/reference/packages/fetch/fetch.md",sourceDirName:"reference/packages/fetch",slug:"/reference/packages/fetch/",permalink:"/open-docs/docs/reference/packages/fetch/",draft:!1,tags:[],version:"current",lastUpdatedBy:"liupengfei",lastUpdatedAt:1703230356,formattedLastUpdatedAt:"Dec 22, 2023",frontMatter:{},sidebar:"reference",previous:{title:"Changelog",permalink:"/open-docs/docs/reference/packages/node-error/changelog"},next:{title:"Changelog",permalink:"/open-docs/docs/reference/packages/fetch/changelog"}},u={},d=[{value:"Requirements",id:"requirements",level:2},{value:"Installation",id:"installation",level:2},{value:"Usage",id:"usage",level:2},{value:"Index",id:"index",level:2},{value:"APIs",id:"apis",level:2},{value:"OPFetch",id:"OPFetch",level:3},{value:"Fetch",id:"Fetch",level:3},{value:"Interceptors",id:"interceptors",level:4},{value:"isFetchError",id:"isFetchError",level:3},{value:"Params",id:"params",level:4},{value:"Returns",id:"returns",level:4},{value:"Types",id:"types",level:4},{value:"isOPError(Browser)",id:"isOPError",level:3},{value:"Params",id:"params-1",level:4},{value:"Returns",id:"returns-1",level:4},{value:"Types",id:"types-1",level:4},{value:"OPErrorHandler(Browser)",id:"OPErrorHandler",level:3},{value:"Params",id:"params-2",level:4},{value:"Types",id:"types-2",level:4},{value:"&lt;Instance&gt;",id:"Instance",level:3},{value:"Types",id:"types-3",level:4},{value:"&lt;Instance&gt;.create",id:"instancecreate",level:4},{value:"Params",id:"params-3",level:5},{value:"Returns",id:"returns-2",level:5},{value:"Types",id:"types-4",level:5},{value:"Examples",id:"examples",level:5},{value:"&lt;Instance&gt;.&lt;other&gt;",id:"instanceother",level:4},{value:"Types",id:"types-5",level:2},{value:"FetchError",id:"Types.FetchError",level:3},{value:"OPErrorData",id:"Types.OPErrorData",level:3},{value:"FetchInheritableInterceptors",id:"fetchinheritableinterceptors",level:3},{value:"FetchConfig",id:"fetchconfig",level:3},{value:"FAQ",id:"faq",level:2},{value:"Why it still popup a toast without node-error when catch a interface&#39;s error?",id:"why-it-still-popup-a-toast-without-node-error-when-catch-a-interfaces-error",level:3},{value:"How do I request an interface across plugins?",id:"how-do-i-request-an-interface-across-plugins",level:3}],c={toc:d},h="wrapper";function m(e){let{components:t,...n}=e;return(0,r.kt)(h,(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"ones-opfetch"},"@ones-op/fetch"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://npm.partner.ones.cn/package/@ones-op/fetch"},(0,r.kt)("img",{parentName:"a",src:"https://npm.partner.ones.cn/badge/v/@ones-op/fetch.svg",alt:null}))),(0,r.kt)("p",null,"We provide a set of interface request libraries that support both front and back-end interfaces, which can help you request within a plugin: ONES interfaces, plugin interfaces, or external interfaces."),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},'Since the "@ones-op/fetch" 0.6.0 version, the "@ones-op/fetch" library integrates "@ones-op/node-fetch" functionality by means of an adapter, so you can use the same APIs in the plugin backend as in the frontend.')),(0,r.kt)("h2",{id:"requirements"},"Requirements"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"@ones-op/fetch")))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"v0.6.0+")))),(0,r.kt)("h2",{id:"installation"},"Installation"),(0,r.kt)("p",null,"Install the package in the plugin ",(0,r.kt)("inlineCode",{parentName:"p"},"/web")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"/backend")," directory using the following command:"),(0,r.kt)(o.Z,{groupId:"npm2yarn",mdxType:"Tabs"},(0,r.kt)(l.default,{value:"npm",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"npm install @ones-op/fetch\n"))),(0,r.kt)(l.default,{value:"yarn",label:"Yarn",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"yarn add @ones-op/fetch\n"))),(0,r.kt)(l.default,{value:"pnpm",label:"pnpm",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"pnpm add @ones-op/fetch\n")))),(0,r.kt)("h2",{id:"usage"},"Usage"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Backend:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="backend/index.ts"',title:'"backend/index.ts"'},"import { OPFetch } from '@ones-op/fetch'\n\n// fetch ONES API in the plugin backend\nOPFetch('/users/me').then((response) => {\n  console.log('me: ', response.data)\n})\n\n// fetch ONES WIKI API in the plugin backend via the `/wiki` prefix\nOPFetch(`/wiki/team/${teamUUID}/space/${spaceUUID}/page/${pageUUID}`).then((response) => {\n  console.log('page: ', response.data)\n})\n\n// fetch external API in the plugin backend\nOPFetch('https://jsonplaceholder.typicode.com/todos/1').then((response) => {\n  console.log('todo: ', response.data)\n})\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Frontend:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="web/index.tsx"',title:'"web/index.tsx"'},"import { OPFetch } from '@ones-op/fetch'\n\nconst fetchProject = OPFetch.create({ baseURL: '/project/api/project' })\n\n// fetch ONES API in the plugin frontend\nfetchProject('/users/me').then((response) => {\n  console.log('me: ', response.data)\n})\n\n// fetch plugin API in the plugin frontend\nfetchProject('/hello').then((response) => {\n  console.log('hello: ', response.data)\n})\n\n// fetch external API in the plugin frontend\nOPFetch('https://jsonplaceholder.typicode.com/todos/1').then((response) => {\n  console.log('todo: ', response.data)\n})\n")),(0,r.kt)("h2",{id:"index"},"Index"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"API"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Limitations"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#OPFetch"},"OPFetch")),(0,r.kt)("td",{parentName:"tr",align:null},"Default ONES and plugin request instance"),(0,r.kt)("td",{parentName:"tr",align:null},"Unrestricted")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#Fetch"},"Fetch")),(0,r.kt)("td",{parentName:"tr",align:null},"Default request instance"),(0,r.kt)("td",{parentName:"tr",align:null},"Unrestricted")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#isFetchError"},"isFetchError")),(0,r.kt)("td",{parentName:"tr",align:null},"Determine whether a request is in error"),(0,r.kt)("td",{parentName:"tr",align:null},"Unrestricted")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#isOPError"},"isOPError")),(0,r.kt)("td",{parentName:"tr",align:null},"Determine whether it is an open platform or plugin interface error"),(0,r.kt)("td",{parentName:"tr",align:null},"Browser only")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#OPErrorHandler"},"OPErrorHandler")),(0,r.kt)("td",{parentName:"tr",align:null},"Open platform or plugin standard interface error processing method"),(0,r.kt)("td",{parentName:"tr",align:null},"Browser only")))),(0,r.kt)("h2",{id:"apis"},"APIs"),(0,r.kt)("h3",{id:"OPFetch"},"OPFetch"),(0,r.kt)("p",null,"The default request instance of ",(0,r.kt)("strong",{parentName:"p"},"ONES standard and plugin"),", inherits from ",(0,r.kt)("a",{parentName:"p",href:"#Fetch"},(0,r.kt)("inlineCode",{parentName:"a"},"Fetch")),", and adds additional configurations related to ONES and plugin. Please refer to the ",(0,r.kt)("a",{parentName:"p",href:"#Instance"},"instance method")," for use, This section is only a supplementary introduction."),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"OPFetch")," instance built-in related configuration, it is inherited by the instance ",(0,r.kt)("inlineCode",{parentName:"p"},"create")," method."),(0,r.kt)("details",null,(0,r.kt)("summary",null,"Built-in internal message queue request ONES interface method adapter (backend)"),(0,r.kt)("p",null,"We have integrated the internal message queue request ONES interface method (formerly the ",(0,r.kt)("inlineCode",{parentName:"p"},"fetchONES"),' method of "@ones-op/node-fetch") into ',(0,r.kt)("inlineCode",{parentName:"p"},"OPFetch")," by way of an adapter. If your request parameter is a relative path, an internal message queue request will request the ONES interface for you instead of ",(0,r.kt)("inlineCode",{parentName:"p"},"http"),".")),(0,r.kt)("details",null,(0,r.kt)("summary",null,"Built-in request headers required by plugins (browser)"),(0,r.kt)("p",null,"We have built-in request headers in ",(0,r.kt)("inlineCode",{parentName:"p"},"OPFetch")," that are necessary for requesting the current plugin, and in general you don't need to be concerned about request headers here when requesting the ONES interface and the current plugin's backend interface."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Key"),(0,r.kt)("th",{parentName:"tr",align:null},"Value"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"ones-check-id"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"teamUUID")),(0,r.kt)("td",{parentName:"tr",align:null},"Current team UUID")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"ones-check-point"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"'team'")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"ones-check-id")," type, fixed value ",(0,r.kt)("inlineCode",{parentName:"td"},"'team'"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"ones-plugin-id"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"instanceUUID")),(0,r.kt)("td",{parentName:"tr",align:null},"Current plugin instance UUID"))))),(0,r.kt)("h3",{id:"Fetch"},"Fetch"),(0,r.kt)("p",null,"Default request instance\uff0conly common configurations and interceptors that are ",(0,r.kt)("strong",{parentName:"p"},"business irrelevant")," are built in. You can use it directly or create multiple request instances based on it. Please refer to the ",(0,r.kt)("a",{parentName:"p",href:"#Instance"},"instance method")," for use, This section is only a supplementary introduction."),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Fetch")," instance built-in related configuration, it is inherited by the instance ",(0,r.kt)("inlineCode",{parentName:"p"},"create")," method."),(0,r.kt)("h4",{id:"interceptors"},"Interceptors"),(0,r.kt)("p",null,"Built-in inheritable interceptors, it is inherited by the instance ",(0,r.kt)("inlineCode",{parentName:"p"},"create")," method."),(0,r.kt)("details",null,(0,r.kt)("summary",null,"GET request parameter alias"),(0,r.kt)("p",null,"In normal businesses, we don't think there should be cases where a ",(0,r.kt)("inlineCode",{parentName:"p"},"GET")," request needs a ",(0,r.kt)("inlineCode",{parentName:"p"},"body"),", so we've built in a ",(0,r.kt)("inlineCode",{parentName:"p"},"ParamsAlias")," inheritable interceptor for you."),(0,r.kt)("p",null,"When ",(0,r.kt)("inlineCode",{parentName:"p"},"GET")," request, if ",(0,r.kt)("inlineCode",{parentName:"p"},"params")," is empty, it will try to take ",(0,r.kt)("inlineCode",{parentName:"p"},"data")," as ",(0,r.kt)("inlineCode",{parentName:"p"},"params"),", namely: ",(0,r.kt)("inlineCode",{parentName:"p"},"params: params || data"),"."),(0,r.kt)("p",null,"Examples:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx"},"// fetch: api/project/users/me?timestamp=1671015013733\nFetch('api/project/users/me', { method: 'GET', data: { timestamp: Date.now() } })\n"))),(0,r.kt)("h3",{id:"isFetchError"},"isFetchError"),(0,r.kt)("p",null,"Determine if the request has an error."),(0,r.kt)("h4",{id:"params"},"Params"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Required"),(0,r.kt)("th",{parentName:"tr",align:null},"Default"),(0,r.kt)("th",{parentName:"tr",align:null}))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"error"),(0,r.kt)("td",{parentName:"tr",align:null},"Error captured by the request"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"unknown")),(0,r.kt)("td",{parentName:"tr",align:null},"yes"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null})))),(0,r.kt)("h4",{id:"returns"},"Returns"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Whether the request is in error"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Boolean"))))),(0,r.kt)("h4",{id:"types"},"Types"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"function isFetchError<T = any, D = any>(error: any): error is FetchError<T, D>\n")),(0,r.kt)("h3",{id:"isOPError"},"isOPError(Browser)"),(0,r.kt)("p",null,"Based on the data of the error, determine whether it is a standard interface error of the Open\nPlatform or plugin."),(0,r.kt)("p",null,"Reference for judging: ",(0,r.kt)("inlineCode",{parentName:"p"},"/^(plugin|platform)\\./i.test(error?.response?.data?.model ?? response.model)"),"\u3002"),(0,r.kt)("h4",{id:"params-1"},"Params"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Params"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Required"),(0,r.kt)("th",{parentName:"tr",align:null},"Default"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"fetchError/fetchErrorResponse"),(0,r.kt)("td",{parentName:"tr",align:null},"Errors (or data) returned by the interface"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"FetchError"),"/",(0,r.kt)("a",{parentName:"td",href:"#Types.OPErrorData"},(0,r.kt)("inlineCode",{parentName:"a"},"OPErrorData"))),(0,r.kt)("td",{parentName:"tr",align:null},"Y"),(0,r.kt)("td",{parentName:"tr",align:null})))),(0,r.kt)("h4",{id:"returns-1"},"Returns"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Is it a standard interface error for an open platform or plugin"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Boolean"))))),(0,r.kt)("h4",{id:"types-1"},"Types"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"function isOPError(error: FetchError<{ model?: string }> | { model?: string }): boolean\n")),(0,r.kt)("h3",{id:"OPErrorHandler"},"OPErrorHandler(Browser)"),(0,r.kt)("p",null,"Open Platform or plugin interface error standard handling method."),(0,r.kt)("p",null,"Based on the content of the ",(0,r.kt)("inlineCode",{parentName:"p"},"type")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"reason")," of the standard error data, ",(0,r.kt)("inlineCode",{parentName:"p"},"toast")," prompt."),(0,r.kt)("h4",{id:"params-2"},"Params"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Params"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Required"),(0,r.kt)("th",{parentName:"tr",align:null},"Default"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"fetchError/fetchErrorResponse"),(0,r.kt)("td",{parentName:"tr",align:null},"Errors (or data) returned by the interface"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"FetchError"),"/",(0,r.kt)("a",{parentName:"td",href:"#Types.OPErrorData"},(0,r.kt)("inlineCode",{parentName:"a"},"OPErrorData"))),(0,r.kt)("td",{parentName:"tr",align:null},"Y"),(0,r.kt)("td",{parentName:"tr",align:null})))),(0,r.kt)("h4",{id:"types-2"},"Types"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"function OPErrorHandler(response: OPErrorData) => void\n")),(0,r.kt)("h3",{id:"Instance"},"<Instance",">"),(0,r.kt)("p",null,"Request instance method introduction, not the actual export API."),(0,r.kt)("p",null,"Each instance can be called directly as a method, and the attributes mounted on the instance can be called."),(0,r.kt)("h4",{id:"types-3"},"Types"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx"},"interface FetchInstance<E extends object = EmptyObj> extends AxiosInstance {\n  <T = any, R = FetchResponse<T>, D = any>(config: FetchConfig<D, E>): Promise<R>\n  <T = any, R = FetchResponse<T>, D = any>(url: string, config?: FetchConfig<D, E>): Promise<R>\n  create: FetchCreate<E>\n}\n")),(0,r.kt)("h4",{id:"instancecreate"},"<Instance",">",".create"),(0,r.kt)("p",null,"Create a request sub-instance, the second parameter supports the ",(0,r.kt)("strong",{parentName:"p"},"inherited")," interceptor. When this instance is based on this instance, the interceptor will be passed into the sub-instance."),(0,r.kt)("h5",{id:"params-3"},"Params"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Params"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Required"),(0,r.kt)("th",{parentName:"tr",align:null},"Default"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"config"),(0,r.kt)("td",{parentName:"tr",align:null},"Request configuration"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#fetchconfig"},(0,r.kt)("inlineCode",{parentName:"a"},"FetchConfig"))),(0,r.kt)("td",{parentName:"tr",align:null},"N"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"inheritableInterceptors"),(0,r.kt)("td",{parentName:"tr",align:null},"Inherited interceptors"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#fetchinheritableinterceptors"},(0,r.kt)("inlineCode",{parentName:"a"},"FetchInheritableInterceptors"))),(0,r.kt)("td",{parentName:"tr",align:null},"N"),(0,r.kt)("td",{parentName:"tr",align:null})))),(0,r.kt)("h5",{id:"returns-2"},"Returns"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"New Request instance"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#Instance"},(0,r.kt)("inlineCode",{parentName:"a"},"FetchInstance")))))),(0,r.kt)("h5",{id:"types-4"},"Types"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx"},"interface FetchCreate<E extends object = EmptyObj> {\n  (\n    config?: FetchConfig<any, E>,\n    inheritableInterceptors?: FetchInheritableInterceptors<E>,\n  ): FetchInstance<E>\n}\n")),(0,r.kt)("h5",{id:"examples"},"Examples"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"import { OPFetch } from '@ones-op/fetch'\n\nconst config = { baseURL: 'https://some-domain.com/api' }\n\nconst inheritableInterceptors = {\n  // request inheritable interceptor\n  request: [\n    [\n      function (config, instance) {\n        // Do something before request is sent\n        return config\n      },\n      function (error, instance) {\n        // Do something with request error\n        return Promise.reject(error)\n      },\n    ],\n    // [function (config) { return config }]\n    // [, function (error) { return Promise.reject(error) }]\n  ],\n  // response inheritable interceptor\n  response: [\n    [\n      function (response, instance) {\n        // Any status code that lie within the range of 2xx cause this function to trigger\n        // Do something with response data\n        return response\n      },\n      function (error, instance) {\n        // Any status codes that falls outside the range of 2xx cause this function to trigger\n        // Do something with response error\n        return Promise.reject(error)\n      },\n    ],\n  ],\n}\n\nconst request = OPFetch.create(config, inheritableInterceptors)\n")),(0,r.kt)("h4",{id:"instanceother"},"<Instance",">",".<other",">"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"@ones-op/fetch")," is ultimately inherited from the ",(0,r.kt)("a",{parentName:"p",href:"https://axios-http.com/"},"axios")," library. The remaining APIs that have not been listed do not involve or affect. You can directly refer to the ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/axios/axios/tree/v1.x#axios-api"},"axios")," reference version of the API documentation."),(0,r.kt)("h2",{id:"types-5"},"Types"),(0,r.kt)("h3",{id:"Types.FetchError"},"FetchError"),(0,r.kt)("p",null,"Fetch Library Request Error Type."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx"},"class FetchError<T = unknown, D = any> extends Error {\n  config?: FetchRequestConfig<D>\n  code?: string\n  request?: any\n  response?: FetchResponse<T, D>\n  status?: number\n  cause?: Error\n}\n")),(0,r.kt)("h3",{id:"Types.OPErrorData"},"OPErrorData"),(0,r.kt)("p",null,"Definition of the type of error types of ONES Open Platform and plugin standard."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx"},"interface OPErrorData {\n  model: string\n  reason: string\n  type: 'error' | 'warning' | 'info'\n  closable?: boolean\n}\n")),(0,r.kt)("h3",{id:"fetchinheritableinterceptors"},"FetchInheritableInterceptors"),(0,r.kt)("p",null,"The inherited interceptor is slightly different from ordinary interceptors. It will act on the current request instance and the sub-instance created by the current request instance."),(0,r.kt)("p",null,"Because the request instance is not fixed, we pass the current instance object in the second parameter of the interceptor method to facilitate your processing of some operations related to the request instance."),(0,r.kt)("p",null,"In order to facilitate distinction, the interceptor that can be inherited can only be passed through the second parameter of the ",(0,r.kt)("inlineCode",{parentName:"p"},"create")," method, and the interceptor that the instance is added later will not be inherited."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"interface FetchInheritableInterceptors<E extends object = EmptyObj> {\n  request?: FetchInheritableInterceptor<FetchConfig<any, E>>[]\n  response?: FetchInheritableInterceptor<FetchConfig<any, E>>[]\n}\n\ntype FetchInheritableInterceptor<T = FetchConfig, D = any> =\n  | [(fulfilledValue: T, instance: FetchInstance) => T]\n  | [\n      (fulfilledValue: T, instance: FetchInstance) => T,\n      (rejectedError: D, instance: FetchInstance) => D,\n    ]\n")),(0,r.kt)("h3",{id:"fetchconfig"},"FetchConfig"),(0,r.kt)("p",null,"These are the available config options for making requests. Only the ",(0,r.kt)("inlineCode",{parentName:"p"},"url")," is required. Requests will default to ",(0,r.kt)("inlineCode",{parentName:"p"},"GET")," if ",(0,r.kt)("inlineCode",{parentName:"p"},"method")," is not specified."),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"Plugin backend internal message queue request ONES interface method adapter hereinafter: Plugin Node Adapter. see ",(0,r.kt)("a",{parentName:"p",href:"#OPFetch"},"OPFetch")," for a detailed description Introduction.")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"{\n  // `url` is the server URL that will be used for the request\n  url: '/user',\n\n  // `method` is the request method to be used when making the request\n  method: 'get', // default\n\n  // `baseURL` will be prepended to `url` unless `url` is absolute.\n  // It can be convenient to set `baseURL` for an instance of axios to pass relative URLs\n  // to methods of that instance.\n  baseURL: 'https://some-domain.com/api',\n\n  // Team `uuid`, required for organization-level plugins.\n  // Plugin Node Adapter only\n  teamUUID: 'yqwqqqwq',\n\n  // Whether to use the plugin superuser\n  // Plugin Node Adapter only\n  root: true, // default\n\n  // `autoErrorToast` indicates whether or not popup a window to show error info which request plugin's interface\n  // When using it, the plug-in backend needs to be used in conjunction with the corresponding `node-error` sdk\n  // `node-error` can refer from https://developer.ones.com/docs/reference/packages/node-error/\n  // It can deal with the plugin's interface's error automatically\n  // Browser `OPFetch` only\n  autoErrorToast: true, //default\n\n  // `transformRequest` allows changes to the request data before it is sent to the server\n  // This is only applicable for request methods 'PUT', 'POST', 'PATCH' and 'DELETE'\n  // The last function in the array must return a string or an instance of Buffer, ArrayBuffer,\n  // FormData or Stream\n  // You may modify the headers object.\n  transformRequest: [function (data, headers) {\n    // Do whatever you want to transform the data\n\n    return data;\n  }],\n\n  // `transformResponse` allows changes to the response data to be made before\n  // it is passed to then/catch\n  transformResponse: [function (data) {\n    // Do whatever you want to transform the data\n\n    return data;\n  }],\n\n  // `headers` are custom headers to be sent\n  headers: {'X-Requested-With': 'XMLHttpRequest'},\n\n  // `params` are the URL parameters to be sent with the request\n  // Must be a plain object or a URLSearchParams object\n  // NOTE: params that are null or undefined are not rendered in the URL.\n  params: {\n    ID: 12345\n  },\n\n  // `paramsSerializer` is an optional function in charge of serializing `params`\n  // (e.g. https://www.npmjs.com/package/qs, http://api.jquery.com/jquery.param/)\n  paramsSerializer: function (params) {\n    return Qs.stringify(params, {arrayFormat: 'brackets'})\n  },\n\n  // \u26a0\ufe0f if the `params` is undefined and the method is 'GET'\n  // \u26a0\ufe0f the `data` will be used as an alias for the `params`\n\n  // `data` is the data to be sent as the request body\n  // Only applicable for request methods 'PUT', 'POST', 'DELETE', and 'PATCH'\n  // When no `transformRequest` is set, must be of one of the following types:\n  // - string, ArrayBuffer, ArrayBufferView, URLSearchParams\n  // - `GET` method only: plain object, string, plain object\n  // - Browser only: FormData, File, Blob\n  // - Node only: plain object, Stream, Buffer\n  // - Plugin Node Adapter: Buffer\n  data: {\n    firstName: 'Fred'\n  },\n\n  // `timeout` specifies the number of milliseconds before the request times out.\n  // If the request takes longer than `timeout`, the request will be aborted.\n  timeout: 1000, // default is `0` (no timeout)\n\n  // `withCredentials` indicates whether or not cross-site Access-Control requests\n  // should be made using credentials\n  // Browser only\n  withCredentials: false, // default\n\n  // `adapter` allows custom handling of requests which makes testing easier.\n  // Return a promise and supply a valid response (see lib/adapters/README.md).\n  adapter: function (config) {\n    /* ... */\n  },\n\n  // `auth` indicates that HTTP Basic auth should be used, and supplies credentials.\n  // This will set an `Authorization` header, overwriting any existing\n  // `Authorization` custom headers you have set using `headers`.\n  // Please note that only HTTP Basic auth is configurable through this parameter.\n  // For Bearer tokens and such, use `Authorization` custom headers instead.\n  // Unsupported Plugin Node Adapter\n  auth: {\n    username: 'janedoe',\n    password: 's00pers3cret'\n  },\n\n  // `responseType` indicates the type of data that the server will respond with\n  // options are: 'arraybuffer', 'json', 'text'\n  // browser only: 'document', 'stream', 'blob'\n  // Node.js only: 'document', 'stream'\n  responseType: 'json', // default\n\n  // `responseEncoding` indicates encoding to use for decoding responses (Node.js only)\n  // Note: Ignored for `responseType` of 'stream' or client-side requests\n  responseEncoding: 'utf8', // default\n\n  // `xsrfCookieName` is the name of the cookie to use as a value for xsrf token\n  // Unsupported Plugin Node Adapter\n  xsrfCookieName: 'XSRF-TOKEN', // default\n\n  // `xsrfHeaderName` is the name of the http header that carries the xsrf token value\n  // Unsupported Plugin Node Adapter\n  xsrfHeaderName: 'X-XSRF-TOKEN', // default\n\n  // `onUploadProgress` allows handling of progress events for uploads\n  // browser only\n  onUploadProgress: function (progressEvent) {\n    // Do whatever you want with the native progress event\n  },\n\n  // `onDownloadProgress` allows handling of progress events for downloads\n  // browser only\n  onDownloadProgress: function (progressEvent) {\n    // Do whatever you want with the native progress event\n  },\n\n  // `maxContentLength` defines the max size of the http response content in bytes allowed in Node.js\n  maxContentLength: 2000,\n\n  // `maxBodyLength` (Node and Plugin Node Adapter only option) defines the max size of the http request content in bytes allowed\n  maxBodyLength: 2000,\n\n  // `validateStatus` defines whether to resolve or reject the promise for a given\n  // HTTP response status code. If `validateStatus` returns `true` (or is set to `null`\n  // or `undefined`), the promise will be resolved; otherwise, the promise will be\n  // rejected.\n  validateStatus: function (status) {\n    return status >= 200 && status < 300; // default\n  },\n\n  // `maxRedirects` defines the maximum number of redirects to follow in node.js.\n  // If set to 0, no redirects will be followed.\n  // Node.js only\n  maxRedirects: 5, // default\n\n  // `socketPath` defines a UNIX Socket to be used in node.js.\n  // e.g. '/var/run/docker.sock' to send requests to the docker daemon.\n  // Only either `socketPath` or `proxy` can be specified.\n  // If both are specified, `socketPath` is used.\n  socketPath: null, // default\n\n  // `httpAgent` and `httpsAgent` define a custom agent to be used when performing http\n  // and https requests, respectively, in node.js. This allows options to be added like\n  // `keepAlive` that are not enabled by default.\n  // Node.js only\n  httpAgent: new http.Agent({ keepAlive: true }),\n  httpsAgent: new https.Agent({ keepAlive: true }),\n\n  // `proxy` defines the hostname, port, and protocol of the proxy server.\n  // You can also define your proxy using the conventional `http_proxy` and\n  // `https_proxy` environment variables. If you are using environment variables\n  // for your proxy configuration, you can also define a `no_proxy` environment\n  // variable as a comma-separated list of domains that should not be proxied.\n  // Use `false` to disable proxies, ignoring environment variables.\n  // `auth` indicates that HTTP Basic auth should be used to connect to the proxy, and\n  // supplies credentials.\n  // This will set an `Proxy-Authorization` header, overwriting any existing\n  // `Proxy-Authorization` custom headers you have set using `headers`.\n  // If the proxy server uses HTTPS, then you must set the protocol to `https`.\n  // Node.js only\n  proxy: {\n    protocol: 'https',\n    host: '127.0.0.1',\n    port: 9000,\n    auth: {\n      username: 'mikeymike',\n      password: 'rapunz3l'\n    }\n  },\n\n  // `cancelToken` specifies a cancel token that can be used to cancel the request\n  // (see Cancellation section below for details)\n  cancelToken: new CancelToken(function (cancel) {\n  }),\n\n  // `decompress` indicates whether or not the response body should be decompressed\n  // automatically. If set to `true` will also remove the 'content-encoding' header\n  // from the responses objects of all decompressed responses\n  // - Node only (XHR cannot turn off decompression)\n  decompress: true // default\n\n}\n")),(0,r.kt)("h2",{id:"faq"},"FAQ"),(0,r.kt)("h3",{id:"why-it-still-popup-a-toast-without-node-error-when-catch-a-interfaces-error"},"Why it still popup a toast without ",(0,r.kt)("a",{parentName:"h3",href:"../../packages/node-error"},"node-error")," when catch a interface's error?"),(0,r.kt)("p",null,"When autoErrorToast set to be true, we will judge Whether to popup toast by calling isOPError method, so if you custom a response can pass the check of isOPError, it also works out."),(0,r.kt)("h3",{id:"how-do-i-request-an-interface-across-plugins"},"How do I request an interface across plugins?"),(0,r.kt)("p",null,"First of all, we ",(0,r.kt)("strong",{parentName:"p"},"strongly don't recommend")," you do this, you should rather consider merging two plugins into one."),(0,r.kt)("p",null,"However, if you have a reason why you have to do this. In the plugin front-end, you can manually pass in the target plugin's ",(0,r.kt)("inlineCode",{parentName:"p"},"ones-plugin-id")," request header to make the request; in the plugin backend, you'll need to pass in an absolute path to the request URL, which ",(0,r.kt)("inlineCode",{parentName:"p"},"OPFetch")," / ",(0,r.kt)("inlineCode",{parentName:"p"},"Fetch")," will internally request for you via the ",(0,r.kt)("inlineCode",{parentName:"p"},"http")," module (note that you'll need to pass in all of the plugin's required ",(0,r.kt)("a",{parentName:"p",href:"#OPFetch"},"request headers"),")."))}m.isMDXComponent=!0}}]);