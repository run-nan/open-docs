"use strict";(self.webpackChunkopen_docs=self.webpackChunkopen_docs||[]).push([[30439],{3905:(e,t,n)=>{n.d(t,{Zo:()=>s,kt:()=>h});var o=n(67294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,o,i=function(e,t){if(null==e)return{};var n,o,i={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var p=o.createContext({}),c=function(e){var t=o.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},s=function(e){var t=c(e.components);return o.createElement(p.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},u=o.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,p=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),u=c(n),h=i,m=u["".concat(p,".").concat(h)]||u[h]||d[h]||r;return n?o.createElement(m,a(a({ref:t},s),{},{components:n})):o.createElement(m,a({ref:t},s))}));function h(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,a=new Array(r);a[0]=u;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l.mdxType="string"==typeof e?e:i,a[1]=l;for(var c=2;c<r;c++)a[c]=n[c];return o.createElement.apply(null,a)}return o.createElement.apply(null,n)}u.displayName="MDXCreateElement"},91677:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>a,default:()=>d,frontMatter:()=>r,metadata:()=>l,toc:()=>c});var o=n(87462),i=(n(67294),n(3905));const r={title:"Development",sidebar_position:1},a=void 0,l={unversionedId:"faq/development/development",id:"version-1.x/faq/development/development",title:"Development",description:"When debugging the plugin locally, there is no start connection prompt",source:"@site/versioned_docs/version-1.x/faq/development/development.md",sourceDirName:"faq/development",slug:"/faq/development/",permalink:"/docs/faq/development/",draft:!1,tags:[],version:"1.x",lastUpdatedBy:"liupengfei",lastUpdatedAt:1690791943,formattedLastUpdatedAt:"Jul 31, 2023",sidebarPosition:1,frontMatter:{title:"Development",sidebar_position:1},sidebar:"faq",next:{title:"Dependence",permalink:"/docs/faq/environment/dependence"}},p={},c=[{value:"When debugging the plugin locally, there is no start connection prompt",id:"when-debugging-the-plugin-locally-there-is-no-start-connection-prompt",level:2},{value:"Overview",id:"overview",level:3},{value:"Solution",id:"solution",level:3},{value:"When the plugin is debugged locally, the connection timeout is prompted.",id:"when-the-plugin-is-debugged-locally-the-connection-timeout-is-prompted",level:2},{value:"Overview",id:"overview-1",level:3},{value:"Solution",id:"solution-1",level:3},{value:"After adding the frontend slot or backend capability, the capacity configuration is not hot updated.",id:"after-adding-the-frontend-slot-or-backend-capability-the-capacity-configuration-is-not-hot-updated",level:2},{value:"Overview",id:"overview-2",level:3},{value:"Solution",id:"solution-2",level:3}],s={toc:c};function d(e){let{components:t,...n}=e;return(0,i.kt)("wrapper",(0,o.Z)({},s,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h2",{id:"when-debugging-the-plugin-locally-there-is-no-start-connection-prompt"},"When debugging the plugin locally, there is no start connection prompt"),(0,i.kt)("h3",{id:"overview"},"Overview"),(0,i.kt)("p",null,"When debugging locally, execute the ",(0,i.kt)("inlineCode",{parentName:"p"},"npx op invoke run")," console to print ",(0,i.kt)("strong",{parentName:"p"},"start connection!"),", and there are no other prompts to print, which may be caused by incorrect binaries in your plugin project."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"\u279c npx op invoke run\n  \u2714 Validating command options\n  \u2714 Validating config/local.yaml fields\n  \u2714 Building plugin project Back-End dist files\n  \u2714 Initializing the plugin project front-end development server\n  \u2714 Initializing the node-host params\n\u2714 Local debug parameters successfully initialized with target lifecycle: 'run'\nNow starting dev server and node-host...\n<i> [webpack-dev-server] Project is running at:\n<i> [webpack-dev-server] Loopback: http://localhost:3000/\n<i> [webpack-dev-server] On Your Network (IPv4): http://10.15.3.242:3000/\n<i> [webpack-dev-server] On Your Network (IPv6): http://[fe80::1]:3000/\n<i> [webpack-dev-server] Content not from webpack is served from '/Users/dev/ONES/open-platform/public' directory\nStart the connection!\n")),(0,i.kt)("p",null,"Normally, it will print as above to ",(0,i.kt)("strong",{parentName:"p"},"Start the connection\uff01"),"."),(0,i.kt)("h3",{id:"solution"},"Solution"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"The plugin project is copied from other operating systems of different CPU architectures (such as Windows to Mac). The copy contains node_modules files. When you use the command ",(0,i.kt)("inlineCode",{parentName:"p"},"npx op invoke run"),", the plugin project will be compiled. Due to the different CPU architecture and the different binary files dependent on execution, the debugging process will be affected and no relevant plugin information will be returned.")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"If the plugin project is generated by an operating system with the same CPU architecture, use ",(0,i.kt)("inlineCode",{parentName:"p"},"ones envinfo")," or node --\x3e process.arch to check the node version of the compiled plugin project and see if the node version is the same on different development and debugging environments."))),(0,i.kt)("h2",{id:"when-the-plugin-is-debugged-locally-the-connection-timeout-is-prompted"},"When the plugin is debugged locally, the connection timeout is prompted."),(0,i.kt)("h3",{id:"overview-1"},"Overview"),(0,i.kt)("p",null,"When debugging the plugin locally, the console shows that the connection timeout has been disconnected, and you need to check the status of the remote service."),(0,i.kt)("h3",{id:"solution-1"},"Solution"),(0,i.kt)("p",null,"In the windows system, you can use the telnet command to listen to the URL corresponding to ",(0,i.kt)("inlineCode",{parentName:"p"},"platform.address")," configured in the local.yaml in the plugin project."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"telnet tcp://ip:port\n")),(0,i.kt)("p",null,"In the Mac system, you can use the nc command to listen to the URL corresponding to ",(0,i.kt)("inlineCode",{parentName:"p"},"platform.address")," configured in the local.yaml in the plugin project."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"nc -vz -w 2 ip port\n")),(0,i.kt)("h2",{id:"after-adding-the-frontend-slot-or-backend-capability-the-capacity-configuration-is-not-hot-updated"},"After adding the frontend slot or backend capability, the capacity configuration is not hot updated."),(0,i.kt)("h3",{id:"overview-2"},"Overview"),(0,i.kt)("p",null,"Each time a frontend slot or backend capability is added, the plugin.yaml file is modified. Whenever changes to plugin.yaml are involved, you need to clear the plugin information on the instance environment before reinstalling the plugin to the debugging environment. If the modification is ",(0,i.kt)("inlineCode",{parentName:"p"},"workspace/ plugin.sql"),", you can also follow the solution below."),(0,i.kt)("h3",{id:"solution-2"},"Solution"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Clear plugin information on the instance environment")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"npx op invoke clear\n")),(0,i.kt)("ol",{start:2},(0,i.kt)("li",{parentName:"ol"},"Reinstall the plugin to the debugging environment")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"npx op invoke run\n")))}d.isMDXComponent=!0}}]);